<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Path B: Capture Pipeline | SIREN Tech Guide</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root {
            --siren-red: #e63946;
            --siren-orange: #f77f00;
            --siren-gradient: linear-gradient(135deg, #e63946 0%, #f77f00 100%);
            --dark-bg: #0a0a0b;
            --card-bg: rgba(255, 255, 255, 0.03);
            --card-border: rgba(255, 255, 255, 0.08);
            --text-primary: #ffffff;
            --text-secondary: rgba(255, 255, 255, 0.6);
            --text-muted: rgba(255, 255, 255, 0.4);
        }
        body { font-family: 'Inter', sans-serif; background: var(--dark-bg); color: var(--text-primary); min-height: 100vh; line-height: 1.7; }
        .ambient-bg { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 0; }
        .ambient-orb { position: absolute; border-radius: 50%; filter: blur(100px); opacity: 0.2; }
        .orb-1 { width: 500px; height: 500px; background: var(--siren-red); top: -150px; right: -150px; }
        .orb-2 { width: 300px; height: 300px; background: var(--siren-orange); bottom: 20%; left: -100px; }
        .container { position: relative; z-index: 1; max-width: 900px; margin: 0 auto; padding: 40px 24px 80px; }
        .top-nav { display: flex; align-items: center; justify-content: space-between; margin-bottom: 60px; padding-bottom: 20px; border-bottom: 1px solid var(--card-border); }
        .back-link { display: flex; align-items: center; gap: 8px; color: var(--text-secondary); text-decoration: none; font-size: 14px; transition: color 0.3s ease; }
        .back-link:hover { color: var(--text-primary); }
        .back-link svg { width: 20px; height: 20px; }
        .nav-logo { font-size: 12px; font-weight: 600; letter-spacing: 2px; text-transform: uppercase; background: var(--siren-gradient); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .page-header { margin-bottom: 48px; }
        .path-badge { display: inline-flex; align-items: center; gap: 12px; margin-bottom: 20px; }
        .path-letter { width: 48px; height: 48px; background: var(--siren-gradient); border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 20px; font-weight: 700; }
        .path-label { font-size: 13px; font-weight: 600; letter-spacing: 2px; text-transform: uppercase; color: var(--siren-orange); }
        .page-title { font-size: clamp(32px, 5vw, 48px); font-weight: 700; margin-bottom: 16px; }
        .page-subtitle { font-size: 18px; color: var(--text-secondary); }
        .section { background: var(--card-bg); border: 1px solid var(--card-border); border-radius: 20px; padding: 36px; margin-bottom: 32px; backdrop-filter: blur(20px); }
        .section-num { font-size: 12px; font-weight: 600; letter-spacing: 2px; text-transform: uppercase; color: var(--siren-orange); margin-bottom: 12px; }
        .section h2 { font-size: 24px; font-weight: 600; margin-bottom: 20px; }
        .section h3 { font-size: 18px; font-weight: 600; margin: 28px 0 16px; }
        .section p { color: var(--text-secondary); margin-bottom: 16px; }
        .section strong { color: var(--text-primary); }
        .section ul { color: var(--text-secondary); margin: 16px 0; padding-left: 24px; }
        .section li { margin-bottom: 8px; }
        .code-block { background: rgba(0, 0, 0, 0.4); border: 1px solid var(--card-border); border-radius: 12px; padding: 20px; margin: 20px 0; overflow-x: auto; }
        .code-block code { font-family: 'JetBrains Mono', monospace; font-size: 13px; color: #e0e0e0; line-height: 1.6; white-space: pre; }
        .comment { color: #6a9955; }
        .keyword { color: #569cd6; }
        .string { color: #ce9178; }
        .number { color: #b5cea8; }
        .info-box { background: rgba(247, 127, 0, 0.1); border-left: 3px solid var(--siren-orange); padding: 16px 20px; margin: 20px 0; border-radius: 0 8px 8px 0; }
        .info-box p { margin: 0; font-size: 14px; }
        .warning-box { background: rgba(230, 57, 70, 0.1); border-left: 3px solid var(--siren-red); padding: 16px 20px; margin: 20px 0; border-radius: 0 8px 8px 0; }
        .warning-box p { margin: 0; font-size: 14px; }
        .property-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px; margin: 20px 0; }
        .property-card { background: rgba(255, 255, 255, 0.02); border: 1px solid var(--card-border); border-radius: 12px; padding: 20px; }
        .property-name { font-family: 'JetBrains Mono', monospace; font-size: 14px; color: var(--siren-orange); margin-bottom: 8px; }
        .property-desc { font-size: 13px; color: var(--text-secondary); }
        .diagram { background: rgba(0, 0, 0, 0.3); border-radius: 12px; padding: 32px; margin: 24px 0; text-align: center; font-family: 'JetBrains Mono', monospace; }
        .diagram-row { display: flex; align-items: center; justify-content: center; gap: 16px; margin: 12px 0; flex-wrap: wrap; }
        .diagram-box { background: rgba(230, 57, 70, 0.2); border: 1px solid rgba(230, 57, 70, 0.4); border-radius: 8px; padding: 12px 20px; font-size: 13px; }
        .diagram-arrow { color: var(--siren-orange); font-size: 20px; }
        .rig-visual { background: rgba(0, 0, 0, 0.4); border-radius: 16px; padding: 40px; margin: 24px 0; text-align: center; }
        .rig-container { position: relative; width: 280px; height: 280px; margin: 0 auto; }
        .rig-center { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 60px; height: 60px; background: var(--siren-gradient); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 24px; }
        .rig-camera { position: absolute; width: 36px; height: 36px; background: rgba(255, 255, 255, 0.1); border: 2px solid var(--siren-orange); border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 12px; font-weight: 600; }
        .rig-camera.c1 { top: 0; left: 50%; transform: translateX(-50%); }
        .rig-camera.c2 { top: 15%; right: 15%; }
        .rig-camera.c3 { top: 50%; right: 0; transform: translateY(-50%); }
        .rig-camera.c4 { bottom: 15%; right: 15%; }
        .rig-camera.c5 { bottom: 0; left: 50%; transform: translateX(-50%); }
        .rig-camera.c6 { bottom: 15%; left: 15%; }
        .rig-camera.c7 { top: 50%; left: 0; transform: translateY(-50%); }
        .rig-camera.c8 { top: 15%; left: 15%; }
        .table-wrapper { overflow-x: auto; margin: 20px 0; }
        table { width: 100%; border-collapse: collapse; font-size: 14px; }
        th, td { padding: 12px 16px; text-align: left; border-bottom: 1px solid var(--card-border); }
        th { color: var(--text-muted); font-weight: 600; font-size: 12px; text-transform: uppercase; letter-spacing: 1px; }
        td { color: var(--text-secondary); }
        td strong { color: var(--text-primary); }
        .nav-footer { display: flex; justify-content: space-between; gap: 20px; margin-top: 48px; padding-top: 32px; border-top: 1px solid var(--card-border); flex-wrap: wrap; }
        .nav-btn { display: flex; align-items: center; gap: 12px; padding: 16px 24px; background: var(--card-bg); border: 1px solid var(--card-border); border-radius: 12px; text-decoration: none; color: var(--text-primary); transition: all 0.3s ease; flex: 1; min-width: 200px; }
        .nav-btn:hover { border-color: rgba(230, 57, 70, 0.4); transform: translateY(-2px); }
        .nav-btn.next { justify-content: flex-end; text-align: right; }
        .nav-btn-label { font-size: 12px; color: var(--text-muted); text-transform: uppercase; letter-spacing: 1px; }
        .nav-btn-title { font-weight: 600; }
        .nav-btn svg { width: 20px; height: 20px; stroke: var(--text-secondary); }
        @media (max-width: 600px) { .section { padding: 24px; } .nav-footer { flex-direction: column; } .nav-btn.next { justify-content: flex-start; text-align: left; } }
    </style>
</head>
<body>
    <div class="ambient-bg"><div class="ambient-orb orb-1"></div><div class="ambient-orb orb-2"></div></div>
    <div class="container">
        <nav class="top-nav">
            <a href="../" class="back-link"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 12H5M12 19l-7-7 7-7"/></svg>Back to Overview</a>
            <span class="nav-logo">SIREN Tech Guide</span>
        </nav>

        <header class="page-header">
            <div class="path-badge"><div class="path-letter">B</div><span class="path-label">Deep Dive</span></div>
            <h1 class="page-title">The Capture Pipeline</h1>
            <p class="page-subtitle">From cameras to training-ready data</p>
        </header>

        <section class="section">
            <div class="section-num">01</div>
            <h2>Camera Rig Architecture</h2>
            <p>For 4D Gaussian Splatting, we need multiple cameras capturing the same scene simultaneously. The minimum viable setup is <strong>8 cameras</strong>, but quality improves with more.</p>
            <div class="rig-visual">
                <div class="rig-container">
                    <div class="rig-center">ðŸ‘¤</div>
                    <div class="rig-camera c1">1</div><div class="rig-camera c2">2</div><div class="rig-camera c3">3</div><div class="rig-camera c4">4</div>
                    <div class="rig-camera c5">5</div><div class="rig-camera c6">6</div><div class="rig-camera c7">7</div><div class="rig-camera c8">8</div>
                </div>
                <p style="color: var(--text-muted); margin-top: 24px; font-size: 14px;">8-camera arc setup (180Â° coverage)</p>
            </div>
            <h3>Rig Configurations</h3>
            <div class="table-wrapper">
                <table>
                    <tr><th>Config</th><th>Cameras</th><th>Coverage</th><th>Best For</th></tr>
                    <tr><td><strong>Arc</strong></td><td>8-16</td><td>180Â°</td><td>Front-facing performances</td></tr>
                    <tr><td><strong>Dome</strong></td><td>24-48</td><td>360Â°</td><td>Full body, walking around</td></tr>
                    <tr><td><strong>Ring + Overhead</strong></td><td>12-20</td><td>360Â° + top</td><td>Lying down, floor work</td></tr>
                </table>
            </div>
        </section>

        <section class="section">
            <div class="section-num">02</div>
            <h2>Synchronization (Critical!)</h2>
            <p>All cameras must capture at the <strong>exact same moment</strong>. Even 10ms of drift causes blurry splats.</p>
            <h3>Option A: Genlock (Best)</h3>
            <p>Hardware synchronization using a master clock signal distributed to all cameras.</p>
            <div class="property-grid">
                <div class="property-card"><div class="property-name">Sync Generator</div><div class="property-desc">Blackmagic Sync Generator (~$300)</div></div>
                <div class="property-card"><div class="property-name">Precision</div><div class="property-desc">Sub-microsecond accuracy</div></div>
                <div class="property-card"><div class="property-name">Cameras</div><div class="property-desc">Must have genlock input (SDI/BNC)</div></div>
            </div>
            <h3>Option B: Timecode</h3>
            <p>Each camera records embedded timecode. Sync in post via timecode matching.</p>
            <h3>Option C: Software Trigger</h3>
            <p>USB/network trigger signal sent to all cameras. Cheapest but least accurate.</p>
            <div class="warning-box"><p><strong>Warning:</strong> Consumer cameras (GoPro, smartphones) cannot be properly genlocked. Fine for demos, not for production.</p></div>
        </section>

        <section class="section">
            <div class="section-num">03</div>
            <h2>Camera Selection</h2>
            <div class="property-grid">
                <div class="property-card"><div class="property-name">Global Shutter</div><div class="property-desc">All pixels captured simultaneously</div></div>
                <div class="property-card"><div class="property-name">Genlock Input</div><div class="property-desc">Hardware sync capability</div></div>
                <div class="property-card"><div class="property-name">4K @ 30fps+</div><div class="property-desc">Higher res = more detail</div></div>
                <div class="property-card"><div class="property-name">Low Compression</div><div class="property-desc">ProRes/RAW preferred</div></div>
            </div>
            <h3>Recommended by Budget</h3>
            <div class="table-wrapper">
                <table>
                    <tr><th>Budget</th><th>Camera</th><th>Price/Unit</th><th>Notes</th></tr>
                    <tr><td><strong>Entry</strong></td><td>FLIR Blackfly S</td><td>~$500</td><td>Machine vision, great sync</td></tr>
                    <tr><td><strong>Mid</strong></td><td>Z CAM E2</td><td>~$1,500</td><td>MFT mount, timecode sync</td></tr>
                    <tr><td><strong>Pro</strong></td><td>RED Komodo</td><td>~$6,000</td><td>Global shutter mode, RAW</td></tr>
                </table>
            </div>
            <div class="info-box"><p><strong>SIREN Recommendation:</strong> Start with FLIR Blackfly S cameras ($500 Ã— 8 = $4,000 for a full rig).</p></div>
        </section>

        <section class="section">
            <div class="section-num">04</div>
            <h2>Camera Calibration</h2>
            <p>Before training, we need to know <strong>exactly</strong> where each camera is in 3D space.</p>
            <div class="property-grid">
                <div class="property-card"><div class="property-name">Intrinsics</div><div class="property-desc">Focal length, distortion coefficients</div></div>
                <div class="property-card"><div class="property-name">Extrinsics</div><div class="property-desc">Position & rotation in world space</div></div>
            </div>
            <h3>COLMAP (Recommended)</h3>
            <p>Structure from Motion automatically estimates camera poses from captured images.</p>
            <div class="diagram">
                <div class="diagram-row">
                    <div class="diagram-box">Images</div><span class="diagram-arrow">â†’</span>
                    <div class="diagram-box">Feature Detection</div><span class="diagram-arrow">â†’</span>
                    <div class="diagram-box">Matching</div>
                </div>
                <div class="diagram-row">
                    <span class="diagram-arrow">â†’</span><div class="diagram-box">Bundle Adjustment</div><span class="diagram-arrow">â†’</span>
                    <div class="diagram-box">Camera Poses</div>
                </div>
            </div>
            <div class="code-block"><code><span class="comment"># COLMAP workflow</span>
colmap feature_extractor --database_path db.db --image_path ./images
colmap exhaustive_matcher --database_path db.db
colmap mapper --database_path db.db --image_path ./images --output_path ./sparse</code></div>
        </section>

        <section class="section">
            <div class="section-num">05</div>
            <h2>Data Organization</h2>
            <div class="code-block"><code>/captures/
â”œâ”€â”€ scene_001/
â”‚   â”œâ”€â”€ raw/                    <span class="comment"># Original camera files</span>
â”‚   â”‚   â”œâ”€â”€ cam_01/
â”‚   â”‚   â””â”€â”€ cam_02/
â”‚   â”œâ”€â”€ synced/                 <span class="comment"># Time-aligned frames</span>
â”‚   â”‚   â”œâ”€â”€ frame_0000/
â”‚   â”‚   â””â”€â”€ frame_0001/
â”‚   â”œâ”€â”€ colmap/                 <span class="comment"># COLMAP output</span>
â”‚   â”œâ”€â”€ splats/                 <span class="comment"># Trained splats</span>
â”‚   â””â”€â”€ metadata.json</code></div>
        </section>

        <section class="section">
            <div class="section-num">06</div>
            <h2>Lighting Considerations</h2>
            <h3>Do's</h3>
            <ul>
                <li><strong>Even, diffuse lighting</strong> â€” Softboxes, LED panels</li>
                <li><strong>High CRI (95+)</strong> â€” Accurate colors</li>
                <li><strong>Flicker-free</strong> â€” Match frequency to shutter</li>
            </ul>
            <h3>Don'ts</h3>
            <ul>
                <li><strong>Hard shadows</strong> â€” Creates artifacts</li>
                <li><strong>Reflective backgrounds</strong> â€” Ghost geometry</li>
                <li><strong>Green screen</strong> â€” Confuses feature matching</li>
            </ul>
            <div class="info-box"><p><strong>Pro tip:</strong> Use neutral gray or textured backgrounds, not green screen.</p></div>
        </section>

        <section class="section">
            <div class="section-num">07</div>
            <h2>Storage & Data Rates</h2>
            <div class="table-wrapper">
                <table>
                    <tr><th>Format</th><th>Per Camera</th><th>8 Cameras</th><th>1 Hour</th></tr>
                    <tr><td><strong>4K ProRes</strong></td><td>~110 MB/s</td><td>~880 MB/s</td><td>~3.1 TB</td></tr>
                    <tr><td><strong>4K RAW</strong></td><td>~300 MB/s</td><td>~2.4 GB/s</td><td>~8.6 TB</td></tr>
                    <tr><td><strong>4K H.265</strong></td><td>~15 MB/s</td><td>~120 MB/s</td><td>~432 GB</td></tr>
                </table>
            </div>
            <div class="info-box"><p><strong>Recommendation:</strong> Use high-quality H.265 or ProRes. RAW is overkill for gaussian splatting.</p></div>
        </section>

        <nav class="nav-footer">
            <a href="../path-a-math/" class="nav-btn"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 12H5M12 19l-7-7 7-7"/></svg><div><div class="nav-btn-label">Previous</div><div class="nav-btn-title">A: The Math</div></div></a>
            <a href="../path-c-streaming/" class="nav-btn next"><div><div class="nav-btn-label">Next</div><div class="nav-btn-title">C: Compression & Streaming</div></div><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14M12 5l7 7-7 7"/></svg></a>
        </nav>
    </div>
    <script>gsap.from('.page-header', { opacity: 0, y: 30, duration: 0.8 }); gsap.from('.section', { opacity: 0, y: 40, duration: 0.8, stagger: 0.15, delay: 0.2 });</script>
</body>
</html>
