<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow">
    <title>SIREN</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Pacifico&family=Monoton&family=Bebas+Neue&family=Dancing+Script:wght@700&family=Lobster&family=Cinzel&family=Satisfy&family=Righteous&family=Playfair+Display:ital,wght@1,600&family=Cormorant+Garamond:wght@300&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-primary: #0a0a0a;
            --bg-secondary: #111111;
            --accent-primary: #ef4444;
            --accent-secondary: #f97316;
            --accent-tertiary: #dc2626;
            --text-primary: #ffffff;
            --text-secondary: #a1a1aa;
            --text-muted: #71717a;
            --border-subtle: rgba(255, 255, 255, 0.1);
            --glass-bg: rgba(18, 18, 24, 0.85);
            --glass-border: rgba(255, 255, 255, 0.08);
            --sidebar-expanded: 260px;
            --sidebar-collapsed: 72px;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Outfit', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            overflow-x: hidden;
            line-height: 1.5;
            scrollbar-gutter: stable;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 4px;
            height: 4px;
        }

        ::-webkit-scrollbar-track {
            background: transparent;
            margin: 0.5rem 0;
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.12);
            border-radius: 2px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        /* Age Gate */
        .age-gate {
            position: fixed;
            inset: 0;
            background: rgba(10, 10, 12, 0.7);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            z-index: 10000;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            gap: 1.5rem;
            overflow: hidden;
            padding: 2rem;
        }
        
        .age-gate::before {
            content: '';
            position: absolute;
            width: 600px;
            height: 600px;
            background: radial-gradient(circle, rgba(239, 68, 68, 0.12) 0%, transparent 70%);
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            animation: ageGatePulse 4s ease-in-out infinite;
        }
        
        @keyframes ageGatePulse {
            0%, 100% { transform: translate(-50%, -50%) scale(1); opacity: 0.5; }
            50% { transform: translate(-50%, -50%) scale(1.2); opacity: 0.8; }
        }

        .age-gate.hidden {
            opacity: 0;
            backdrop-filter: blur(0px);
            -webkit-backdrop-filter: blur(0px);
            background: rgba(10, 10, 12, 0);
            pointer-events: none;
        }
        
        .age-gate-logo {
            font-size: 3rem;
            font-weight: 800;
            letter-spacing: 0.4em;
            background: linear-gradient(135deg, #ef4444, #f97316, #ef4444);
            background-size: 200% 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: logoShimmer 4s ease-in-out infinite;
            position: relative;
            opacity: 0;
        }
        
        @keyframes logoShimmer {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        .age-gate-logo::after {
            content: 'SIREN';
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, #ef4444, #f97316);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            filter: blur(30px);
            opacity: 0.5;
            z-index: -1;
        }

        /* ==========================================
           PREMIUM LOADER
           ========================================== */
        .site-loader {
            position: fixed;
            inset: 0;
            background: rgba(10, 10, 12, 0.7);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            z-index: 9999;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        
        .site-loader.active {
            opacity: 1;
            visibility: visible;
        }
        
        .site-loader.fade-out {
            backdrop-filter: blur(0px);
            -webkit-backdrop-filter: blur(0px);
            background: rgba(10, 10, 12, 0);
        }
        
        .loader-container {
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 3rem;
        }
        
        /* Animated rings */
        .loader-rings {
            position: relative;
            width: 180px;
            height: 180px;
        }
        
        .loader-ring {
            position: absolute;
            border-radius: 50%;
            border: 2px solid transparent;
        }
        
        .loader-ring-1 {
            inset: 0;
            border-top-color: #ef4444;
            border-right-color: #ef4444;
            animation: loaderSpin 1.5s cubic-bezier(0.68, -0.55, 0.27, 1.55) infinite;
        }
        
        .loader-ring-2 {
            inset: 15px;
            border-bottom-color: #f97316;
            border-left-color: #f97316;
            animation: loaderSpin 2s cubic-bezier(0.68, -0.55, 0.27, 1.55) infinite reverse;
        }
        
        .loader-ring-3 {
            inset: 30px;
            border-top-color: #ef4444;
            border-right-color: #f97316;
            animation: loaderSpin 2.5s linear infinite;
        }
        
        @keyframes loaderSpin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Pulsing glow behind rings */
        .loader-glow {
            position: absolute;
            inset: -20px;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(239, 68, 68, 0.3) 0%, transparent 70%);
            animation: loaderPulse 2s ease-in-out infinite;
        }
        
        @keyframes loaderPulse {
            0%, 100% { transform: scale(0.9); opacity: 0.5; }
            50% { transform: scale(1.1); opacity: 0.8; }
        }
        
        /* Center logo */
        .loader-logo {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 1.8rem;
            font-weight: 800;
            letter-spacing: 0.2em;
            background: linear-gradient(135deg, #ef4444, #f97316, #ef4444);
            background-size: 200% 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: loaderGradient 3s ease infinite;
        }
        
        @keyframes loaderGradient {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        /* Progress section */
        .loader-progress-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1rem;
            min-width: 280px;
        }
        
        .loader-status {
            font-size: 0.85rem;
            color: #71717a;
            letter-spacing: 0.05em;
        }
        
        .loader-progress-bar {
            width: 100%;
            height: 3px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 2px;
            overflow: hidden;
            position: relative;
        }
        
        .loader-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #ef4444, #f97316);
            border-radius: 2px;
            width: 0%;
            transition: width 0.3s ease;
            position: relative;
        }
        
        .loader-progress-fill::after {
            content: '';
            position: absolute;
            right: 0;
            top: -2px;
            bottom: -2px;
            width: 20px;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.6));
            filter: blur(2px);
        }
        
        .loader-progress-glow {
            position: absolute;
            inset: 0;
            background: linear-gradient(90deg, transparent, rgba(239, 68, 68, 0.5), transparent);
            animation: progressShimmer 1.5s ease-in-out infinite;
        }
        
        @keyframes progressShimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        /* Floating particles */
        .loader-particles {
            position: absolute;
            inset: 0;
            overflow: hidden;
            pointer-events: none;
        }
        
        .loader-particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: linear-gradient(135deg, #ef4444, #f97316);
            border-radius: 50%;
            opacity: 0;
            animation: particleFloat 4s ease-in-out infinite;
        }
        
        .loader-particle:nth-child(1) { left: 10%; animation-delay: 0s; }
        .loader-particle:nth-child(2) { left: 20%; animation-delay: 0.5s; }
        .loader-particle:nth-child(3) { left: 30%; animation-delay: 1s; }
        .loader-particle:nth-child(4) { left: 40%; animation-delay: 1.5s; }
        .loader-particle:nth-child(5) { left: 50%; animation-delay: 2s; }
        .loader-particle:nth-child(6) { left: 60%; animation-delay: 0.3s; }
        .loader-particle:nth-child(7) { left: 70%; animation-delay: 0.8s; }
        .loader-particle:nth-child(8) { left: 80%; animation-delay: 1.3s; }
        .loader-particle:nth-child(9) { left: 90%; animation-delay: 1.8s; }
        
        @keyframes particleFloat {
            0% {
                transform: translateY(100vh) scale(0);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-20vh) scale(1);
                opacity: 0;
            }
        }
        
        /* Ambient orbs for loader */
        .loader-orb {
            position: absolute;
            border-radius: 50%;
            filter: blur(80px);
            opacity: 0.25;
            animation: loaderOrbFloat 8s ease-in-out infinite;
        }
        
        .loader-orb-1 {
            width: 400px;
            height: 400px;
            background: rgba(239, 68, 68, 0.3);
            top: -100px;
            left: -100px;
        }
        
        .loader-orb-2 {
            width: 300px;
            height: 300px;
            background: rgba(249, 115, 22, 0.25);
            bottom: -50px;
            right: -50px;
            animation-delay: -4s;
        }
        
        @keyframes loaderOrbFloat {
            0%, 100% { transform: translate(0, 0) scale(1); }
            50% { transform: translate(30px, -30px) scale(1.1); }
        }

        .age-gate-content {
            text-align: center;
            max-width: 520px;
            position: relative;
            z-index: 1;
            opacity: 0;
        }
        
        .age-gate-box {
            background: rgba(15, 15, 20, 0.7);
            backdrop-filter: blur(30px);
            -webkit-backdrop-filter: blur(30px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 1.5rem;
        }
        
        .age-gate .age-buttons .btn {
            opacity: 0;
        }

        .age-gate h2 {
            font-size: 0.8rem;
            font-weight: 700;
            margin-bottom: 1.25rem;
            color: #ffffff;
            text-transform: uppercase;
            letter-spacing: 0.1em;
        }

        .age-gate p {
            color: #a1a1aa;
            margin-bottom: 1.5rem;
            line-height: 1.7;
            font-size: 0.85rem;
            text-align: justify;
        }
        
        .age-gate-terms {
            margin-top: 1rem;
            opacity: 0;
            max-width: 520px;
        }
        
        .age-gate-terms-title {
            font-size: 0.65rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: #71717a;
            margin-bottom: 0.75rem;
        }
        
        .age-gate-terms-scroll {
            max-height: 150px;
            overflow-y: auto;
            padding-right: 0.5rem;
            text-align: left;
        }
        
        .age-gate-terms-scroll::-webkit-scrollbar {
            width: 3px;
        }
        
        .age-gate-terms-scroll::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.15);
            border-radius: 2px;
        }
        
        .age-gate-terms p {
            font-size: 0.75rem;
            color: #71717a;
            margin-bottom: 0.5rem;
            text-align: center;
        }
        
        .age-gate-terms ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        
        .age-gate-terms li {
            font-size: 0.72rem;
            color: #71717a;
            margin-bottom: 0.5rem;
            padding-left: 1rem;
            position: relative;
            line-height: 1.5;
        }
        
        .age-gate-terms li::before {
            content: 'â€¢';
            position: absolute;
            left: 0;
            color: #ef4444;
        }
        
        .age-gate-terms a {
            color: #f97316;
            text-decoration: none;
        }
        
        .age-gate-terms a:hover {
            text-decoration: underline;
        }

        .age-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
        }

        .btn {
            padding: 0.9rem 2.25rem;
            border-radius: 14px;
            font-weight: 600;
            font-size: 0.95rem;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            text-decoration: none;
            border: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            color: white;
            box-shadow: 0 4px 24px rgba(239, 68, 68, 0.35), 0 4px 40px rgba(249, 115, 22, 0.2);
            position: relative;
            overflow: hidden;
        }
        
        .btn-primary::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            animation: btnShine 3s ease-in-out infinite;
        }
        
        @keyframes btnShine {
            0% { left: -100%; }
            50%, 100% { left: 100%; }
        }

        .btn-primary:hover {
            transform: translateY(-2px) scale(1.02);
            box-shadow: 0 8px 32px rgba(239, 68, 68, 0.4), 0 8px 50px rgba(249, 115, 22, 0.3);
        }
        
        .btn-primary:hover::before {
            animation: none;
            left: 100%;
        }

        .btn-secondary {
            background: transparent;
            color: #ffffff;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.08);
            border-color: rgba(255, 255, 255, 0.5);
        }

        /* App Container */
        .app-container {
            display: flex;
            min-height: 100vh;
            position: relative;
            z-index: 1;
        }

        /* Floating Menu Bubble */
        .sidebar {
            position: fixed;
            left: 1.5rem;
            top: 1.5rem;
            width: 280px;
            background: rgba(15, 15, 20, 0.6);
            backdrop-filter: blur(50px) saturate(200%);
            -webkit-backdrop-filter: blur(50px) saturate(200%);
            border: 1px solid rgba(255, 255, 255, 0.12);
            border-radius: 20px;
            padding: 1rem 1.25rem;
            display: flex;
            flex-direction: column;
            z-index: 100;
            overflow: hidden;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(255, 255, 255, 0.08), inset 0 1px 0 rgba(255, 255, 255, 0.1);
            max-height: 70px;
            transform-origin: top center;
        }

        .sidebar.expanded {
            max-height: 700px;
            padding-bottom: 2.5rem;
            overflow: visible;
        }
        
        /* Outer glow aura - extends beyond bubble */
        .sidebar-glow {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 140%;
            height: 140%;
            transform: translate(-50%, -50%) scale(0.8);
            border-radius: 50px;
            pointer-events: none;
            z-index: -1;
            opacity: 0;
            background: radial-gradient(ellipse at center, 
                rgba(239, 68, 68, 0.35) 0%, 
                rgba(249, 115, 22, 0.25) 30%,
                rgba(239, 68, 68, 0.15) 50%,
                transparent 70%);
            filter: blur(30px);
        }
        
        /* Inner content container to clip overflow */
        .sidebar-content {
            display: flex;
            flex-direction: column;
            overflow: hidden;
            flex: 1;
        }

        /* Collapse Toggle Button - Ultra satisfying click */
        .sidebar-toggle {
            position: absolute;
            top: 1rem;
            right: 1rem;
            width: 38px;
            height: 38px;
            background: linear-gradient(135deg, rgba(220, 38, 38, 0.5), rgba(249, 115, 22, 0.5));
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border: 1px solid rgba(249, 115, 22, 0.4);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 200;
            outline: none;
            box-shadow: 0 4px 20px rgba(220, 38, 38, 0.3), 0 4px 30px rgba(249, 115, 22, 0.2), inset 0 0 20px rgba(239, 68, 68, 0.1);
            transition: all 0.3s ease;
        }
        
        .sidebar-toggle:focus {
            outline: none;
        }
        
        .sidebar-toggle:hover {
            background: linear-gradient(135deg, rgba(220, 38, 38, 0.6), rgba(249, 115, 22, 0.6));
            border-color: rgba(249, 115, 22, 0.6);
            box-shadow: 0 6px 25px rgba(220, 38, 38, 0.4), 0 6px 35px rgba(249, 115, 22, 0.3), inset 0 0 25px rgba(239, 68, 68, 0.15);
        }
        
        .sidebar-toggle::before {
            content: '';
            position: absolute;
            inset: -4px;
            border-radius: 14px;
            background: radial-gradient(circle, rgba(249, 115, 22, 0.4) 0%, transparent 70%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .sidebar-toggle:hover::before {
            opacity: 1;
        }

        .sidebar-toggle svg {
            width: 16px;
            height: 16px;
            stroke: white;
            stroke-width: 2.5;
            fill: none;
            filter: drop-shadow(0 0 4px rgba(255, 255, 255, 0.5));
        }

        /* Sidebar Header - Always visible */
        .sidebar-header {
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 42px;
            padding-right: 50px; /* Room for toggle button */
            position: relative;
            z-index: 5;
        }
        
        /* In collapsed state, logo on left */
        .sidebar:not(.expanded) .sidebar-header {
            justify-content: flex-start;
        }
        
        /* Sidebar Logo */
        .sidebar-logo {
            font-size: 1.1rem;
            font-weight: 800;
            letter-spacing: 0.25em;
            position: relative;
            text-decoration: none;
            text-transform: uppercase;
            white-space: nowrap;
            outline: none;
            border-bottom: 1px solid transparent;
            
            /* Base gradient */
            background: linear-gradient(
                180deg, 
                #fcd7a0 0%,
                #f97316 25%,
                #ef4444 50%,
                #dc2626 75%,
                #991b1b 100%
            );
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            
            /* Embossed depth */
            filter: drop-shadow(0 1px 0 rgba(255, 200, 150, 0.3))
                    drop-shadow(0 2px 4px rgba(0, 0, 0, 0.4))
                    drop-shadow(0 4px 8px rgba(239, 68, 68, 0.15));
            
            transition: filter 0.3s ease, font-size 0.15s ease, letter-spacing 0.15s ease, padding 0.15s ease, border-color 0.15s ease, text-align 0.15s ease;
        }
        
        .sidebar-logo:focus {
            outline: none;
        }
        
        /* Warm glow behind */
        .sidebar-logo::before {
            content: 'SIREN';
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, #ef4444, #f97316);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            filter: blur(10px);
            opacity: 0.4;
            z-index: -1;
        }
        
        /* Shine sweep effect */
        .sidebar-logo::after {
            content: 'SIREN';
            position: absolute;
            inset: 0;
            background: linear-gradient(
                120deg, 
                transparent 0%,
                transparent 30%,
                rgba(255, 255, 255, 0.7) 48%,
                rgba(255, 220, 180, 0.8) 50%,
                rgba(255, 255, 255, 0.7) 52%,
                transparent 70%,
                transparent 100%
            );
            background-size: 200% 100%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: sidebarLogoShine 5s ease-in-out infinite;
            z-index: 1;
        }
        
        @keyframes sidebarLogoShine {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }
        
        .sidebar-logo:hover {
            filter: drop-shadow(0 1px 0 rgba(255, 200, 150, 0.4))
                    drop-shadow(0 2px 6px rgba(0, 0, 0, 0.5))
                    drop-shadow(0 6px 12px rgba(239, 68, 68, 0.25));
        }
        
        /* When sidebar is expanded, center logo */
        .sidebar.expanded .sidebar-header {
            flex-direction: column;
            align-items: stretch;
            gap: 0.75rem;
            padding-right: 0;
            min-height: auto;
        }
        
        .sidebar.expanded .sidebar-logo {
            font-size: 1.4rem;
            letter-spacing: 0.3em;
            text-align: center;
            padding-bottom: 0.75rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.08);
        }
        
        .sidebar.expanded .header-user {
            display: flex;
            visibility: visible;
            padding-top: 0.25rem;
            padding-bottom: 0.75rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            margin-bottom: 0.25rem;
            pointer-events: auto;
        }
        
        .header-user {
            display: none;
            visibility: hidden;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
            position: relative;
            opacity: 0;
            pointer-events: none;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            min-width: 40px;
            border-radius: 50%;
            background: rgba(239, 68, 68, 0.2);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #ffffff;
            box-shadow: 0 4px 16px rgba(239, 68, 68, 0.3), inset 0 0 20px rgba(239, 68, 68, 0.15);
            transition: all 0.3s ease;
            position: relative;
            cursor: pointer;
        }
        
        .user-avatar::before {
            content: '';
            position: absolute;
            inset: -2px;
            border-radius: 50%;
            background: conic-gradient(
                from 0deg,
                transparent 0%,
                transparent 42%,
                rgba(239, 68, 68, 0.4) 45%,
                #ef4444 48%,
                #f97316 52%,
                rgba(249, 115, 22, 0.4) 55%,
                transparent 58%,
                transparent 100%
            );
            z-index: -1;
            animation: avatarBorderBounce1 8s linear infinite;
        }
        
        .user-avatar::after {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: 50%;
            background: rgba(15, 15, 20, 0.95);
            z-index: -1;
            border: 1px solid rgba(239, 68, 68, 0.15);
        }
        
        .avatar-border-arc {
            position: absolute;
            inset: -2px;
            border-radius: 50%;
            background: conic-gradient(
                from 180deg,
                transparent 0%,
                transparent 42%,
                rgba(249, 115, 22, 0.4) 45%,
                #f97316 48%,
                #ef4444 52%,
                rgba(239, 68, 68, 0.4) 55%,
                transparent 58%,
                transparent 100%
            );
            z-index: -2;
            animation: avatarBorderBounce2 8s linear infinite;
            pointer-events: none;
        }
        
        @keyframes avatarBorderBounce1 {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        @keyframes avatarBorderBounce2 {
            0% { transform: rotate(180deg); }
            100% { transform: rotate(-180deg); }
        }

        .user-avatar:hover {
            transform: scale(1.08);
            background: rgba(239, 68, 68, 0.3);
            box-shadow: 0 6px 24px rgba(239, 68, 68, 0.5), inset 0 0 25px rgba(239, 68, 68, 0.2);
        }
        
        .user-avatar:hover::before {
            animation-duration: 3s;
        }
        
        .user-avatar:hover .avatar-border-arc {
            animation-duration: 3s;
        }
        
        .avatar-icon {
            width: 26px;
            height: 26px;
            transition: all 0.3s ease;
        }
        
        .user-avatar:hover .avatar-icon {
            transform: scale(1.1);
        }

        .user-time {
            position: absolute;
            right: 0;
            font-size: 0.75rem;
            color: #71717a;
        }

        /* Search - Hidden when collapsed, animated by GSAP */
        /* Search Container */
        .sidebar-search-container {
            position: relative;
            margin-top: 0.5rem;
            margin-bottom: 1rem;
            opacity: 0;
            pointer-events: none;
        }
        
        .sidebar.expanded .sidebar-search-container {
            pointer-events: auto;
            margin-top: 0.25rem;
        }
        
        .sidebar:not(.expanded) .sidebar-search-container {
            opacity: 0;
            pointer-events: none;
        }
        
        .sidebar-search {
            display: flex;
            align-items: center;
            justify-content: flex-start;
            gap: 0.75rem;
            width: 100%;
            height: auto;
            padding: 0.7rem 1rem;
            background: rgba(255, 255, 255, 0.06);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            cursor: text;
            overflow: hidden;
            transition: all 0.3s ease;
        }
        
        .sidebar-search.active {
            background: rgba(255, 255, 255, 0.08);
            border-color: rgba(255, 255, 255, 0.15);
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);
        }

        .sidebar-search:hover {
            background: rgba(255, 255, 255, 0.08);
            border-color: rgba(255, 255, 255, 0.12);
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.15);
        }

        .sidebar-search svg {
            width: 18px;
            height: 18px;
            min-width: 18px;
            stroke: #71717a;
            stroke-width: 2;
            fill: none;
            transition: all 0.3s ease;
        }

        .sidebar-search:hover svg,
        .sidebar-search.active svg {
            stroke: #a1a1aa;
        }

        .search-input {
            flex: 1;
            background: transparent;
            border: none;
            outline: none;
            color: #ffffff;
            font-size: 0.9rem;
            font-family: inherit;
            width: 100%;
        }
        
        .search-input::placeholder {
            color: #71717a;
        }
        
        .search-kbd {
            font-size: 0.65rem;
            padding: 0.2rem 0.4rem;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 4px;
            color: #71717a;
            font-family: inherit;
            white-space: nowrap;
        }
        
        .sidebar-search.active .search-kbd {
            display: none;
        }
        
        /* Search Dropdown */
        .search-dropdown {
            position: fixed;
            left: calc(1.5rem + 280px + 4px);
            top: 1.5rem;
            width: 320px;
            max-height: 500px;
            overflow-y: auto;
            background: rgba(15, 15, 20, 0.6);
            backdrop-filter: blur(50px) saturate(200%);
            -webkit-backdrop-filter: blur(50px) saturate(200%);
            border: 1px solid rgba(255, 255, 255, 0.12);
            border-radius: 20px;
            padding: 1.25rem;
            opacity: 0;
            visibility: hidden;
            z-index: 200;
            pointer-events: none;
            scrollbar-width: none;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(255, 255, 255, 0.08), inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }
        
        /* Invisible hover bridge */
        .search-dropdown::before {
            content: '';
            position: absolute;
            left: -30px;
            top: -10px;
            width: 40px;
            height: calc(100% + 20px);
            background: transparent;
        }
        
        .search-dropdown.active {
            visibility: visible;
            pointer-events: auto;
        }
        
        .search-dropdown::-webkit-scrollbar {
            display: none;
        }
        
        .search-dropdown-section {
            margin-bottom: 1rem;
        }
        
        .search-dropdown-section:last-child {
            margin-bottom: 0;
        }
        
        .search-dropdown-title {
            font-size: 0.7rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: #71717a;
            padding: 0 0.25rem 0.5rem;
            margin-bottom: 0.25rem;
        }
        
        .search-dropdown-items {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }
        
        .search-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.6rem 0.5rem;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .search-item:hover {
            background: rgba(255, 255, 255, 0.08);
        }
        
        .search-item.selected {
            background: rgba(255, 255, 255, 0.1);
        }
        
        .search-item-icon {
            width: 36px;
            height: 36px;
            min-width: 36px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .search-item-icon svg {
            width: 18px;
            height: 18px;
            stroke: #a1a1aa;
            stroke-width: 1.75;
            fill: none;
        }
        
        .search-item:hover .search-item-icon svg {
            stroke: #ffffff;
        }
        
        .search-item-icon.performer {
            border-radius: 50%;
            background: linear-gradient(135deg, #3b3b45, #2a2a32);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .search-item-icon.performer svg {
            stroke: #a1a1aa;
        }
        
        .search-item-info {
            flex: 1;
            min-width: 0;
        }
        
        .search-item-name {
            font-size: 0.9rem;
            font-weight: 500;
            color: #ffffff;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .search-item-name mark {
            background: transparent;
            color: #ffffff;
            font-weight: 600;
        }
        
        .search-item-meta {
            font-size: 0.75rem;
            color: #71717a;
        }
        
        .search-item-badge {
            font-size: 0.6rem;
            padding: 0.15rem 0.4rem;
            border-radius: 4px;
            font-weight: 600;
            text-transform: uppercase;
        }
        
        .search-item-badge.content {
            background: rgba(239, 68, 68, 0.2);
            color: #ef4444;
        }
        
        .search-item-badge.performer {
            background: rgba(168, 85, 247, 0.2);
            color: #a855f7;
        }
        
        .search-item-badge.category {
            background: rgba(6, 182, 212, 0.2);
            color: #06b6d4;
        }
        
        .search-dropdown-empty {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 2rem 1rem;
            color: #71717a;
            gap: 0.75rem;
        }
        
        .search-dropdown-empty svg {
            width: 32px;
            height: 32px;
            opacity: 0.5;
        }

        /* Nav Items - Animated by GSAP */
        .nav-section {
            display: flex;
            flex-direction: column;
            align-items: stretch;
            visibility: visible !important;
            margin-bottom: 1rem;
            width: 100%;
        }
        
        .sidebar:not(.expanded) .nav-section {
            display: none;
        }
        
        .nav-section:last-child {
            margin-bottom: 0;
        }
        
        .nav-section:last-child .nav-item:last-child {
            margin-bottom: 0.5rem;
        }
        
        .nav-section:not(:last-child)::after {
            content: '';
            display: block;
            width: 100%;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
            margin-top: 0.75rem;
        }

        .nav-section-title {
            font-size: 0.7rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.12em;
            color: #71717a;
            margin-bottom: 0.75rem;
            padding-left: 1rem;
            display: block;
            white-space: nowrap;
            width: 100%;
        }

        .nav-item {
            display: flex !important;
            visibility: visible !important;
            align-items: center;
            justify-content: flex-start;
            gap: 0.75rem;
            width: 100%;
            height: auto;
            padding: 0.7rem 1rem;
            border-radius: 12px;
            cursor: pointer;
            margin-bottom: 0.25rem;
            position: relative;
            background: transparent;
            border: 1px solid transparent;
            opacity: 0;
            overflow: hidden;
        }
        
        .nav-item::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: none;
        }
        
        .nav-item:hover::after {
            left: 100%;
            transition: left 0.8s ease;
        }
        
        .sidebar.expanded .nav-item {
            pointer-events: auto;
        }

        .nav-item:hover {
            background: rgba(255, 255, 255, 0.08);
            box-shadow: 0 0 25px rgba(239, 68, 68, 0.08), 0 0 40px rgba(249, 115, 22, 0.05);
        }

        .nav-item.active {
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.2), rgba(249, 115, 22, 0.15));
            border: 1px solid rgba(249, 115, 22, 0.4);
            box-shadow: 0 0 25px rgba(239, 68, 68, 0.15), 0 0 40px rgba(249, 115, 22, 0.1), inset 0 0 20px rgba(239, 68, 68, 0.05);
        }
        
        .nav-item.active::before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 3px;
            height: 60%;
            background: linear-gradient(180deg, #ef4444, #f97316);
            border-radius: 0 2px 2px 0;
            box-shadow: 0 0 12px rgba(249, 115, 22, 0.6);
        }

        .nav-item svg.nav-icon {
            display: block !important;
            visibility: visible !important;
            width: 22px;
            height: 22px;
            min-width: 22px;
            min-height: 22px;
            stroke: #a1a1aa;
            stroke-width: 1.75;
            fill: none;
            transition: all 0.3s ease;
            flex-shrink: 0;
        }

        .nav-item:hover svg.nav-icon {
            stroke: #ffffff;
            transform: scale(1.1);
        }

        .nav-item.active svg.nav-icon {
            stroke: #ef4444 !important;
            filter: drop-shadow(0 0 8px rgba(239, 68, 68, 0.6));
        }

        .nav-item .nav-text {
            font-size: 0.95rem;
            font-weight: 500;
            color: #a1a1aa;
            white-space: nowrap;
            display: block;
            transition: color 0.3s ease;
        }

        .nav-item:hover .nav-text {
            color: #ffffff;
        }

        .nav-item.active .nav-text {
            color: #ffffff;
            font-weight: 600;
        }

        /* Submenu Panel */
        .nav-item-with-submenu {
            position: relative;
        }

        .nav-item-with-submenu .nav-arrow {
            width: 18px;
            height: 18px;
            margin-left: auto;
            stroke: #a1a1aa;
            stroke-width: 2;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .nav-item-with-submenu:hover .nav-arrow {
            stroke: #ffffff;
            transform: translateX(3px) scale(1.1);
        }

        .nav-item-with-submenu.submenu-open .nav-arrow {
            stroke: #ef4444;
            transform: translateX(3px) scale(1.1);
        }
        
        .nav-item-with-submenu.locked {
            background: rgba(239, 68, 68, 0.15);
            border-color: rgba(239, 68, 68, 0.3);
        }
        
        .nav-item-with-submenu.locked .nav-arrow {
            stroke: #f97316;
        }

        .submenu-panel {
            position: fixed;
            left: calc(1.5rem + 280px + 4px);
            top: 1.5rem;
            width: 560px;
            max-height: calc(100vh - 3rem);
            overflow-y: auto;
            overflow-x: hidden;
            background: rgba(15, 15, 20, 0.6);
            backdrop-filter: blur(50px) saturate(200%);
            -webkit-backdrop-filter: blur(50px) saturate(200%);
            border: 1px solid rgba(255, 255, 255, 0.12);
            border-radius: 20px;
            padding: 0;
            opacity: 0;
            visibility: hidden;
            transform: translateX(-15px) scale(0.98);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(255, 255, 255, 0.08), inset 0 1px 0 rgba(255, 255, 255, 0.1);
            z-index: 200;
            pointer-events: none;
            scrollbar-width: none;
            transition: opacity 0.35s cubic-bezier(0.4, 0, 0.2, 1), transform 0.35s cubic-bezier(0.4, 0, 0.2, 1), visibility 0.35s;
        }
        
        .submenu-panel::before {
            content: '';
            position: absolute;
            left: -35px;
            top: -15px;
            width: 50px;
            height: calc(100% + 30px);
            background: transparent;
        }

        .submenu-panel::-webkit-scrollbar {
            display: none;
        }

        .submenu-panel.active {
            visibility: visible;
            opacity: 1;
            transform: translateX(0) scale(1);
            pointer-events: auto;
        }

        /* Submenu Header */
        .submenu-header {
            position: sticky;
            top: 0;
            background: transparent;
            padding: 20px 20px 16px;
            z-index: 5;
        }

        .submenu-header-top {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 16px;
        }

        .submenu-title {
            font-size: 1.1rem;
            font-weight: 700;
            background: linear-gradient(135deg, #fff, rgba(255,255,255,0.8));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin: 0;
            opacity: 1;
            transform: none;
        }

        .submenu-close {
            width: 32px;
            height: 32px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 10px;
            color: #71717a;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.25s ease;
        }

        .submenu-close:hover {
            background: rgba(239, 68, 68, 0.15);
            border-color: rgba(239, 68, 68, 0.3);
            color: #fff;
        }

        .submenu-close svg {
            width: 16px;
            height: 16px;
            stroke: currentColor;
            stroke-width: 2;
            fill: none;
        }

        /* Tab Filter Bar */
        .submenu-tabs {
            display: flex;
            gap: 6px;
            overflow-x: auto;
            scrollbar-width: none;
            padding-bottom: 4px;
        }

        .submenu-tabs::-webkit-scrollbar {
            display: none;
        }

        .submenu-tab {
            padding: 8px 16px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
            color: #71717a;
            cursor: pointer;
            white-space: nowrap;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .submenu-tab:hover {
            background: rgba(255, 255, 255, 0.08);
            color: #fff;
            border-color: rgba(255, 255, 255, 0.1);
        }

        .submenu-tab.active {
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.2), rgba(249, 115, 22, 0.15));
            border-color: rgba(239, 68, 68, 0.3);
            color: #fff;
            box-shadow: 0 0 20px rgba(239, 68, 68, 0.15);
        }

        /* Submenu Body */
        .submenu-body {
            padding: 12px 20px 20px;
        }

        /* Category Visual Grid */
        .category-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
        }

        .category-card {
            position: relative;
            aspect-ratio: 1.2;
            border-radius: 16px;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            background: rgba(255, 255, 255, 0.04);
        }

        .category-card::before {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: 16px;
            border: 1px solid rgba(255, 255, 255, 0.08);
            transition: border-color 0.3s ease;
            z-index: 3;
            pointer-events: none;
        }

        .category-card:hover {
            transform: translateY(-6px) scale(1.02);
            z-index: 2;
        }

        .category-card:hover::before {
            border-color: rgba(239, 68, 68, 0.4);
        }

        .category-bg {
            position: absolute;
            inset: 0;
            transition: transform 0.5s ease;
        }

        .category-card:hover .category-bg {
            transform: scale(1.1);
        }

        .category-gradient {
            position: absolute;
            inset: 0;
            background: linear-gradient(180deg, transparent 30%, rgba(0,0,0,0.9) 100%);
            z-index: 1;
        }

        .category-glow {
            position: absolute;
            inset: 0;
            background: radial-gradient(circle at center, rgba(239, 68, 68, 0.2), transparent 70%);
            opacity: 0;
            transition: opacity 0.4s ease;
            z-index: 1;
        }

        .category-card:hover .category-glow {
            opacity: 1;
        }

        .category-content {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 12px;
            z-index: 2;
            overflow: hidden;
        }

        .category-icon {
            width: 28px;
            height: 28px;
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.3), rgba(249, 115, 22, 0.2));
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 8px;
            transition: all 0.3s ease;
        }

        .category-card:hover .category-icon {
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.5), rgba(249, 115, 22, 0.4));
            transform: scale(1.1);
            box-shadow: 0 0 20px rgba(239, 68, 68, 0.3);
        }

        .category-icon svg {
            width: 14px;
            height: 14px;
            stroke: #fff;
            stroke-width: 2;
            fill: none;
        }

        .category-name {
            font-size: 0.85rem;
            font-weight: 600;
            color: #fff;
            margin-bottom: 2px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .category-count {
            font-size: 0.7rem;
            color: rgba(255, 255, 255, 0.5);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .category-card:hover .category-count {
            color: rgba(255, 255, 255, 0.7);
        }

        /* Featured Category - spans 2 columns */
        .category-card.featured {
            grid-column: span 2;
            aspect-ratio: 2.2;
        }

        .category-card.featured .category-content {
            padding: 16px;
        }

        .category-card.featured .category-name {
            font-size: 1rem;
        }

        .category-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background: linear-gradient(135deg, #ef4444, #f97316);
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.65rem;
            font-weight: 700;
            color: #fff;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            z-index: 2;
        }

        /* Performers Visual Grid */
        .performer-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
        }

        .performer-card {
            position: relative;
            background: rgba(255, 255, 255, 0.04);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 16px;
            padding: 16px;
            text-align: center;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            overflow: hidden;
            text-decoration: none;
            color: inherit;
            display: block;
        }

        .performer-card::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.08), rgba(249, 115, 22, 0.05));
            opacity: 0;
            transition: opacity 0.4s ease;
        }

        .performer-card:hover {
            transform: translateY(-6px);
            border-color: rgba(239, 68, 68, 0.3);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3), 0 0 30px rgba(239, 68, 68, 0.1);
        }

        .performer-card:hover::before {
            opacity: 1;
        }

        .performer-avatar-large {
            width: 72px;
            height: 72px;
            margin: 0 auto 12px;
            border-radius: 50%;
            position: relative;
            overflow: visible;
        }

        .performer-avatar-bg {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: linear-gradient(135deg, #1a1a2e, #252545);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            z-index: 1;
            border: 2px solid rgba(255, 255, 255, 0.1);
            transition: all 0.4s ease;
        }

        .performer-card:hover .performer-avatar-bg {
            border-color: rgba(239, 68, 68, 0.4);
            box-shadow: 0 0 30px rgba(239, 68, 68, 0.3);
        }

        .performer-avatar-bg svg {
            width: 32px;
            height: 32px;
            stroke: #71717a;
            stroke-width: 1.5;
            fill: none;
            transition: all 0.3s ease;
        }

        .performer-card:hover .performer-avatar-bg svg {
            stroke: #fff;
            transform: scale(1.1);
        }

        .performer-ring {
            position: absolute;
            inset: -4px;
            border-radius: 50%;
            border: 2px solid transparent;
            border-top-color: #ef4444;
            border-right-color: #f97316;
            opacity: 0;
            animation: none;
            transition: opacity 0.3s ease;
        }

        .performer-card:hover .performer-ring {
            opacity: 1;
            animation: spinRing 2s linear infinite;
        }

        @keyframes spinRing {
            to { transform: rotate(360deg); }
        }

        .performer-card-name {
            font-size: 0.85rem;
            font-weight: 600;
            color: #fff;
            margin-bottom: 4px;
            position: relative;
            z-index: 1;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .performer-card-meta {
            font-size: 0.7rem;
            color: #71717a;
            position: relative;
            z-index: 1;
            transition: color 0.3s ease;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .performer-card:hover .performer-card-meta {
            color: #a1a1aa;
        }

        .performer-trending {
            position: absolute;
            top: 10px;
            right: 10px;
            width: 24px;
            height: 24px;
            background: linear-gradient(135deg, #ef4444, #f97316);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 0 15px rgba(239, 68, 68, 0.4);
        }

        .performer-trending svg {
            width: 12px;
            height: 12px;
            stroke: #fff;
            stroke-width: 2.5;
            fill: none;
        }

        /* Featured Performer - spans full width */
        .performer-grid > .performer-card.featured {
            grid-column: span 3;
            display: grid;
            grid-template-columns: 72px 1fr;
            align-items: center;
            gap: 20px;
            padding: 20px 24px;
            text-align: left;
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.1), rgba(249, 115, 22, 0.06));
            border-color: rgba(239, 68, 68, 0.2);
        }

        .performer-card.featured .performer-avatar-large {
            width: 72px;
            height: 72px;
            margin: 0;
            flex-shrink: 0;
        }

        .performer-card.featured .performer-info {
            min-width: 0;
        }

        .performer-card.featured .performer-card-name {
            font-size: 1.1rem;
            margin-bottom: 6px;
        }

        .performer-featured-label {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            font-size: 0.65rem;
            font-weight: 600;
            color: #f97316;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 6px;
        }

        .performer-featured-label svg {
            width: 12px;
            height: 12px;
            fill: #f97316;
        }

        .performer-stats {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
        }

        .performer-stat {
            font-size: 0.8rem;
            color: #a1a1aa;
        }

        .performer-stat span {
            color: #fff;
            font-weight: 600;
        }

        /* Submenu Footer */
        .submenu-footer {
            padding: 16px 20px;
            margin: 0;
            opacity: 1;
            transform: none;
        }

        .submenu-view-all {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            width: 100%;
            padding: 14px;
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.12), rgba(249, 115, 22, 0.08));
            border: 1px solid rgba(239, 68, 68, 0.2);
            border-radius: 14px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .submenu-view-all:hover {
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.25), rgba(249, 115, 22, 0.18));
            border-color: rgba(239, 68, 68, 0.4);
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(239, 68, 68, 0.15);
        }

        .submenu-view-all span {
            font-size: 0.9rem;
            font-weight: 600;
            background: linear-gradient(135deg, #ef4444, #f97316);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .submenu-view-all svg {
            width: 18px;
            height: 18px;
            stroke: #ef4444;
            stroke-width: 2;
            fill: none;
            transition: transform 0.3s ease;
        }

        .submenu-view-all:hover svg {
            transform: translateX(4px);
            stroke: #f97316;
        }

        /* Account Submenu Styles */
        .account-panel {
            width: 340px;
        }

        .account-body {
            padding: 0 20px 20px;
        }

        .account-profile {
            display: flex;
            align-items: center;
            gap: 14px;
            padding: 16px;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.06);
            border-radius: 14px;
            margin-bottom: 20px;
        }

        .account-avatar {
            width: 50px;
            height: 50px;
            min-width: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.2), rgba(249, 115, 22, 0.15));
            border: 1px solid rgba(239, 68, 68, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .account-avatar svg {
            width: 26px;
            height: 26px;
            stroke: #ef4444;
        }

        .account-info {
            flex: 1;
            min-width: 0;
        }

        .account-name {
            font-size: 1rem;
            font-weight: 600;
            color: #fff;
            margin-bottom: 2px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .account-email {
            font-size: 0.8rem;
            color: #71717a;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .account-section {
            margin-bottom: 20px;
        }

        .account-section:last-child {
            margin-bottom: 0;
        }

        .account-section-title {
            font-size: 0.7rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: #52525b;
            margin-bottom: 10px;
            padding-left: 2px;
        }

        .account-tier {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 14px 16px;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.06);
            border-radius: 12px;
        }

        .tier-badge {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9rem;
            font-weight: 600;
        }

        .tier-badge svg {
            width: 18px;
            height: 18px;
        }

        .tier-badge.free {
            color: #a1a1aa;
        }

        .tier-badge.free svg {
            stroke: #71717a;
        }

        .tier-badge.premium {
            color: #f97316;
        }

        .tier-badge.premium svg {
            stroke: #f97316;
            fill: rgba(249, 115, 22, 0.2);
        }

        .tier-badge.vip {
            color: #ef4444;
        }

        .tier-badge.vip svg {
            stroke: #ef4444;
            fill: rgba(239, 68, 68, 0.2);
        }

        .upgrade-btn {
            padding: 8px 16px;
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.15), rgba(249, 115, 22, 0.1));
            border: 1px solid rgba(239, 68, 68, 0.3);
            border-radius: 8px;
            color: #ef4444;
            font-size: 0.8rem;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .upgrade-btn:hover {
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.25), rgba(249, 115, 22, 0.18));
            border-color: rgba(239, 68, 68, 0.5);
            transform: translateY(-1px);
        }

        .account-menu-items {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .account-menu-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 14px;
            background: transparent;
            border: 1px solid transparent;
            border-radius: 10px;
            color: #a1a1aa;
            text-decoration: none;
            font-size: 0.9rem;
            transition: all 0.25s ease;
            cursor: pointer;
        }

        .account-menu-item:hover {
            background: rgba(255, 255, 255, 0.04);
            border-color: rgba(255, 255, 255, 0.06);
            color: #fff;
        }

        .account-menu-item svg:first-child {
            width: 20px;
            height: 20px;
            stroke: #71717a;
            transition: stroke 0.25s ease;
        }

        .account-menu-item:hover svg:first-child {
            stroke: #ef4444;
        }

        .account-menu-item span {
            flex: 1;
        }

        .account-menu-item .item-arrow {
            width: 16px;
            height: 16px;
            stroke: #52525b;
            opacity: 0;
            transform: translateX(-4px);
            transition: all 0.25s ease;
        }

        .account-menu-item:hover .item-arrow {
            opacity: 1;
            transform: translateX(0);
        }

        .account-footer {
            padding: 16px 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.06);
        }

        .sign-out-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            width: 100%;
            padding: 12px;
            background: rgba(239, 68, 68, 0.08);
            border: 1px solid rgba(239, 68, 68, 0.15);
            border-radius: 10px;
            color: #ef4444;
            font-size: 0.9rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .sign-out-btn svg {
            width: 18px;
            height: 18px;
        }

        .sign-out-btn:hover {
            background: rgba(239, 68, 68, 0.15);
            border-color: rgba(239, 68, 68, 0.3);
        }

        /* Account Signed Out State */
        .account-signin-prompt {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            padding: 2rem 1.5rem;
        }
        
        .account-signin-icon {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.15), rgba(249, 115, 22, 0.1));
            border: 1px solid rgba(239, 68, 68, 0.25);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1.25rem;
        }
        
        .account-signin-icon svg {
            width: 32px;
            height: 32px;
            stroke: #ef4444;
        }
        
        .account-signin-prompt h3 {
            font-size: 1.25rem;
            font-weight: 600;
            color: #fff;
            margin-bottom: 0.5rem;
        }
        
        .account-signin-prompt p {
            font-size: 0.85rem;
            color: #71717a;
            line-height: 1.5;
            margin-bottom: 1.5rem;
        }
        
        .account-signin-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            width: 100%;
            padding: 14px 24px;
            background: linear-gradient(135deg, #ef4444, #f97316);
            border: none;
            border-radius: 12px;
            color: #fff;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 20px rgba(239, 68, 68, 0.3);
        }
        
        .account-signin-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 30px rgba(239, 68, 68, 0.4);
        }
        
        .account-signin-btn svg {
            width: 20px;
            height: 20px;
        }
        
        .account-signup-link {
            margin-top: 1.25rem;
            font-size: 0.85rem;
            color: #71717a;
        }
        
        .account-signup-link a {
            color: #ef4444;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.2s ease;
        }
        
        .account-signup-link a:hover {
            color: #f97316;
        }

        /* Collection Icons */
        .nav-icon-box {
            display: flex !important;
            visibility: visible !important;
            width: 30px;
            height: 30px;
            min-width: 30px;
            min-height: 30px;
            border-radius: 10px;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            flex-shrink: 0;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }

        .nav-item:hover .nav-icon-box {
            transform: scale(1.12);
        }

        .nav-icon-box.pink {
            background: rgba(239, 68, 68, 0.25);
            border: 1px solid rgba(239, 68, 68, 0.5);
            box-shadow: 0 4px 16px rgba(239, 68, 68, 0.3), inset 0 0 15px rgba(239, 68, 68, 0.15);
        }
        
        .nav-item:hover .nav-icon-box.pink {
            background: rgba(239, 68, 68, 0.35);
            box-shadow: 0 4px 20px rgba(239, 68, 68, 0.5), inset 0 0 20px rgba(239, 68, 68, 0.2);
        }

        .nav-icon-box.purple {
            background: rgba(245, 158, 11, 0.25);
            border: 1px solid rgba(245, 158, 11, 0.5);
            box-shadow: 0 4px 16px rgba(245, 158, 11, 0.3), inset 0 0 15px rgba(245, 158, 11, 0.15);
        }
        
        .nav-item:hover .nav-icon-box.purple {
            background: rgba(245, 158, 11, 0.35);
            box-shadow: 0 4px 20px rgba(245, 158, 11, 0.5), inset 0 0 20px rgba(245, 158, 11, 0.2);
        }

        .nav-icon-box.blue {
            background: rgba(6, 182, 212, 0.25);
            border: 1px solid rgba(6, 182, 212, 0.5);
            box-shadow: 0 4px 16px rgba(6, 182, 212, 0.3), inset 0 0 15px rgba(6, 182, 212, 0.15);
        }
        
        .nav-item:hover .nav-icon-box.blue {
            background: rgba(6, 182, 212, 0.35);
            box-shadow: 0 4px 20px rgba(6, 182, 212, 0.5), inset 0 0 20px rgba(6, 182, 212, 0.2);
        }

        .nav-icon-box svg {
            display: block !important;
            width: 14px;
            height: 14px;
            stroke: #ffffff;
            stroke-width: 2;
            fill: none;
            filter: drop-shadow(0 0 4px currentColor);
        }

        /* Tooltip - Hidden in this design */
        .tooltip {
            display: none;
        }

        /* Main Content - Full width now */
        .main-content {
            flex: 1;
            margin-left: 0;
            min-height: 100vh;
            overflow-x: hidden;
            max-width: 100vw;
        }

        /* Featured Hero */
        .featured-hero {
            position: relative;
            height: 85vh;
            min-height: 600px;
            max-height: 850px;
            overflow: hidden;
            margin-bottom: -120px;
        }

        .featured-slide {
            position: absolute;
            inset: 0;
            opacity: 0;
            transition: opacity 1s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .featured-slide.active {
            opacity: 1;
        }

        .featured-bg {
            position: absolute;
            inset: 0;
            background-size: cover;
            background-position: center;
        }

        .featured-bg video {
            position: absolute;
            top: 50%;
            left: 50%;
            min-width: 100%;
            min-height: 100%;
            width: auto;
            height: auto;
            transform: translate(-50%, -50%);
            object-fit: cover;
        }

        .featured-slide:nth-child(1) .featured-bg {
            background: 
                url('../images/1.jpg') center/cover no-repeat;
        }
        
        .featured-slide:nth-child(1) .featured-bg::before {
            content: '';
            position: absolute;
            inset: 0;
            background: radial-gradient(ellipse at 70% 30%, rgba(239, 68, 68, 0.2) 0%, transparent 50%),
                radial-gradient(ellipse at 30% 70%, rgba(249, 115, 22, 0.15) 0%, transparent 50%);
            z-index: 1;
        }

        .featured-slide:nth-child(2) .featured-bg {
            background: 
                url('../images/4.jpg') center/cover no-repeat;
        }
        
        .featured-slide:nth-child(2) .featured-bg::before {
            content: '';
            position: absolute;
            inset: 0;
            background: radial-gradient(ellipse at 60% 40%, rgba(245, 158, 11, 0.15) 0%, transparent 50%),
                radial-gradient(ellipse at 40% 60%, rgba(234, 179, 8, 0.1) 0%, transparent 50%);
            z-index: 1;
        }

        .featured-slide:nth-child(3) .featured-bg {
            background: 
                url('../images/11.jpg') center/cover no-repeat;
        }
        
        .featured-slide:nth-child(3) .featured-bg::before {
            content: '';
            position: absolute;
            inset: 0;
            background: radial-gradient(ellipse at 65% 35%, rgba(220, 38, 38, 0.2) 0%, transparent 50%),
                radial-gradient(ellipse at 35% 65%, rgba(239, 68, 68, 0.15) 0%, transparent 50%);
            z-index: 1;
        }

        .featured-slide:nth-child(4) .featured-bg {
            background: 
                url('../images/1.jpg') center/cover no-repeat;
        }
        
        .featured-slide:nth-child(4) .featured-bg::before {
            content: '';
            position: absolute;
            inset: 0;
            background: radial-gradient(ellipse at 50% 40%, rgba(251, 191, 36, 0.15) 0%, transparent 50%),
                radial-gradient(ellipse at 40% 60%, rgba(245, 158, 11, 0.12) 0%, transparent 50%);
            z-index: 1;
        }

        .featured-slide:nth-child(5) .featured-bg {
            background: 
                url('../images/4.jpg') center/cover no-repeat;
        }
        
        .featured-slide:nth-child(5) .featured-bg::before {
            content: '';
            position: absolute;
            inset: 0;
            background: radial-gradient(ellipse at 55% 35%, rgba(220, 38, 38, 0.18) 0%, transparent 50%),
                radial-gradient(ellipse at 45% 65%, rgba(249, 115, 22, 0.15) 0%, transparent 50%);
            z-index: 1;
        }

        .featured-bg::after {
            content: '';
            position: absolute;
            inset: 0;
            background: 
                linear-gradient(to right, rgba(0,0,0,0.75) 0%, rgba(0,0,0,0.3) 40%, transparent 60%),
                linear-gradient(to top, var(--bg-primary) 0%, var(--bg-primary) 5%, transparent 40%);
            z-index: 2;
        }

        .featured-content {
            position: absolute;
            bottom: 28%;
            left: 4rem;
            z-index: 10;
            max-width: 520px;
        }

        .featured-label {
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.2em;
            color: #ef4444;
            margin-bottom: 0.875rem;
        }

        .featured-title {
            font-size: 3.25rem;
            font-weight: 800;
            line-height: 1.1;
            margin-bottom: 1rem;
            letter-spacing: -0.02em;
            color: #ffffff;
        }

        .featured-meta {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
            font-size: 0.9rem;
            color: #a1a1aa;
        }

        .featured-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.4rem;
            padding: 0.35rem 0.7rem;
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.15), rgba(249, 115, 22, 0.1));
            border: 1px solid transparent;
            border-radius: 6px;
            font-size: 0.7rem;
            font-weight: 700;
            background-origin: border-box;
            background-clip: padding-box, border-box;
            position: relative;
            box-shadow: 0 0 20px rgba(239, 68, 68, 0.2), inset 0 0 10px rgba(239, 68, 68, 0.1);
            animation: featuredBadgePulse 4s ease-in-out infinite;
        }
        
        .featured-badge::before {
            content: '';
            position: absolute;
            inset: -1px;
            border-radius: 7px;
            padding: 1px;
            background: linear-gradient(135deg, #ef4444, #f97316);
            -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
        }
        
        .featured-badge span {
            background: linear-gradient(135deg, #ef4444, #f97316);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        @keyframes featuredBadgePulse {
            0%, 100% { box-shadow: 0 0 20px rgba(239, 68, 68, 0.2), inset 0 0 10px rgba(239, 68, 68, 0.1); }
            50% { box-shadow: 0 0 30px rgba(249, 115, 22, 0.35), inset 0 0 15px rgba(239, 68, 68, 0.15); }
        }

        .featured-badge svg {
            width: 12px;
            height: 12px;
            stroke: #ef4444;
            stroke-width: 2;
            fill: none;
            filter: drop-shadow(0 0 3px rgba(249, 115, 22, 0.5));
        }

        .featured-description {
            color: #a1a1aa;
            font-size: 1rem;
            line-height: 1.7;
            margin-bottom: 1.75rem;
        }

        .featured-actions {
            display: flex;
            gap: 1rem;
        }

        .btn-play {
            background: linear-gradient(135deg, #ffffff 0%, #f0f0f0 100%);
            color: #000000;
            padding: 0.875rem 2rem;
            border-radius: 10px;
            font-weight: 700;
            box-shadow: 0 4px 20px rgba(255, 255, 255, 0.25), 0 0 40px rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
        }
        
        .btn-play::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            transform: translateX(-100%);
            transition: transform 0.6s ease;
        }
        
        .btn-play:hover::before {
            transform: translateX(100%);
        }

        .btn-play:hover {
            transform: translateY(-2px) scale(1.02);
            box-shadow: 0 8px 30px rgba(255, 255, 255, 0.35), 0 0 60px rgba(255, 255, 255, 0.15);
        }

        .btn-play svg {
            width: 18px;
            height: 18px;
            fill: #000000;
            filter: drop-shadow(0 0 2px rgba(0,0,0,0.2));
        }

        .btn-more {
            background: rgba(255, 255, 255, 0.12);
            color: #ffffff;
            padding: 0.875rem 1.75rem;
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .btn-more:hover {
            background: rgba(255, 255, 255, 0.18);
            border-color: rgba(255, 255, 255, 0.25);
            box-shadow: 0 0 30px rgba(255, 255, 255, 0.1);
        }

        /* Carousel Dots */
        .carousel-dots {
            position: absolute;
            bottom: 140px;
            right: 3.5rem;
            display: flex;
            justify-content: flex-end;
            gap: 0.6rem;
            z-index: 20;
        }

        .carousel-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .carousel-dot:hover {
            background: rgba(255, 255, 255, 0.6);
            transform: scale(1.2);
        }

        .carousel-dot.active {
            background: linear-gradient(90deg, #ef4444, #f97316);
            width: 32px;
            border-radius: 4px;
            box-shadow: 0 2px 12px rgba(239, 68, 68, 0.5), 0 0 20px rgba(239, 68, 68, 0.3);
        }

        /* Carousel Arrow */
        .carousel-arrow {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 50px;
            height: 80px;
            background: rgba(0, 0, 0, 0.3);
            border: none;
            border-radius: 4px;
            cursor: pointer;
            z-index: 20;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: all 0.3s ease;
        }
        
        .featured-hero:hover .carousel-arrow {
            opacity: 1;
        }
        
        .carousel-arrow:hover {
            background: rgba(0, 0, 0, 0.6);
        }
        
        .carousel-arrow svg {
            width: 28px;
            height: 28px;
            color: rgba(255, 255, 255, 0.8);
            transition: all 0.2s ease;
        }
        
        .carousel-arrow:hover svg {
            color: #fff;
            transform: scale(1.1);
        }
        
        .carousel-arrow-right {
            right: 20px;
        }

        /* Content Area */
        .content-area {
            position: relative;
            z-index: 10;
            padding: 0 3.5rem 3rem;
            overflow: visible;
            max-width: 100%;
        }

        .content-section {
            margin-bottom: 1.5rem;
            overflow: visible;
            max-width: 100%;
        }

        .section-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 0.75rem;
        }
        
        .section-header-left {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .section-header-right {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        /* Top 10 Section Styling */
        .top10-section {
            margin-top: 0;
        }
        
        .top10-section .content-row {
            padding-left: 20px;
        }
        
        .top10-title {
            display: flex;
            align-items: baseline;
            gap: 0.5rem;
        }
        
        .top10-label {
            font-size: 1.8rem;
            font-weight: 900;
            color: #fff;
            letter-spacing: -0.02em;
        }
        
        .top10-number-title {
            font-size: 2.8rem;
            font-weight: 900;
            background: linear-gradient(180deg, #ef4444 0%, #b91c1c 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1;
            letter-spacing: -0.05em;
        }
        
        .top10-subtitle {
            font-size: 0.9rem;
            font-weight: 600;
            color: #a1a1aa;
            letter-spacing: 0.15em;
            margin-left: 0.25rem;
        }

        .section-title {
            font-size: 1.35rem;
            font-weight: 700;
            color: #ffffff;
        }

        .section-link {
            color: #71717a;
            font-size: 0.85rem;
            text-decoration: none;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }

        .section-link::after {
            content: 'â†’';
            transition: transform 0.3s ease;
            display: inline-block;
        }

        .section-link:hover {
            background: linear-gradient(135deg, #ef4444, #f97316);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .section-link:hover::after {
            transform: translateX(4px);
        }

        /* Content Row - Netflix Style Slider */
        .content-row-wrapper {
            position: relative;
            overflow: visible;
            width: 100%;
        }
        
        /* Slider mask - extend to screen edge for peek card */
        .slider-mask {
            overflow: hidden;
            position: relative;
            margin-right: -3.5rem; /* Extend to screen edge */
            padding-right: 3.5rem; /* Space for the peeking card */
        }
        
        .content-row {
            display: flex;
            gap: 0.5rem;
            padding: 0.25rem 0 1rem;
            transition: transform 0.54s cubic-bezier(0.5, 0, 0.1, 1);
            will-change: transform;
            user-select: none;
            -webkit-user-select: none;
        }

        /* Mobile elements - hidden on desktop */
        .mobile-browse-tabs,
        .mobile-content-grid {
            display: none;
        }

        /* Pagination indicator */
        .pagination-indicator {
            display: flex;
            gap: 2px;
            list-style: none;
            margin: 0;
            padding: 0;
        }
        
        .pagination-indicator li {
            width: 12px;
            height: 2px;
            background: rgba(255, 255, 255, 0.3);
            transition: background 0.3s ease;
        }
        
        .pagination-indicator li.active {
            background: rgba(255, 255, 255, 0.9);
        }
        
        /* Scroll Arrow Buttons - Netflix style */
        .row-scroll-btn {
            position: absolute;
            top: 0;
            bottom: 1rem;
            width: 4%;
            min-width: 50px;
            border: none;
            background: hsla(0, 0%, 8%, 0);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: background 0.2s ease;
            z-index: 20;
        }
        
        .row-scroll-btn.btn-next {
            right: -3.5rem; /* Break out of content-area padding */
            border-top-left-radius: 4px;
            border-bottom-left-radius: 4px;
        }
        
        .row-scroll-btn.btn-prev {
            left: -3.5rem; /* Break out of content-area padding */
            border-top-right-radius: 4px;
            border-bottom-right-radius: 4px;
        }
        
        .row-scroll-btn:hover {
            background: hsla(0, 0%, 8%, 0.5);
        }
        
        .row-scroll-btn svg {
            width: 36px;
            height: 36px;
            stroke: #fff;
            stroke-width: 2;
            fill: none;
            opacity: 0;
            transition: opacity 0.2s ease, transform 0.2s ease;
        }
        
        .row-scroll-btn.btn-prev svg {
            transform: rotate(180deg);
        }
        
        /* Show arrow when hovering anywhere on the section */
        .content-section:hover .row-scroll-btn:not(.hidden) svg {
            opacity: 1;
        }
        
        .row-scroll-btn:hover svg {
            transform: scale(1.25);
        }
        
        .row-scroll-btn.btn-prev:hover svg {
            transform: rotate(180deg) scale(1.25);
        }
        
        .row-scroll-btn.hidden {
            display: none;
        }

        /* Content Cards - Netflix Style Expand */
        .content-card {
            flex-shrink: 0;
            width: 280px;
            cursor: pointer;
            position: relative;
        }

        .content-card:hover {
            z-index: 100;
        }

        .card-thumbnail {
            position: relative;
            aspect-ratio: 16/9;
            border-radius: 8px;
            overflow: hidden;
            background: #000;
            transition: all 0.3s ease;
        }
        
        .content-card:not(.performer-card):hover .card-thumbnail {
            transform: scale(1.05);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
        }
        
        /* Portrait Cards (HBO Max style) */
        .content-card.portrait-card {
            width: 180px;
        }
        
        .content-card.portrait-card .card-thumbnail {
            aspect-ratio: 2/3;
            border-radius: 6px;
        }
        
        .content-card.portrait-card:hover .card-thumbnail {
            transform: scale(1.08);
            box-shadow: 0 15px 50px rgba(0, 0, 0, 0.6);
        }
        
        /* Large Featured Cards */
        .content-card.large-card {
            width: 420px;
        }
        
        .content-card.large-card .card-thumbnail {
            aspect-ratio: 16/9;
            border-radius: 10px;
        }
        
        .content-card.large-card:hover .card-thumbnail {
            transform: scale(1.03);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.6);
        }
        
        /* Top 10 Cards */
        .content-card.top10-card {
            width: 140px;
            position: relative;
            margin-left: 45px;
            margin-right: 30px;
        }
        
        .content-card.top10-card .card-thumbnail {
            aspect-ratio: 2/3;
            border-radius: 6px;
            background: #000;
        }
        
        .content-card.top10-card .card-thumbnail-inner {
            background-size: cover !important;
            background-position: center !important;
        }
        
        .top10-number {
            position: absolute;
            left: -55px;
            bottom: 0;
            font-size: 9rem;
            font-weight: 900;
            font-style: italic;
            line-height: 0.75;
            color: transparent;
            -webkit-text-stroke: 4px #3f3f46;
            z-index: -1;
            font-family: 'Inter', sans-serif;
            pointer-events: none;
        }
        
        .content-card.top10-card:hover .top10-number {
            -webkit-text-stroke-color: #ef4444;
            transition: all 0.3s ease;
        }
        
        /* Inner image container */
        .card-thumbnail-inner {
            position: absolute;
            inset: 0;
            border-radius: 8px;
            overflow: hidden;
            background-color: #000;
            background-size: cover !important;
            background-position: center !important;
            background-repeat: no-repeat !important;
        }
        
        /* Card thumbnail image */
        .card-thumb-img {
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: 0;
        }
        
        /* Ensure inline background-image is preserved */
        .card-thumbnail-inner[style*="background-image"] {
            background-size: cover !important;
            background-position: center !important;
        }

        .card-gradient {
            position: absolute;
            inset: 0;
            background: linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 40%, transparent 70%);
            z-index: 2;
        }

        /* Card Title Logos */
        .card-title-logo {
            position: absolute;
            bottom: 12px;
            left: 12px;
            right: 12px;
            z-index: 5;
            line-height: 1.1;
        }

        .logo-midnight-whispers {
            font-family: 'Great Vibes', cursive;
            font-size: 1.8rem;
            color: #e8d5ff;
            text-shadow: 0 0 10px rgba(200, 150, 255, 0.8), 0 0 20px rgba(200, 150, 255, 0.5), 2px 2px 4px rgba(0,0,0,0.9);
        }
        .logo-pillow-talk {
            font-family: 'Pacifico', cursive;
            font-size: 1.6rem;
            background: linear-gradient(180deg, #fff 0%, #ffb6c1 50%, #ff69b4 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            filter: drop-shadow(0 2px 4px rgba(255, 105, 180, 0.6)) drop-shadow(0 0 15px rgba(255, 182, 193, 0.5));
        }
        .logo-girls-night {
            font-family: 'Monoton', cursive;
            font-size: 1.3rem;
            color: #fff;
            text-shadow: 0 0 5px #fff, 0 0 10px #fff, 0 0 20px #ff00de, 0 0 40px #ff00de;
            animation: neonFlicker 3s infinite alternate;
        }
        @keyframes neonFlicker {
            0%, 19%, 21%, 23%, 25%, 54%, 56%, 100% { opacity: 1; }
            20%, 24%, 55% { opacity: 0.85; }
        }
        .logo-triple-threat {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 1.8rem;
            text-transform: uppercase;
            letter-spacing: 0.15em;
            background: linear-gradient(180deg, #ffd700 0%, #b8860b 50%, #ffd700 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            filter: drop-shadow(2px 2px 0 rgba(0,0,0,0.8)) drop-shadow(0 0 10px rgba(255, 215, 0, 0.4));
        }
        .logo-sweet-surrender {
            font-family: 'Dancing Script', cursive;
            font-size: 1.8rem;
            font-weight: 700;
            background: linear-gradient(135deg, #ff6b6b 0%, #ff8e8e 50%, #d63031 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.6)) drop-shadow(0 0 20px rgba(255, 107, 107, 0.5));
        }
        .logo-best-friends {
            font-family: 'Lobster', cursive;
            font-size: 1.7rem;
            color: #fff;
            text-shadow: 2px 2px 0 #f97316, 4px 4px 0 rgba(249, 115, 22, 0.4), 0 0 20px rgba(249, 115, 22, 0.5);
        }
        .logo-morning-after {
            font-family: 'Cinzel', serif;
            font-size: 1.2rem;
            text-transform: uppercase;
            letter-spacing: 0.2em;
            background: linear-gradient(180deg, #ffecd2 0%, #fcb69f 50%, #ee9ca7 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            filter: drop-shadow(0 0 15px rgba(252, 182, 159, 0.6));
        }
        .logo-lazy-sunday {
            font-family: 'Satisfy', cursive;
            font-size: 2rem;
            color: #ffeaa7;
            text-shadow: 2px 2px 0 #e17055, 0 0 20px rgba(255, 234, 167, 0.5);
            transform: rotate(-2deg);
            display: inline-block;
        }
        .logo-steam-room {
            font-family: 'Outfit', sans-serif;
            font-size: 1.4rem;
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: #fff;
            text-shadow: 0 0 10px rgba(255,255,255,0.9), 0 0 20px rgba(255,255,255,0.6), 0 0 40px rgba(200, 200, 255, 0.4);
        }
        .logo-summer-breeze {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.6rem;
            font-weight: 300;
            font-style: italic;
            letter-spacing: 0.1em;
            background: linear-gradient(135deg, #74b9ff 0%, #81ecec 50%, #a8e6cf 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            filter: drop-shadow(0 2px 8px rgba(116, 185, 255, 0.5));
        }
        .logo-roommates {
            font-family: 'Righteous', cursive;
            font-size: 1.5rem;
            text-transform: uppercase;
            letter-spacing: 0.08em;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            filter: drop-shadow(0 2px 10px rgba(102, 126, 234, 0.5));
        }
        .logo-city-girls {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 1.8rem;
            text-transform: uppercase;
            letter-spacing: 0.2em;
            color: #fff;
            text-shadow: 3px 3px 0 rgba(239, 68, 68, 0.8), 0 0 20px rgba(239, 68, 68, 0.4);
        }
        .logo-just-us {
            font-family: 'Playfair Display', serif;
            font-size: 1.7rem;
            font-weight: 600;
            font-style: italic;
            color: #fff;
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.5), 0 0 40px rgba(249, 115, 22, 0.3);
        }

        .card-3d-badge {
            position: absolute;
            top: 0.6rem;
            left: 0.6rem;
            padding: 0.25rem 0.5rem;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(8px);
            border: 1px solid rgba(239, 68, 68, 0.4);
            border-radius: 4px;
            font-size: 0.6rem;
            font-weight: 700;
            z-index: 15;
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }
        
        .card-3d-badge span {
            background: linear-gradient(135deg, #ef4444, #f97316);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .card-3d-badge svg {
            width: 10px;
            height: 10px;
            stroke: #ef4444;
            stroke-width: 2;
            fill: none;
        }

        .card-play {
            display: none;
        }

        .card-progress {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: rgba(255, 255, 255, 0.2);
            z-index: 15;
        }

        .card-progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #ef4444, #f97316);
        }

        .card-info {
            padding: 0 0.25rem;
        }
        
        .card-info h3 {
            font-size: 0.95rem;
            font-weight: 600;
            margin-bottom: 0.25rem;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            color: #ffffff;
        }

        .card-info p {
            color: #71717a;
            font-size: 0.8rem;
        }

        /* ========== NETFLIX STYLE EXPANDED CARD ========== */
        .card-expanded {
            position: fixed;
            width: 350px;
            background: #181818;
            border-radius: 8px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.8), 0 0 0 1px rgba(255, 255, 255, 0.1);
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            overflow: hidden;
            pointer-events: none;
            transform: scale(0.9);
            transform-origin: center center;
            transition: opacity 0.15s cubic-bezier(0.4, 0, 0.2, 1), 
                        transform 0.15s cubic-bezier(0.4, 0, 0.2, 1), 
                        visibility 0.15s;
        }
        
        .card-expanded.active {
            opacity: 1;
            visibility: visible;
            transform: scale(1);
            pointer-events: auto;
        }
        
        .card-expanded.scrolling {
            transition: opacity 0.15s cubic-bezier(0.4, 0, 0.2, 1), 
                        transform 0.15s cubic-bezier(0.4, 0, 0.2, 1), 
                        visibility 0.15s;
        }
        
        .card-expanded-preview {
            position: relative;
            aspect-ratio: 16/9;
            background: linear-gradient(135deg, #1a0808 0%, #2d1010 100%);
            overflow: hidden;
        }
        
        .expanded-preview-video {
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: 0;
        }
        
        .card-expanded-preview video {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .card-expanded-gradient {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 80px;
            background: linear-gradient(to top, #181818 0%, transparent 100%);
            z-index: 1;
        }
        
        /* SIREN Mini Logo */
        .card-expanded-logo {
            position: absolute;
            top: 0.75rem;
            left: 0.75rem;
            font-size: 0.7rem;
            font-weight: 800;
            letter-spacing: 0.15em;
            background: linear-gradient(135deg, #ef4444, #f97316, #ef4444);
            background-size: 200% 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: logoShimmer 4s ease-in-out infinite;
            opacity: 0;
            filter: blur(8px);
            transition: opacity 0.4s ease 0.25s, filter 0.4s ease 0.25s;
        }
        
        .card-expanded-mute {
            position: absolute;
            bottom: 1rem;
            right: 1rem;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: rgba(0, 0, 0, 0.6);
            border: 1px solid rgba(255, 255, 255, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .card-expanded-mute:hover {
            border-color: #fff;
        }
        
        .card-expanded-mute svg {
            width: 18px;
            height: 18px;
            stroke: #fff;
            stroke-width: 2;
            fill: none;
        }
        
        .card-expanded-content {
            padding: 1rem 1.25rem 1.25rem;
        }
        
        .card-expanded-actions {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }
        
        .card-expanded-btn {
            width: 42px;
            height: 42px;
            min-width: 42px;
            min-height: 42px;
            border-radius: 50%;
            border: 2px solid rgba(255, 255, 255, 0.5);
            background: transparent;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
            padding: 0;
        }
        
        .card-expanded-btn:hover {
            border-color: #fff;
            background: rgba(255, 255, 255, 0.1);
        }
        
        .card-expanded-btn svg {
            width: 20px;
            height: 20px;
            stroke: #fff;
            stroke-width: 2;
            fill: none;
        }
        
        .card-expanded-btn.btn-play {
            width: 46px;
            height: 46px;
            min-width: 46px;
            min-height: 46px;
            background: #fff;
            border-color: #fff;
        }
        
        .card-expanded-btn.btn-play:hover {
            background: #e5e5e5;
        }
        
        .card-expanded-btn.btn-play svg {
            width: 22px;
            height: 22px;
            stroke: none;
            fill: #000;
            margin-left: 3px;
        }
        
        .card-expanded-btn.btn-more {
            margin-left: auto;
        }
        
        .card-expanded-btn.btn-more svg {
            stroke: #fff;
            stroke-width: 2.5;
            fill: none;
        }
        
        .card-expanded-meta {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 0.75rem;
            flex-wrap: wrap;
        }
        
        .meta-match {
            color: #46d369;
            font-weight: 600;
            font-size: 0.85rem;
        }
        
        .meta-rating {
            padding: 0.15rem 0.4rem;
            border: 1px solid rgba(255, 255, 255, 0.4);
            border-radius: 3px;
            font-size: 0.7rem;
            color: rgba(255, 255, 255, 0.8);
        }
        
        .meta-duration {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.85rem;
        }
        
        .meta-quality {
            padding: 0.1rem 0.4rem;
            border: 1px solid rgba(255, 255, 255, 0.4);
            border-radius: 3px;
            font-size: 0.65rem;
            font-weight: 600;
            color: rgba(255, 255, 255, 0.8);
        }
        
        .card-expanded-tags {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            flex-wrap: wrap;
        }
        
        .card-expanded-tags span {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.8rem;
        }
        
        .card-expanded-tags span:not(:last-child)::after {
            content: 'â€¢';
            margin-left: 0.5rem;
            color: rgba(255, 255, 255, 0.3);
        }

        /* Performer Cards */
        .performer-card {
            width: 160px;
            text-align: center;
        }
        
        .performer-card .card-thumbnail {
            aspect-ratio: 1;
            border-radius: 50%;
            margin-bottom: 0.75rem;
        }
        
        .performer-card .card-thumbnail-inner {
            border-radius: 50%;
        }
        
        .performer-card:hover .card-thumbnail {
            box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.5);
        }

        .performer-card .card-info {
            text-align: center;
        }
        
        .performer-card .card-info h3 {
            font-size: 0.9rem;
        }

        .performer-card .card-3d-badge,
        .performer-card .card-gradient,
        .performer-card .card-play {
            display: none;
        }

        /* ==========================================
           MORE INFO MODAL (Netflix Style)
           ========================================== */
        .info-modal-backdrop {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.7);
            z-index: 9500;
            display: flex;
            align-items: flex-start;
            justify-content: center;
            padding: 2rem;
            overflow-y: auto;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .info-modal-backdrop.open {
            opacity: 1;
            visibility: visible;
        }

        .info-modal {
            position: relative;
            width: 100%;
            max-width: 850px;
            background: #181818;
            border-radius: 8px;
            overflow: hidden;
            transform: scale(0.95) translateY(20px);
            transition: transform 0.3s ease;
            margin-top: 2rem;
        }

        .info-modal-backdrop.open .info-modal {
            transform: scale(1) translateY(0);
        }

        .info-modal-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: #181818;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 10;
            transition: background 0.2s ease;
        }

        .info-modal-close:hover {
            background: #282828;
        }

        .info-modal-close svg {
            width: 20px;
            height: 20px;
            stroke: #ffffff;
            stroke-width: 2;
            fill: none;
        }

        .info-modal-preview {
            position: relative;
            width: 100%;
            aspect-ratio: 16/9;
            background: #000;
            background-size: cover;
            background-position: center;
            overflow: hidden;
        }

        .info-modal-video {
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .info-modal-preview-gradient {
            position: absolute;
            inset: 0;
            background: linear-gradient(0deg, #181818 0%, rgba(24,24,24,0.6) 30%, transparent 60%);
            z-index: 1;
        }

        .info-modal-preview-content {
            position: absolute;
            bottom: 2rem;
            left: 3rem;
            right: 3rem;
            z-index: 2;
        }

        .info-modal-logo {
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 1.5rem;
            text-shadow: 2px 2px 8px rgba(0,0,0,0.8);
            background: linear-gradient(135deg, #ffffff, #e5e5e5);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .info-modal-actions {
            display: flex;
            gap: 0.75rem;
        }

        .info-modal-btn {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.6rem 1.5rem;
            border-radius: 4px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            border: none;
            transition: all 0.2s ease;
            font-family: inherit;
        }

        .info-modal-btn svg {
            width: 22px;
            height: 22px;
        }

        .info-modal-btn.play {
            background: #ffffff;
            color: #000000;
        }

        .info-modal-btn.play:hover {
            background: rgba(255,255,255,0.8);
        }

        .info-modal-btn.icon-only {
            width: 40px;
            height: 40px;
            padding: 0;
            border-radius: 50%;
            background: rgba(42,42,42,0.6);
            border: 2px solid rgba(255,255,255,0.5);
            justify-content: center;
        }

        .info-modal-btn.icon-only svg {
            width: 20px;
            height: 20px;
            stroke: #ffffff;
            stroke-width: 2;
            fill: none;
        }

        .info-modal-btn.icon-only:hover {
            background: rgba(42,42,42,0.9);
            border-color: #ffffff;
        }

        .info-modal-sound {
            position: absolute;
            bottom: 2rem;
            right: 3rem;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .info-modal-sound-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: transparent;
            border: 1px solid rgba(255,255,255,0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }

        .info-modal-sound-btn svg {
            width: 20px;
            height: 20px;
            stroke: #ffffff;
            stroke-width: 2;
            fill: none;
        }

        .info-modal-rating {
            padding: 0.25rem 0.75rem;
            background: rgba(51,51,51,0.6);
            border-left: 3px solid #dcdcdc;
            font-size: 0.9rem;
            font-weight: 500;
        }

        .info-modal-body {
            padding: 1.5rem 3rem 2rem;
        }

        .info-modal-meta {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }

        .info-modal-match {
            color: #46d369;
            font-weight: 600;
        }

        .info-modal-year, .info-modal-duration {
            color: #bcbcbc;
        }

        .info-modal-quality {
            padding: 0 0.4rem;
            border: 1px solid rgba(255,255,255,0.4);
            border-radius: 3px;
            font-size: 0.7rem;
            font-weight: 600;
        }

        .info-modal-badges {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }

        .info-modal-badge {
            display: flex;
            align-items: center;
            gap: 0.25rem;
            padding: 0.2rem 0.5rem;
            background: rgba(255,255,255,0.1);
            border-radius: 3px;
            font-size: 0.75rem;
        }

        .info-modal-badge svg {
            width: 14px;
            height: 14px;
            stroke: currentColor;
            stroke-width: 2;
            fill: none;
        }

        .info-modal-badge.badge-4d {
            background: linear-gradient(135deg, rgba(168,85,247,0.3), rgba(99,102,241,0.3));
            color: #c4b5fd;
        }

        .info-modal-badge.badge-vr {
            background: linear-gradient(135deg, rgba(6,182,212,0.3), rgba(59,130,246,0.3));
            color: #7dd3fc;
        }

        .info-modal-badge.badge-premium {
            background: linear-gradient(135deg, rgba(239,68,68,0.3), rgba(249,115,22,0.3));
            color: #fca5a5;
        }

        .info-modal-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 2rem;
        }

        .info-modal-description {
            font-size: 0.95rem;
            line-height: 1.6;
            color: #d2d2d2;
        }

        .info-modal-info-item {
            margin-bottom: 0.5rem;
            font-size: 0.85rem;
        }

        .info-modal-info-label {
            color: #777;
        }

        .info-modal-info-value {
            color: #fff;
        }

        .info-modal-info-value a {
            color: #fff;
            text-decoration: none;
            transition: color 0.2s;
        }

        .info-modal-info-value a:hover {
            text-decoration: underline;
        }

        .info-modal-section {
            padding: 1rem 3rem 2rem;
            border-top: 1px solid #404040;
        }

        .info-modal-section-title {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .info-modal-related-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
        }

        .info-related-card {
            border-radius: 4px;
            overflow: hidden;
            background: #2f2f2f;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .info-related-card:hover {
            background: #3f3f3f;
            transform: scale(1.02);
        }

        .info-related-card img {
            width: 100%;
            aspect-ratio: 16/9;
            object-fit: cover;
        }

        .info-related-card-content {
            padding: 1rem;
        }

        .info-related-card-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 0.5rem;
        }

        .info-related-card-meta {
            font-size: 0.75rem;
            color: #46d369;
            font-weight: 600;
        }

        .info-related-card-duration {
            font-size: 0.75rem;
            color: #bcbcbc;
        }

        .info-related-card-title {
            font-size: 0.9rem;
            font-weight: 600;
            margin-bottom: 0.35rem;
        }

        .info-related-card-description {
            font-size: 0.8rem;
            color: #a1a1aa;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        @media (max-width: 768px) {
            .info-modal {
                max-width: 100%;
                border-radius: 0;
                margin-top: 0;
            }

            .info-modal-preview-content {
                left: 1.5rem;
                right: 1.5rem;
                bottom: 1.5rem;
            }

            .info-modal-logo {
                font-size: 1.5rem;
            }

            .info-modal-body {
                padding: 1rem 1.5rem;
            }

            .info-modal-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .info-modal-section {
                padding: 1rem 1.5rem;
            }

            .info-modal-related-grid {
                grid-template-columns: 1fr;
            }

            .info-modal-sound {
                right: 1.5rem;
                bottom: 1.5rem;
            }
        }

        /* Responsive */
        @media (max-width: 1200px) {
            .content-card {
                width: 220px;
            }

            .performer-card {
                width: 140px;
            }
            
            .card-expanded {
                width: 300px;
            }
        }

        @media (max-width: 900px) {
            .sidebar {
                left: 1rem;
                top: 1rem;
                width: 260px;
            }
            
            .submenu-panel {
                left: calc(1rem + 260px + 4px);
                top: 1rem;
            }
            
            .search-dropdown {
                left: calc(1rem + 260px + 4px);
                top: 1rem;
            }

            .featured-content {
                left: 1.5rem;
                right: 1.5rem;
                max-width: none;
            }

            .featured-title {
                font-size: 2.25rem;
            }

            .content-area {
                padding: 1.5rem;
            }

            .content-card {
                width: 220px;
            }
        }
        
        @media (max-width: 500px) {
            .sidebar {
                left: 0.75rem;
                top: 0.75rem;
                width: calc(100% - 1.5rem);
                max-width: 300px;
            }
            
            .submenu-panel,
            .search-dropdown {
                display: none;
            }
        }

        /* ==========================================
           SUBSCRIPTION MODAL
           ========================================== */
        .sub-modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            z-index: 10000;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            visibility: hidden;
            transition: all 0.4s ease;
            padding: 2rem;
        }

        .sub-modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .sub-modal {
            background: rgba(15, 15, 20, 0.6);
            backdrop-filter: blur(50px) saturate(200%);
            -webkit-backdrop-filter: blur(50px) saturate(200%);
            border: 1px solid rgba(255, 255, 255, 0.12);
            border-radius: 20px;
            max-width: 480px;
            width: 100%;
            padding: 3rem;
            position: relative;
            transform: scale(0.9) translateY(20px);
            transition: transform 0.4s cubic-bezier(0.16, 1, 0.3, 1);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(255, 255, 255, 0.08), inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        .sub-modal-overlay.active .sub-modal {
            transform: scale(1) translateY(0);
        }

        .sub-modal-close {
            position: absolute;
            top: 1.25rem;
            right: 1.25rem;
            width: 36px;
            height: 36px;
            border: 1px solid rgba(255, 255, 255, 0.08);
            background: rgba(255, 255, 255, 0.03);
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
        }

        .sub-modal-close:hover {
            background: rgba(255, 255, 255, 0.08);
            border-color: rgba(255, 255, 255, 0.15);
            transform: rotate(90deg);
        }

        .sub-modal-close svg {
            width: 18px;
            height: 18px;
            stroke: rgba(255, 255, 255, 0.6);
        }

        .sub-modal-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .sub-modal-logo {
            font-size: 1.8rem;
            font-weight: 800;
            letter-spacing: 0.25em;
            position: relative;
            text-transform: uppercase;
            margin-bottom: 0.5rem;
            display: inline-block;
            background: linear-gradient(180deg, #fcd7a0 0%, #f97316 25%, #ef4444 50%, #dc2626 75%, #991b1b 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            filter: drop-shadow(0 1px 0 rgba(255, 200, 150, 0.3)) drop-shadow(0 2px 4px rgba(0, 0, 0, 0.4)) drop-shadow(0 4px 8px rgba(239, 68, 68, 0.15));
        }

        .sub-modal-logo::before {
            content: 'SIREN';
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, #ef4444, #f97316);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            filter: blur(10px);
            opacity: 0.4;
            z-index: -1;
        }

        .sub-modal-logo::after {
            content: 'SIREN';
            position: absolute;
            inset: 0;
            background: linear-gradient(120deg, transparent 0%, transparent 30%, rgba(255, 255, 255, 0.7) 48%, rgba(255, 220, 180, 0.8) 50%, rgba(255, 255, 255, 0.7) 52%, transparent 70%, transparent 100%);
            background-size: 200% 100%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: subLogoShine 5s ease-in-out infinite;
            z-index: 1;
        }

        @keyframes subLogoShine {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }

        .sub-modal-tagline {
            color: rgba(255, 255, 255, 0.5);
            font-size: 0.9rem;
            font-weight: 400;
        }

        .sub-pricing-card {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 16px;
            padding: 2rem;
            margin-bottom: 1.5rem;
            position: relative;
            overflow: hidden;
        }

        .sub-pricing-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, #f97316, #ef4444, #dc2626);
        }

        .sub-plan-badge {
            display: inline-block;
            background: rgba(239, 68, 68, 0.15);
            border: 1px solid rgba(239, 68, 68, 0.3);
            color: #ef4444;
            font-size: 0.7rem;
            font-weight: 600;
            padding: 0.35rem 0.75rem;
            border-radius: 20px;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 1rem;
        }

        .sub-price {
            display: flex;
            align-items: baseline;
            gap: 0.25rem;
            margin-bottom: 0.5rem;
        }

        .sub-price-currency {
            font-size: 1.5rem;
            font-weight: 600;
            color: rgba(255, 255, 255, 0.7);
        }

        .sub-price-amount {
            font-size: 3.5rem;
            font-weight: 700;
            color: white;
            line-height: 1;
        }

        .sub-price-period {
            font-size: 1rem;
            color: rgba(255, 255, 255, 0.5);
            margin-left: 0.25rem;
        }

        .sub-price-note {
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.4);
            margin-bottom: 1.5rem;
        }

        .sub-features {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .sub-feature {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.8);
        }

        .sub-feature-icon {
            width: 20px;
            height: 20px;
            background: rgba(239, 68, 68, 0.2);
            border: 1px solid rgba(239, 68, 68, 0.3);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .sub-feature-icon svg {
            width: 10px;
            height: 10px;
            stroke: #ef4444;
            stroke-width: 3;
        }

        .sub-cta-btn {
            width: 100%;
            padding: 1rem 2rem;
            border: 1px solid rgba(239, 68, 68, 0.3);
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            background: rgba(239, 68, 68, 0.15);
            color: white;
            position: relative;
            overflow: hidden;
        }

        .sub-cta-btn::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, rgba(249, 115, 22, 0.3), rgba(239, 68, 68, 0.3));
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .sub-cta-btn:hover {
            transform: translateY(-2px);
            border-color: rgba(239, 68, 68, 0.5);
            box-shadow: 0 10px 30px -10px rgba(239, 68, 68, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        .sub-cta-btn:hover::before {
            opacity: 1;
        }

        .sub-cta-btn span {
            position: relative;
            z-index: 1;
        }

        .sub-cta-btn:active {
            transform: translateY(0);
        }

        .sub-terms {
            text-align: center;
            margin-top: 1.25rem;
            font-size: 0.75rem;
            color: rgba(255, 255, 255, 0.35);
        }

        .sub-terms a {
            color: rgba(255, 255, 255, 0.5);
            text-decoration: none;
            transition: color 0.2s ease;
        }

        .sub-terms a:hover {
            color: #ef4444;
        }

        .sub-modal-particles {
            position: absolute;
            inset: 0;
            overflow: hidden;
            pointer-events: none;
            border-radius: 20px;
        }

        .sub-particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: rgba(239, 68, 68, 0.4);
            border-radius: 50%;
            animation: subFloat 8s infinite ease-in-out;
        }

        @keyframes subFloat {
            0%, 100% { transform: translateY(0) scale(1); opacity: 0; }
            10% { opacity: 0.6; }
            90% { opacity: 0.6; }
            50% { transform: translateY(-100px) scale(0.5); }
        }

        /* ==================== */
        /* Browse Mobile Styles */
        /* ==================== */
        @media (max-width: 768px) {
            /* Sidebar floats over content on mobile */
            .sidebar {
                position: fixed !important;
                z-index: 99998 !important;
            }

            /* Hide submenus on mobile */
            .submenu-panel {
                display: none !important;
            }

            .nav-item-with-submenu .nav-arrow {
                display: none !important;
            }

            /* Full width main content - sidebar overlays */
            .main-content {
                margin-left: 0 !important;
                padding: 0 16px !important;
                width: 100% !important;
            }

            /* Enable touch scrolling on content rows */
            .slider-mask {
                overflow-x: auto !important;
                overflow-y: hidden !important;
                -webkit-overflow-scrolling: touch !important;
                scrollbar-width: none;
                -ms-overflow-style: none;
            }

            .slider-mask::-webkit-scrollbar {
                display: none;
            }

            .content-row {
                touch-action: auto !important;
                transform: none !important;
                will-change: auto !important;
                transition: none !important;
            }

            /* Cards allow both scroll directions */
            .content-card,
            .card-image {
                touch-action: auto !important;
            }

            /* Hide scroll buttons on mobile - use touch instead */
            .row-scroll-btn {
                display: none !important;
            }

            /* Adjust hero for mobile */
            .hero-section {
                height: 75vh !important;
                min-height: 550px !important;
            }

            .hero-carousel-item {
                padding: 0 16px !important;
                padding-bottom: 120px !important;
            }

            .hero-content-wrapper {
                max-width: 100% !important;
            }

            .hero-title {
                font-size: 2rem !important;
                line-height: 1.2 !important;
            }

            .hero-meta {
                flex-wrap: wrap !important;
                gap: 8px !important;
            }

            .hero-description {
                font-size: 0.9rem !important;
                -webkit-line-clamp: 3 !important;
            }

            .hero-buttons {
                flex-direction: column !important;
                gap: 10px !important;
            }

            .hero-buttons .btn {
                width: 100% !important;
                justify-content: center !important;
                padding: 14px 20px !important;
            }

            /* Hero navigation dots */
            .hero-nav {
                bottom: 90px !important;
            }

            /* Floating menu adjustments */
            .floating-menu {
                bottom: 90px !important;
                right: 16px !important;
            }

            .floating-menu.expanded {
                width: calc(100vw - 32px) !important;
                right: 16px !important;
            }

            .floating-bubble {
                width: 50px !important;
                height: 50px !important;
            }

            /* Content rows */
            .content-section {
                padding: 16px 0 !important;
            }

            .row-header {
                padding: 0 16px !important;
                margin-bottom: 12px !important;
            }

            .row-title {
                font-size: 1.1rem !important;
            }

            .row-scroll {
                padding: 0 16px !important;
                gap: 10px !important;
            }

            /* Cards */
            .content-card {
                width: 130px !important;
                min-width: 130px !important;
            }

            .card-image {
                height: 185px !important;
            }

            .card-overlay {
                padding: 10px !important;
            }

            .card-play-btn {
                width: 36px !important;
                height: 36px !important;
            }

            .card-play-btn svg {
                width: 14px !important;
                height: 14px !important;
            }

            .card-info {
                padding: 10px !important;
            }

            .card-title {
                font-size: 0.8rem !important;
            }

            .card-meta {
                font-size: 0.65rem !important;
            }

            /* Progress bar on cards */
            .watch-progress {
                height: 2px !important;
            }

            /* Header bar */
            .header-bar {
                padding: 12px 16px !important;
            }

            .header-search {
                display: none !important;
            }

            .header-user-avatar {
                width: 32px !important;
                height: 32px !important;
            }

            /* Subscription modal */
            .subscription-modal-content {
                width: 95% !important;
                max-width: none !important;
                padding: 24px 16px !important;
                max-height: 90vh !important;
            }

            .sub-plans {
                flex-direction: column !important;
            }

            .sub-plan {
                padding: 20px !important;
            }

            /* Search results */
            .search-results {
                grid-template-columns: repeat(2, 1fr) !important;
                gap: 12px !important;
                padding: 16px !important;
            }

            /* User menu dropdown */
            .user-menu {
                right: 0 !important;
                left: auto !important;
                width: 250px !important;
            }
        }

        /* Small phones */
        @media (max-width: 375px) {
            .hero-title {
                font-size: 1.7rem !important;
            }

            .content-card {
                width: 115px !important;
                min-width: 115px !important;
            }

            .card-image {
                height: 165px !important;
            }

            .floating-menu.expanded {
                bottom: 85px !important;
            }
        }

        /* Critical Mobile Nav Styles - Inline Backup */
        .mobile-nav {
            display: none;
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            height: 70px;
            background: rgba(5, 5, 10, 0.98);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-top: 1px solid rgba(255, 255, 255, 0.08);
            z-index: 999999;
            justify-content: space-around;
            align-items: center;
            padding: 8px 0 env(safe-area-inset-bottom, 0px) 0;
        }
        .mobile-nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            text-decoration: none;
            color: rgba(255, 255, 255, 0.5);
            font-size: 0.65rem;
            padding: 8px 12px;
        }
        .mobile-nav-item.active { color: #fff; }
        .mobile-nav-item svg { width: 24px; height: 24px; stroke-width: 1.5; }
        @media (max-width: 768px) {
            .mobile-nav { display: flex !important; }
            body { padding-bottom: 80px !important; }
        }

        /* ==========================================
           COOKIE CONSENT SYSTEM
           ========================================== */
        .cookie-banner {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(15, 15, 15, 0.98);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-top: 1px solid rgba(255, 255, 255, 0.08);
            padding: 1.25rem 2rem;
            z-index: 10000;
            transform: translateY(100%);
            opacity: 0;
            transition: transform 0.5s cubic-bezier(0.16, 1, 0.3, 1), opacity 0.5s ease;
        }

        .cookie-banner.visible {
            transform: translateY(0);
            opacity: 1;
        }

        .cookie-banner.hidden {
            transform: translateY(100%);
            opacity: 0;
            pointer-events: none;
        }

        .cookie-banner-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 2rem;
        }

        .cookie-banner-text h4 {
            font-size: 0.95rem;
            font-weight: 600;
            color: #fff;
            margin-bottom: 0.35rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .cookie-banner-text h4 svg {
            width: 18px;
            height: 18px;
            color: #f97316;
        }

        .cookie-banner-text p {
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.6);
            line-height: 1.5;
            margin: 0;
        }

        .cookie-banner-text a {
            color: #f97316;
            text-decoration: none;
        }

        .cookie-banner-text a:hover {
            text-decoration: underline;
        }

        .cookie-banner-actions {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            flex-shrink: 0;
        }

        .cookie-btn {
            padding: 0.65rem 1.25rem;
            border-radius: 8px;
            font-family: 'Outfit', sans-serif;
            font-size: 0.85rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            border: none;
            white-space: nowrap;
        }

        .cookie-btn-accept {
            background: linear-gradient(135deg, #ef4444, #f97316);
            color: #fff;
            box-shadow: 0 4px 15px rgba(239, 68, 68, 0.25);
        }

        .cookie-btn-accept:hover {
            transform: translateY(-1px);
            box-shadow: 0 6px 20px rgba(239, 68, 68, 0.35);
        }

        .cookie-btn-settings {
            background: rgba(255, 255, 255, 0.08);
            color: rgba(255, 255, 255, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .cookie-btn-settings:hover {
            background: rgba(255, 255, 255, 0.12);
            color: #fff;
        }

        .cookie-btn-reject {
            background: transparent;
            color: rgba(255, 255, 255, 0.5);
            padding: 0.65rem 1rem;
        }

        .cookie-btn-reject:hover {
            color: rgba(255, 255, 255, 0.8);
        }

        .cookie-modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            z-index: 10001;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }

        .cookie-modal-overlay.visible {
            opacity: 1;
            visibility: visible;
        }

        .cookie-modal {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.95);
            background: #0f0f0f;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            width: 90%;
            max-width: 560px;
            max-height: 85vh;
            overflow: hidden;
            z-index: 10002;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
        }

        .cookie-modal-overlay.visible .cookie-modal {
            opacity: 1;
            visibility: visible;
            transform: translate(-50%, -50%) scale(1);
        }

        .cookie-modal-header {
            padding: 1.5rem 1.5rem 1rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.06);
            position: relative;
        }

        .cookie-modal-header h3 {
            font-size: 1.25rem;
            font-weight: 700;
            color: #fff;
            margin-bottom: 0.5rem;
        }

        .cookie-modal-header p {
            font-size: 0.875rem;
            color: rgba(255, 255, 255, 0.5);
            line-height: 1.5;
        }

        .cookie-modal-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            width: 32px;
            height: 32px;
            border: none;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            color: rgba(255, 255, 255, 0.5);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
            font-size: 1.25rem;
        }

        .cookie-modal-close:hover {
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
        }

        .cookie-modal-body {
            padding: 1rem 1.5rem;
            max-height: 400px;
            overflow-y: auto;
        }

        .cookie-category {
            padding: 1rem 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .cookie-category:last-child {
            border-bottom: none;
        }

        .cookie-category-header {
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
            gap: 1rem;
        }

        .cookie-category-title {
            font-size: 0.95rem;
            font-weight: 600;
            color: #fff;
            margin-bottom: 0.25rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .required-badge {
            font-size: 0.65rem;
            font-weight: 500;
            color: rgba(255, 255, 255, 0.4);
            background: rgba(255, 255, 255, 0.05);
            padding: 0.15rem 0.5rem;
            border-radius: 4px;
            text-transform: uppercase;
        }

        .cookie-category-desc {
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.45);
            line-height: 1.5;
        }

        .cookie-toggle {
            position: relative;
            width: 44px;
            height: 24px;
            flex-shrink: 0;
        }

        .cookie-toggle input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .cookie-toggle-slider {
            position: absolute;
            cursor: pointer;
            inset: 0;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 24px;
            transition: all 0.3s ease;
        }

        .cookie-toggle-slider::before {
            content: '';
            position: absolute;
            height: 18px;
            width: 18px;
            left: 3px;
            bottom: 3px;
            background: #fff;
            border-radius: 50%;
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        .cookie-toggle input:checked + .cookie-toggle-slider {
            background: linear-gradient(135deg, #ef4444, #f97316);
        }

        .cookie-toggle input:checked + .cookie-toggle-slider::before {
            transform: translateX(20px);
        }

        .cookie-toggle input:disabled + .cookie-toggle-slider {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .cookie-modal-footer {
            padding: 1rem 1.5rem 1.5rem;
            border-top: 1px solid rgba(255, 255, 255, 0.06);
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 1rem;
        }

        .cookie-modal-footer-left {
            display: flex;
            gap: 0.5rem;
        }

        .cookie-btn-small {
            padding: 0.5rem 0.85rem;
            font-size: 0.8rem;
        }

        .cookie-settings-float {
            position: fixed;
            bottom: 1.5rem;
            left: 1.5rem;
            width: 42px;
            height: 42px;
            background: rgba(15, 15, 15, 0.9);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            color: rgba(255, 255, 255, 0.6);
            z-index: 9999;
            opacity: 0;
            visibility: hidden;
            transform: scale(0.8);
            transition: all 0.3s ease;
        }

        .cookie-settings-float.visible {
            opacity: 1;
            visibility: visible;
            transform: scale(1);
        }

        .cookie-settings-float:hover {
            background: rgba(25, 25, 25, 0.95);
            border-color: rgba(255, 255, 255, 0.15);
            color: #f97316;
        }

        .cookie-settings-float svg {
            width: 20px;
            height: 20px;
        }

        @media (max-width: 768px) {
            .cookie-banner {
                padding: 1rem;
                bottom: 70px;
            }
            
            .cookie-banner-content {
                flex-direction: column;
                align-items: stretch;
                gap: 1rem;
            }
            
            .cookie-banner-actions {
                flex-wrap: wrap;
            }
            
            .cookie-btn {
                flex: 1;
                min-width: calc(50% - 0.375rem);
                text-align: center;
            }
            
            .cookie-btn-reject {
                order: 3;
                flex-basis: 100%;
            }
            
            .cookie-modal {
                width: 95%;
                max-height: 90vh;
            }
            
            .cookie-modal-footer {
                flex-direction: column;
            }
            
            .cookie-modal-footer-left {
                width: 100%;
            }
            
            .cookie-modal-footer-left .cookie-btn {
                flex: 1;
            }
            
            .cookie-modal-footer .cookie-btn-accept {
                width: 100%;
            }
            
            .cookie-settings-float {
                bottom: 80px;
                left: 1rem;
                width: 38px;
                height: 38px;
            }
        }
    </style>
</head>

<!-- Supabase SDK -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<link rel="stylesheet" href="../css/auth-modal.css">
<link rel="stylesheet" href="../css/mobile.css">

<body>
    <!-- Age Gate -->
    <!-- Premium Loader -->
    <div class="site-loader active" id="siteLoader">
        <!-- Ambient orbs -->
        <div class="loader-orb loader-orb-1"></div>
        <div class="loader-orb loader-orb-2"></div>
        
        <!-- Floating particles -->
        <div class="loader-particles">
            <div class="loader-particle"></div>
            <div class="loader-particle"></div>
            <div class="loader-particle"></div>
            <div class="loader-particle"></div>
            <div class="loader-particle"></div>
            <div class="loader-particle"></div>
            <div class="loader-particle"></div>
            <div class="loader-particle"></div>
            <div class="loader-particle"></div>
        </div>
        
        <div class="loader-container">
            <!-- Spinning rings with logo -->
            <div class="loader-rings">
                <div class="loader-glow"></div>
                <div class="loader-ring loader-ring-1"></div>
                <div class="loader-ring loader-ring-2"></div>
                <div class="loader-ring loader-ring-3"></div>
                <div class="loader-logo">S</div>
            </div>
            
            <!-- Progress section -->
            <div class="loader-progress-container">
                <div class="loader-status" id="loaderStatus">Initializing experience...</div>
                <div class="loader-progress-bar">
                    <div class="loader-progress-glow"></div>
                    <div class="loader-progress-fill" id="loaderProgress"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- App Container -->
    <div class="app-container" id="appContainer">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <!-- Glow aura element -->
            <div class="sidebar-glow"></div>
            
            <button class="sidebar-toggle" id="sidebarToggle" onclick="toggleSidebar()">
                <svg viewBox="0 0 24 24" stroke="white" stroke-width="2.5" fill="none">
                    <path d="M6 9l6 6 6-6"/>
                </svg>
            </button>

            <div class="sidebar-header">
                <!-- SIREN Logo -->
                <a href="../" class="sidebar-logo">SIREN</a>

                
                <div class="header-user">
                    <div class="user-avatar">
                        <span class="avatar-border-arc"></span>
                        <svg class="avatar-icon" viewBox="0 0 24 24">
                            <path d="M12 21C12 21 4 15 4 9.5C4 6.5 6.5 4 9.5 4C11 4 12 5 12 5C12 5 13 4 14.5 4C17.5 4 20 6.5 20 9.5C20 15 12 21 12 21Z" fill="#0a0a0a" stroke="rgba(255,255,255,0.1)" stroke-width="0.5"/>
                        </svg>
                    </div>
                    <div class="user-time" id="currentTime">9:41 PM</div>
                </div>
            </div>

            <div class="sidebar-search-container">
                <div class="sidebar-search" id="searchBar">
                    <svg viewBox="0 0 24 24" stroke="#71717a" stroke-width="2" fill="none">
                        <circle cx="11" cy="11" r="8"/>
                        <path d="m21 21-4.3-4.3"/>
                    </svg>
                    <input type="text" class="search-input" id="searchInput" placeholder="Search..." autocomplete="off">
                    <kbd class="search-kbd">âŒ˜K</kbd>
                </div>
            </div>

            <nav class="nav-section">
                <div class="nav-item active" data-nav="home">
                    <svg class="nav-icon" viewBox="0 0 24 24" stroke="#a1a1aa" stroke-width="1.75" fill="none">
                        <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
                        <polyline points="9,22 9,12 15,12 15,22"/>
                    </svg>
                    <span class="nav-text">Home</span>
                    <div class="tooltip">Home</div>
                </div>
                <div class="nav-item nav-item-with-submenu" data-nav="browse" data-submenu="browseSubmenu">
                    <svg class="nav-icon" viewBox="0 0 24 24" stroke="#a1a1aa" stroke-width="1.75" fill="none">
                        <rect x="3" y="3" width="7" height="7"/>
                        <rect x="14" y="3" width="7" height="7"/>
                        <rect x="14" y="14" width="7" height="7"/>
                        <rect x="3" y="14" width="7" height="7"/>
                    </svg>
                    <span class="nav-text">Browse</span>
                    <svg class="nav-arrow" viewBox="0 0 24 24" fill="none">
                        <path d="M9 18l6-6-6-6"/>
                    </svg>
                </div>
                <div class="nav-item nav-item-with-submenu" data-nav="performers" data-submenu="performersSubmenu">
                    <svg class="nav-icon" viewBox="0 0 24 24" stroke="#a1a1aa" stroke-width="1.75" fill="none">
                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                        <circle cx="12" cy="7" r="4"/>
                    </svg>
                    <span class="nav-text">Performers</span>
                    <svg class="nav-arrow" viewBox="0 0 24 24" fill="none">
                        <path d="M9 18l6-6-6-6"/>
                    </svg>
                </div>
                <div class="nav-item" data-nav="downloads">
                    <svg class="nav-icon" viewBox="0 0 24 24" stroke="#a1a1aa" stroke-width="1.75" fill="none">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                        <polyline points="7,10 12,15 17,10"/>
                        <line x1="12" y1="15" x2="12" y2="3"/>
                    </svg>
                    <span class="nav-text">Downloads</span>
                    <div class="tooltip">Downloads</div>
                </div>
                <div class="nav-item" data-nav="mylist">
                    <svg class="nav-icon" viewBox="0 0 24 24" stroke="#a1a1aa" stroke-width="1.75" fill="none">
                        <path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"/>
                    </svg>
                    <span class="nav-text">My List</span>
                    <div class="tooltip">My List</div>
                </div>
            </nav>

            <nav class="nav-section">
                <div class="nav-section-title">Collections</div>
                <div class="nav-item" data-nav="premium">
                    <div class="nav-icon-box pink">
                        <svg viewBox="0 0 24 24" stroke="#ffffff" stroke-width="2" fill="none">
                            <polygon points="12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26"/>
                        </svg>
                    </div>
                    <span class="nav-text">Premium</span>
                    <div class="tooltip">Premium</div>
                </div>
                <div class="nav-item" data-nav="immersive">
                    <div class="nav-icon-box purple">
                        <svg viewBox="0 0 24 24" stroke="#ffffff" stroke-width="2" fill="none">
                            <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
                        </svg>
                    </div>
                    <span class="nav-text">Immersive 3D</span>
                    <div class="tooltip">Immersive 3D</div>
                </div>
                <div class="nav-item" data-nav="vr">
                    <div class="nav-icon-box blue">
                        <svg viewBox="0 0 24 24" stroke="#ffffff" stroke-width="2" fill="none">
                            <rect x="2" y="3" width="20" height="14" rx="2" ry="2"/>
                            <line x1="8" y1="21" x2="16" y2="21"/>
                            <line x1="12" y1="17" x2="12" y2="21"/>
                        </svg>
                    </div>
                    <span class="nav-text">VR Ready</span>
                    <div class="tooltip">VR Ready</div>
                </div>
            </nav>
        </aside>

        <!-- Search dropdown OUTSIDE sidebar for proper positioning -->
        <div class="search-dropdown" id="searchDropdown">
            <div class="search-dropdown-section" id="searchRecommended">
                <div class="search-dropdown-title">Recommended For You</div>
                <div class="search-dropdown-items" id="recommendedItems"></div>
            </div>
            <div class="search-dropdown-section" id="searchResults" style="display: none;">
                <div class="search-dropdown-title">Results</div>
                <div class="search-dropdown-items" id="resultItems"></div>
            </div>
            <div class="search-dropdown-section" id="searchTrending">
                <div class="search-dropdown-title">Trending Now</div>
                <div class="search-dropdown-items" id="trendingItems"></div>
            </div>
            <div class="search-dropdown-empty" id="searchEmpty" style="display: none;">
                <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5" fill="none">
                    <circle cx="11" cy="11" r="8"/>
                    <path d="m21 21-4.3-4.3"/>
                </svg>
                <span>No results found</span>
            </div>
        </div>

        <!-- Submenus OUTSIDE sidebar for real glassmorphism -->
        <div class="submenu-panel" id="browseSubmenu">
            <div class="submenu-header">
                <div class="submenu-header-top">
                    <div class="submenu-title">Browse Categories</div>
                    <a href="../categories/" class="submenu-view-all" style="margin-left:auto;font-size:0.8rem;color:#a1a1aa;text-decoration:none;display:flex;align-items:center;gap:4px;transition:color 0.2s;">View All <svg viewBox="0 0 24 24" style="width:14px;height:14px;stroke:currentColor;stroke-width:2;fill:none;"><polyline points="9 18 15 12 9 6"/></svg></a>
                </div>
                <div class="submenu-tabs">
                    <div class="submenu-tab active">All</div>
                    <div class="submenu-tab">Popular</div>
                    <div class="submenu-tab">New</div>
                    <div class="submenu-tab">VR</div>
                    <div class="submenu-tab">4K</div>
                    <div class="submenu-tab">Trending</div>
                </div>
            </div>
            <div class="submenu-body">
                <div class="category-grid">
                    <div class="category-card featured">
                        <div class="category-bg" style="background: url('../images/1.jpg') center/cover no-repeat"></div>
                        <div class="category-gradient"></div>
                        <div class="category-glow"></div>
                        <div class="category-badge">Hot</div>
                        <div class="category-content">
                            <div class="category-icon"><svg viewBox="0 0 24 24"><polygon points="12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26"/></svg></div>
                            <div class="category-name">Most Popular</div>
                            <div class="category-count">2,847 videos</div>
                        </div>
                    </div>
                    <div class="category-card">
                        <div class="category-bg" style="background: url('../images/8.jpg') center/cover no-repeat"></div>
                        <div class="category-gradient"></div>
                        <div class="category-glow"></div>
                        <div class="category-content">
                            <div class="category-icon"><svg viewBox="0 0 24 24"><path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/></svg></div>
                            <div class="category-name">VR 180Â°</div>
                            <div class="category-count">1,245 videos</div>
                        </div>
                    </div>
                    <div class="category-card">
                        <div class="category-bg" style="background: url('../images/9.jpg') center/cover no-repeat"></div>
                        <div class="category-gradient"></div>
                        <div class="category-glow"></div>
                        <div class="category-content">
                            <div class="category-icon"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><line x1="2" y1="12" x2="22" y2="12"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg></div>
                            <div class="category-name">360Â° Full</div>
                            <div class="category-count">892 videos</div>
                        </div>
                    </div>
                    <div class="category-card">
                        <div class="category-bg" style="background: url('../images/2.jpg') center/cover no-repeat"></div>
                        <div class="category-gradient"></div>
                        <div class="category-glow"></div>
                        <div class="category-badge">New</div>
                        <div class="category-content">
                            <div class="category-icon"><svg viewBox="0 0 24 24"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/></svg></div>
                            <div class="category-name">Romantic</div>
                            <div class="category-count">1,567 videos</div>
                        </div>
                    </div>
                    <div class="category-card">
                        <div class="category-bg" style="background: url('../images/3.jpg') center/cover no-repeat"></div>
                        <div class="category-gradient"></div>
                        <div class="category-glow"></div>
                        <div class="category-content">
                            <div class="category-icon"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path d="M8 14s1.5 2 4 2 4-2 4-2M9 9h.01M15 9h.01"/></svg></div>
                            <div class="category-name">Amateur</div>
                            <div class="category-count">2,103 videos</div>
                        </div>
                    </div>
                    <div class="category-card">
                        <div class="category-bg" style="background: url('../images/4.jpg') center/cover no-repeat"></div>
                        <div class="category-gradient"></div>
                        <div class="category-glow"></div>
                        <div class="category-content">
                            <div class="category-icon"><svg viewBox="0 0 24 24"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg></div>
                            <div class="category-name">Solo</div>
                            <div class="category-count">1,892 videos</div>
                        </div>
                    </div>
                    <div class="category-card">
                        <div class="category-bg" style="background: url('../images/5.jpg') center/cover no-repeat"></div>
                        <div class="category-gradient"></div>
                        <div class="category-glow"></div>
                        <div class="category-content">
                            <div class="category-icon"><svg viewBox="0 0 24 24"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg></div>
                            <div class="category-name">Couples</div>
                            <div class="category-count">1,456 videos</div>
                        </div>
                    </div>
                    <div class="category-card">
                        <div class="category-bg" style="background: url('../images/6.jpg') center/cover no-repeat"></div>
                        <div class="category-gradient"></div>
                        <div class="category-glow"></div>
                        <div class="category-content">
                            <div class="category-icon"><svg viewBox="0 0 24 24"><rect x="2" y="3" width="20" height="14" rx="2" ry="2"/><line x1="8" y1="21" x2="16" y2="21"/><line x1="12" y1="17" x2="12" y2="21"/></svg></div>
                            <div class="category-name">POV</div>
                            <div class="category-count">2,341 videos</div>
                        </div>
                    </div>
                    <div class="category-card">
                        <div class="category-bg" style="background: url('../images/7.jpg') center/cover no-repeat"></div>
                        <div class="category-gradient"></div>
                        <div class="category-glow"></div>
                        <div class="category-content">
                            <div class="category-icon"><svg viewBox="0 0 24 24"><path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"/><circle cx="12" cy="13" r="4"/></svg></div>
                            <div class="category-name">Behind Scenes</div>
                            <div class="category-count">567 videos</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="submenu-footer">
                <div class="submenu-view-all"><span>Explore All Categories</span><svg viewBox="0 0 24 24"><path d="M5 12h14M12 5l7 7-7 7"/></svg></div>
            </div>
        </div>

        <div class="submenu-panel" id="performersSubmenu">
            <div class="submenu-header">
                <div class="submenu-header-top">
                    <div class="submenu-title">Featured Performers</div>
                </div>
                <div class="submenu-tabs">
                    <div class="submenu-tab active">Featured</div>
                    <div class="submenu-tab">Trending</div>
                    <div class="submenu-tab">New</div>
                    <div class="submenu-tab">Top Rated</div>
                </div>
            </div>
            <div class="submenu-body">
                <div class="performer-card featured" style="width: 100%; display: flex; flex-direction: row; align-items: center; gap: 20px; margin-bottom: 12px; background: linear-gradient(135deg, rgba(239, 68, 68, 0.1), rgba(249, 115, 22, 0.06)); border-color: rgba(239, 68, 68, 0.2);">
                    <div class="performer-avatar-large" style="flex-shrink: 0;">
                        <div class="performer-ring"></div>
                        <div class="performer-avatar-bg" style="background: url('../images/1.jpg') center/cover no-repeat;">
                        </div>
                    </div>
                    <div class="performer-info" style="flex: 1; text-align: left;">
                        <div class="performer-featured-label"><svg viewBox="0 0 24 24"><polygon points="12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26"/></svg> Performer of the Week</div>
                        <div class="performer-card-name">Aria Rose</div>
                        <div class="performer-stats">
                            <div class="performer-stat"><span>156</span> scenes</div>
                            <div class="performer-stat"><span>4.9</span> rating</div>
                            <div class="performer-stat"><span>2.4M</span> views</div>
                        </div>
                    </div>
                </div>
                <div class="performer-grid">
                    <a href="../performer/?id=luna-star" class="performer-card">
                        <div class="performer-trending"><svg viewBox="0 0 24 24"><polyline points="23 6 13.5 15.5 8.5 10.5 1 18"/></svg></div>
                        <div class="performer-avatar-large">
                            <div class="performer-ring"></div>
                            <div class="performer-avatar-bg" style="background: url('../images/2.jpg') center/cover no-repeat;">
                            </div>
                        </div>
                        <div class="performer-card-name">Luna Star</div>
                        <div class="performer-card-meta">89 scenes â€¢ 4.8â˜…</div>
                    </a>
                    <a href="../performer/?id=jade-west" class="performer-card">
                        <div class="performer-avatar-large">
                            <div class="performer-ring"></div>
                            <div class="performer-avatar-bg" style="background: url('../images/3.jpg') center/cover no-repeat;">
                            </div>
                        </div>
                        <div class="performer-card-name">Jade West</div>
                        <div class="performer-card-meta">67 scenes â€¢ 4.7â˜…</div>
                    </a>
                    <a href="../performer/?id=mia-chen" class="performer-card">
                        <div class="performer-trending"><svg viewBox="0 0 24 24"><polyline points="23 6 13.5 15.5 8.5 10.5 1 18"/></svg></div>
                        <div class="performer-avatar-large">
                            <div class="performer-ring"></div>
                            <div class="performer-avatar-bg" style="background: url('../images/4.jpg') center/cover no-repeat;">
                            </div>
                        </div>
                        <div class="performer-card-name">Mia Chen</div>
                        <div class="performer-card-meta">124 scenes â€¢ 4.9â˜…</div>
                    </a>
                    <a href="../performer/?id=sofia-vega" class="performer-card">
                        <div class="performer-avatar-large">
                            <div class="performer-ring"></div>
                            <div class="performer-avatar-bg" style="background: url('../images/5.jpg') center/cover no-repeat;">
                            </div>
                        </div>
                        <div class="performer-card-name">Sofia Vega</div>
                        <div class="performer-card-meta">92 scenes â€¢ 4.8â˜…</div>
                    </a>
                    <a href="../performer/?id=emma-blake" class="performer-card">
                        <div class="performer-avatar-large">
                            <div class="performer-ring"></div>
                            <div class="performer-avatar-bg" style="background: url('../images/6.jpg') center/cover no-repeat;">
                            </div>
                        </div>
                        <div class="performer-card-name">Emma Blake</div>
                        <div class="performer-card-meta">78 scenes â€¢ 4.6â˜…</div>
                    </a>
                    <a href="../performer/?id=lily-james" class="performer-card">
                        <div class="performer-avatar-large">
                            <div class="performer-ring"></div>
                            <div class="performer-avatar-bg" style="background: url('../images/7.jpg') center/cover no-repeat;">
                            </div>
                        </div>
                        <div class="performer-card-name">Lily James</div>
                        <div class="performer-card-meta">45 scenes â€¢ 4.7â˜…</div>
                    </a>
                </div>
            </div>
            <div class="submenu-footer">
                <a href="../performer/" class="submenu-view-all"><span>View All Performers</span><svg viewBox="0 0 24 24"><path d="M5 12h14M12 5l7 7-7 7"/></svg></a>
            </div>
        </div>

        <!-- Account Submenu Panel -->
        <div class="submenu-panel account-panel" id="accountSubmenu">
            <div class="submenu-header">
                <div class="submenu-header-top">
                    <div class="submenu-title">Account</div>
                    <button class="submenu-close" onclick="closeAccountMenu()">
                        <svg viewBox="0 0 24 24"><path d="M18 6L6 18M6 6l12 12"/></svg>
                    </button>
                </div>
            </div>
            
            <!-- Signed Out State -->
            <div class="submenu-body account-body account-signed-out" id="accountSignedOut">
                <div class="account-signin-prompt">
                    <div class="account-signin-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                            <circle cx="12" cy="8" r="4"/>
                            <path d="M4 20c0-4 4-6 8-6s8 2 8 6"/>
                        </svg>
                    </div>
                    <h3>Welcome to SIREN</h3>
                    <p>Sign in to access your watchlist, preferences, and personalized recommendations.</p>
                    <button class="account-signin-btn" onclick="closeAccountMenu(); if(typeof openAuthModal === 'function') openAuthModal('signin');">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"/>
                            <polyline points="10 17 15 12 10 7"/>
                            <line x1="15" y1="12" x2="3" y2="12"/>
                        </svg>
                        Sign In
                    </button>
                    <div class="account-signup-link">
                        New to SIREN? <a href="#" onclick="closeAccountMenu(); if(typeof openAuthModal === 'function') openAuthModal('signup'); return false;">Create account</a>
                    </div>
                </div>
            </div>
            
            <!-- Signed In State -->
            <div class="submenu-body account-body account-signed-in" id="accountSignedIn" style="display: none;">
                <!-- Profile Section -->
                <div class="account-profile">
                    <div class="account-avatar">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                            <circle cx="12" cy="8" r="4"/>
                            <path d="M4 20c0-4 4-6 8-6s8 2 8 6"/>
                        </svg>
                    </div>
                    <div class="account-info">
                        <div class="account-name" data-user-name>Account</div>
                        <div class="account-email" data-user-email><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="e491978196a48189858d88ca878b89">[email&#160;protected]</a></div>
                    </div>
                </div>

                <!-- Subscription Status -->
                <div class="account-section">
                    <div class="account-section-title">Subscription</div>
                    <div class="account-tier">
                        <div class="tier-badge free">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                            </svg>
                            <span data-user-tier>Free</span>
                        </div>
                        <button class="upgrade-btn" id="openSubModal">Upgrade</button>
                    </div>
                </div>

                <!-- Menu Items -->
                <div class="account-section">
                    <div class="account-section-title">Settings</div>
                    <div class="account-menu-items">
                        <a href="../account/#profile" class="account-menu-item">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.75">
                                <circle cx="12" cy="8" r="4"/>
                                <path d="M4 20c0-4 4-6 8-6s8 2 8 6"/>
                            </svg>
                            <span>Edit Profile</span>
                            <svg class="item-arrow" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M9 18l6-6-6-6"/>
                            </svg>
                        </a>
                        <a href="../account/#preferences" class="account-menu-item">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.75">
                                <circle cx="12" cy="12" r="3"/>
                                <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/>
                            </svg>
                            <span>Preferences</span>
                            <svg class="item-arrow" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M9 18l6-6-6-6"/>
                            </svg>
                        </a>
                        <a href="../account/#security" class="account-menu-item">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.75">
                                <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/>
                                <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
                            </svg>
                            <span>Security</span>
                            <svg class="item-arrow" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M9 18l6-6-6-6"/>
                            </svg>
                        </a>
                        <a href="../account/#billing" class="account-menu-item">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.75">
                                <rect x="1" y="4" width="22" height="16" rx="2" ry="2"/>
                                <line x1="1" y1="10" x2="23" y2="10"/>
                            </svg>
                            <span>Billing</span>
                            <svg class="item-arrow" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M9 18l6-6-6-6"/>
                            </svg>
                        </a>
                        <a href="../account/#help" class="account-menu-item">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.75">
                                <circle cx="12" cy="12" r="10"/>
                                <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/>
                                <line x1="12" y1="17" x2="12.01" y2="17"/>
                            </svg>
                            <span>Help & Support</span>
                            <svg class="item-arrow" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M9 18l6-6-6-6"/>
                            </svg>
                        </a>
                    </div>
                </div>
                
                <!-- Admin Section (only visible to admins) -->
                <div class="account-section" data-admin-only style="display: none;">
                    <div class="account-section-title" style="color: #ef4444;">Admin</div>
                    <div class="account-menu-items">
                        <a href="../admin/" class="account-menu-item" style="color: #ef4444;">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.75">
                                <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                            </svg>
                            <span>Admin Panel</span>
                            <svg class="item-arrow" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M9 18l6-6-6-6"/>
                            </svg>
                        </a>
                    </div>
                </div>
            </div>
            <div class="submenu-footer account-footer" id="accountFooter">
                <button class="sign-out-btn" onclick="SIREN.signOut()">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.75">
                        <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/>
                        <polyline points="16 17 21 12 16 7"/>
                        <line x1="21" y1="12" x2="9" y2="12"/>
                    </svg>
                    <span>Sign Out</span>
                </button>
            </div>
        </div>

        <!-- Main Content -->
        <main class="main-content" id="mainContent">
            <!-- Featured Hero Carousel -->
            <section class="featured-hero">
                <div class="featured-slide active" data-index="0">
                    <div class="featured-bg">
                        <video muted loop playsinline>
                            <source src="https://tzxbhrrhgahvcfkokdti.supabase.co/storage/v1/object/public/previews/MidnightRendevous.mp4" type="video/mp4">
                        </video>
                    </div>
                    <div class="featured-content">
                        <div class="featured-label">Featured</div>
                        <h1 class="featured-title">Midnight Rendezvous</h1>
                        <div class="featured-meta">
                            <span class="featured-badge">
                                <svg viewBox="0 0 24 24">
                                    <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
                                </svg>
                                <span>3D Immersive</span>
                            </span>
                            <span>45 min</span>
                            <span>4K Ultra</span>
                            <span>â­ 4.9</span>
                        </div>
                        <p class="featured-description">
                            Experience an intimate evening like never before. Full 360Â° immersion with complete freedom of movement in stunning volumetric detail.
                        </p>
                        <div class="featured-actions">
                            <button class="btn btn-play">
                                <svg viewBox="0 0 24 24">
                                    <path d="M8 5v14l11-7z"/>
                                </svg>
                                Play
                            </button>
                            <button class="btn btn-more" onclick="openInfoModal({img:'../images/1.jpg',title:'Midnight Rendezvous',desc:'Experience an intimate evening like never before. Full 360Â° immersion with complete freedom of movement in stunning volumetric detail.',match:98,year:2024,duration:'45 min',cast:['Aria Valentine','Luna Rose'],genres:'Romantic, Immersive, 4D'})">More Info</button>
                        </div>
                    </div>
                </div>

                <div class="featured-slide" data-index="1">
                    <div class="featured-bg">
                        <video muted loop playsinline>
                            <source src="https://tzxbhrrhgahvcfkokdti.supabase.co/storage/v1/object/public/previews/GoldenHourVid1.mp4" type="video/mp4">
                        </video>
                    </div>
                    <div class="featured-content">
                        <div class="featured-label">New Release</div>
                        <h1 class="featured-title">Golden Hour</h1>
                        <div class="featured-meta">
                            <span class="featured-badge">
                                <svg viewBox="0 0 24 24">
                                    <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
                                </svg>
                                <span>3D Immersive</span>
                            </span>
                            <span>38 min</span>
                            <span>4K Ultra</span>
                            <span>â­ 4.8</span>
                        </div>
                        <p class="featured-description">
                            Warm sunlight, soft touches, and breathtaking moments captured in full volumetric detail. A sensory experience like no other.
                        </p>
                        <div class="featured-actions">
                            <button class="btn btn-play">
                                <svg viewBox="0 0 24 24">
                                    <path d="M8 5v14l11-7z"/>
                                </svg>
                                Play
                            </button>
                            <button class="btn btn-more">More Info</button>
                        </div>
                    </div>
                </div>

                <div class="featured-slide" data-index="2">
                    <div class="featured-bg">
                        <video muted loop playsinline>
                            <source src="https://tzxbhrrhgahvcfkokdti.supabase.co/storage/v1/object/public/previews/VelvetDreams1.mp4" type="video/mp4">
                        </video>
                    </div>
                    <div class="featured-content">
                        <div class="featured-label">Exclusive</div>
                        <h1 class="featured-title">Velvet Dreams</h1>
                        <div class="featured-meta">
                            <span class="featured-badge">
                                <svg viewBox="0 0 24 24">
                                    <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
                                </svg>
                                <span>3D Immersive</span>
                            </span>
                            <span>52 min</span>
                            <span>4K Ultra</span>
                            <span>â­ 4.9</span>
                        </div>
                        <p class="featured-description">
                            Luxurious settings, passionate encounters. Our most requested immersive experience, now available in stunning clarity.
                        </p>
                        <div class="featured-actions">
                            <button class="btn btn-play">
                                <svg viewBox="0 0 24 24">
                                    <path d="M8 5v14l11-7z"/>
                                </svg>
                                Play
                            </button>
                            <button class="btn btn-more">More Info</button>
                        </div>
                    </div>
                </div>

                <div class="featured-slide" data-index="3">
                    <div class="featured-bg">
                        <video muted loop playsinline>
                            <source src="https://tzxbhrrhgahvcfkokdti.supabase.co/storage/v1/object/public/previews/MorningRoutine.mp4" type="video/mp4">
                        </video>
                    </div>
                    <div class="featured-content">
                        <div class="featured-label">Trending</div>
                        <h1 class="featured-title">Morning Routine</h1>
                        <div class="featured-meta">
                            <span class="featured-badge">
                                <svg viewBox="0 0 24 24">
                                    <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
                                </svg>
                                <span>3D Immersive</span>
                            </span>
                            <span>32 min</span>
                            <span>4K Ultra</span>
                            <span>â­ 4.7</span>
                        </div>
                        <p class="featured-description">
                            Start the day right. Intimate moments captured in soft morning light with complete volumetric freedom.
                        </p>
                        <div class="featured-actions">
                            <button class="btn btn-play">
                                <svg viewBox="0 0 24 24">
                                    <path d="M8 5v14l11-7z"/>
                                </svg>
                                Play
                            </button>
                            <button class="btn btn-more">More Info</button>
                        </div>
                    </div>
                </div>

                <div class="featured-slide" data-index="4">
                    <div class="featured-bg">
                        <video muted loop playsinline>
                            <source src="https://tzxbhrrhgahvcfkokdti.supabase.co/storage/v1/object/public/previews/redheadstuff.mp4" type="video/mp4">
                        </video>
                    </div>
                    <div class="featured-content">
                        <div class="featured-label">Staff Pick</div>
                        <h1 class="featured-title">Crimson Desire</h1>
                        <div class="featured-meta">
                            <span class="featured-badge">
                                <svg viewBox="0 0 24 24">
                                    <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
                                </svg>
                                <span>3D Immersive</span>
                            </span>
                            <span>41 min</span>
                            <span>4K Ultra</span>
                            <span>â­ 4.8</span>
                        </div>
                        <p class="featured-description">
                            Fiery passion meets artistic elegance. An unforgettable immersive encounter with stunning visual fidelity.
                        </p>
                        <div class="featured-actions">
                            <button class="btn btn-play">
                                <svg viewBox="0 0 24 24">
                                    <path d="M8 5v14l11-7z"/>
                                </svg>
                                Play
                            </button>
                            <button class="btn btn-more">More Info</button>
                        </div>
                    </div>
                </div>

                <div class="carousel-dots">
                    <div class="carousel-dot active" data-index="0"></div>
                    <div class="carousel-dot" data-index="1"></div>
                    <div class="carousel-dot" data-index="2"></div>
                    <div class="carousel-dot" data-index="3"></div>
                    <div class="carousel-dot" data-index="4"></div>
                </div>
                <button class="carousel-arrow carousel-arrow-right" id="carouselNext">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="9 18 15 12 9 6"/>
                    </svg>
                </button>
            </section>

            <!-- Mobile Category Tabs (hidden on desktop) -->
            <div class="mobile-browse-tabs" id="mobileTabs">
                <button class="mobile-tab active" data-category="all">All</button>
                <button class="mobile-tab" data-category="trending">Trending</button>
                <button class="mobile-tab" data-category="new">New</button>
                <button class="mobile-tab" data-category="performers">Performers</button>
                <button class="mobile-tab" data-category="popular">Popular</button>
                <button class="mobile-tab" data-category="vr">VR</button>
            </div>

            <!-- Mobile Grid View (hidden on desktop) -->
            <div class="mobile-content-grid" id="mobileGrid">
                <!-- Populated by JS -->
            </div>

            <!-- Content Area -->
            <div class="content-area">
                <!-- Continue Watching -->
                <section class="content-section" data-slider="continueRow">
                    <div class="section-header">
                        <h2 class="section-title">Continue Watching</h2>
                        <div class="section-header-right">
                            <ul class="pagination-indicator" id="continueRow-pagination"></ul>
                            <a href="#" class="section-link">See All</a>
                        </div>
                    </div>
                    <div class="content-row-wrapper">
                        <button class="row-scroll-btn btn-prev hidden" data-row="continueRow" data-dir="prev">
                            <svg viewBox="0 0 24 24"><polyline points="9 18 15 12 9 6"/></svg>
                        </button>
                        <div class="slider-mask">
                            <div class="content-row" id="continueRow"></div>
                        </div>
                        <button class="row-scroll-btn btn-next" data-row="continueRow" data-dir="next">
                            <svg viewBox="0 0 24 24"><polyline points="9 18 15 12 9 6"/></svg>
                        </button>
                    </div>
                </section>

                <!-- Top 10 Today -->
                <section class="content-section top10-section" data-slider="top10Row">
                    <div class="section-header">
                        <h2 class="section-title top10-title">
                            <span class="top10-label">TOP</span>
                            <span class="top10-number-title">10</span>
                            <span class="top10-subtitle">TODAY</span>
                        </h2>
                        <div class="section-header-right">
                            <ul class="pagination-indicator" id="top10Row-pagination"></ul>
                        </div>
                    </div>
                    <div class="content-row-wrapper">
                        <button class="row-scroll-btn btn-prev hidden" data-row="top10Row" data-dir="prev">
                            <svg viewBox="0 0 24 24"><polyline points="9 18 15 12 9 6"/></svg>
                        </button>
                        <div class="slider-mask">
                            <div class="content-row" id="top10Row"></div>
                        </div>
                        <button class="row-scroll-btn btn-next" data-row="top10Row" data-dir="next">
                            <svg viewBox="0 0 24 24"><polyline points="9 18 15 12 9 6"/></svg>
                        </button>
                    </div>
                </section>

                <!-- Trending -->
                <section class="content-section" data-slider="trendingRow">
                    <div class="section-header">
                        <h2 class="section-title">Trending Now</h2>
                        <div class="section-header-right">
                            <ul class="pagination-indicator" id="trendingRow-pagination"></ul>
                            <a href="#" class="section-link">See All</a>
                        </div>
                    </div>
                    <div class="content-row-wrapper">
                        <button class="row-scroll-btn btn-prev hidden" data-row="trendingRow" data-dir="prev">
                            <svg viewBox="0 0 24 24"><polyline points="9 18 15 12 9 6"/></svg>
                        </button>
                        <div class="slider-mask">
                            <div class="content-row" id="trendingRow"></div>
                        </div>
                        <button class="row-scroll-btn btn-next" data-row="trendingRow" data-dir="next">
                            <svg viewBox="0 0 24 24"><polyline points="9 18 15 12 9 6"/></svg>
                        </button>
                    </div>
                </section>

                <!-- Featured Collection -->
                <section class="content-section" data-slider="featuredRow">
                    <div class="section-header">
                        <h2 class="section-title">Featured Collections</h2>
                        <div class="section-header-right">
                            <ul class="pagination-indicator" id="featuredRow-pagination"></ul>
                            <a href="#" class="section-link">See All</a>
                        </div>
                    </div>
                    <div class="content-row-wrapper">
                        <button class="row-scroll-btn btn-prev hidden" data-row="featuredRow" data-dir="prev">
                            <svg viewBox="0 0 24 24"><polyline points="9 18 15 12 9 6"/></svg>
                        </button>
                        <div class="slider-mask">
                            <div class="content-row" id="featuredRow"></div>
                        </div>
                        <button class="row-scroll-btn btn-next" data-row="featuredRow" data-dir="next">
                            <svg viewBox="0 0 24 24"><polyline points="9 18 15 12 9 6"/></svg>
                        </button>
                    </div>
                </section>

                <!-- Top Performers -->
                <section class="content-section" data-slider="performersRow">
                    <div class="section-header">
                        <h2 class="section-title">Top Performers</h2>
                        <div class="section-header-right">
                            <ul class="pagination-indicator" id="performersRow-pagination"></ul>
                            <a href="#" class="section-link">See All</a>
                        </div>
                    </div>
                    <div class="content-row-wrapper">
                        <button class="row-scroll-btn btn-prev hidden" data-row="performersRow" data-dir="prev">
                            <svg viewBox="0 0 24 24"><polyline points="9 18 15 12 9 6"/></svg>
                        </button>
                        <div class="slider-mask">
                            <div class="content-row" id="performersRow"></div>
                        </div>
                        <button class="row-scroll-btn btn-next" data-row="performersRow" data-dir="next">
                            <svg viewBox="0 0 24 24"><polyline points="9 18 15 12 9 6"/></svg>
                        </button>
                    </div>
                </section>

                <!-- New Releases -->
                <section class="content-section" data-slider="newRow">
                    <div class="section-header">
                        <h2 class="section-title">New Releases</h2>
                        <div class="section-header-right">
                            <ul class="pagination-indicator" id="newRow-pagination"></ul>
                            <a href="#" class="section-link">See All</a>
                        </div>
                    </div>
                    <div class="content-row-wrapper">
                        <button class="row-scroll-btn btn-prev hidden" data-row="newRow" data-dir="prev">
                            <svg viewBox="0 0 24 24"><polyline points="9 18 15 12 9 6"/></svg>
                        </button>
                        <div class="slider-mask">
                            <div class="content-row" id="newRow"></div>
                        </div>
                        <button class="row-scroll-btn btn-next" data-row="newRow" data-dir="next">
                            <svg viewBox="0 0 24 24"><polyline points="9 18 15 12 9 6"/></svg>
                        </button>
                    </div>
                </section>

                <!-- VR Exclusives -->
                <section class="content-section" data-slider="vrRow">
                    <div class="section-header">
                        <h2 class="section-title">VR Exclusives</h2>
                        <div class="section-header-right">
                            <ul class="pagination-indicator" id="vrRow-pagination"></ul>
                            <a href="#" class="section-link">See All</a>
                        </div>
                    </div>
                    <div class="content-row-wrapper">
                        <button class="row-scroll-btn btn-prev hidden" data-row="vrRow" data-dir="prev">
                            <svg viewBox="0 0 24 24"><polyline points="9 18 15 12 9 6"/></svg>
                        </button>
                        <div class="slider-mask">
                            <div class="content-row" id="vrRow"></div>
                        </div>
                        <button class="row-scroll-btn btn-next" data-row="vrRow" data-dir="next">
                            <svg viewBox="0 0 24 24"><polyline points="9 18 15 12 9 6"/></svg>
                        </button>
                    </div>
                </section>

                <!-- Dynamic Rows Container (loaded on scroll) -->
                <div id="dynamicRows"></div>
                
                <!-- Loading Sentinel -->
                <div id="loadingSentinel" style="height: 100px; display: flex; align-items: center; justify-content: center;">
                    <div class="loading-more" style="display: none;">
                        <div style="width: 30px; height: 30px; border: 2px solid rgba(255,255,255,0.1); border-top-color: #ef4444; border-radius: 50%; animation: spin 1s linear infinite;"></div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Netflix-style Expanded Card Popup (fixed position, outside content flow) -->
    <div class="card-expanded" id="cardExpanded">
        <div class="card-expanded-preview">
            <video class="expanded-preview-video" muted loop playsinline preload="none"
                   src="https://tzxbhrrhgahvcfkokdti.supabase.co/storage/v1/object/public/previews/MidnightRendevous.mp4"></video>
            <div class="card-expanded-gradient"></div>
            <span class="card-expanded-logo">SIREN</span>
            <button class="card-expanded-mute" id="expandedMute">
                <svg viewBox="0 0 24 24">
                    <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/>
                    <path d="M15.54 8.46a5 5 0 0 1 0 7.07"/>
                    <path d="M19.07 4.93a10 10 0 0 1 0 14.14"/>
                </svg>
            </button>
        </div>
        <div class="card-expanded-content">
            <div class="card-expanded-actions">
                <button class="card-expanded-btn btn-play">
                    <svg viewBox="0 0 24 24"><polygon points="5 3 19 12 5 21 5 3"/></svg>
                </button>
                <button class="card-expanded-btn btn-add" title="Add to My List">
                    <svg viewBox="0 0 24 24">
                        <line x1="12" y1="5" x2="12" y2="19"/>
                        <line x1="5" y1="12" x2="19" y2="12"/>
                    </svg>
                </button>
                <button class="card-expanded-btn btn-like" title="I like this">
                    <svg viewBox="0 0 24 24">
                        <path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"/>
                    </svg>
                </button>
                <button class="card-expanded-btn btn-dislike" title="Not for me">
                    <svg viewBox="0 0 24 24">
                        <path d="M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"/>
                    </svg>
                </button>
                <button class="card-expanded-btn btn-more" title="More info">
                    <svg viewBox="0 0 24 24">
                        <polyline points="6 9 12 15 18 9"/>
                    </svg>
                </button>
            </div>
            <div class="card-expanded-meta">
                <span class="meta-match" id="expandedMatch">98% Match</span>
                <span class="meta-rating" id="expandedRating">18+</span>
                <span class="meta-duration" id="expandedDuration">45 min</span>
                <span class="meta-quality">4K</span>
                <span class="meta-quality">HDR</span>
            </div>
            <div class="card-expanded-tags" id="expandedTags">
                <span>Romantic</span>
                <span>Sensual</span>
                <span>Intimate</span>
            </div>
        </div>
    </div>

    <!-- More Info Modal -->
    <div class="info-modal-backdrop" id="infoModalBackdrop">
        <div class="info-modal" onclick="event.stopPropagation()">
            <button class="info-modal-close" onclick="closeInfoModal()">
                <svg viewBox="0 0 24 24">
                    <line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/>
                </svg>
            </button>
            <div class="info-modal-preview" id="infoModalPreview">
                <video class="info-modal-video" id="infoModalVideo" muted loop playsinline
                       src="https://tzxbhrrhgahvcfkokdti.supabase.co/storage/v1/object/public/previews/MidnightRendevous.mp4"></video>
                <div class="info-modal-preview-gradient"></div>
                <div class="info-modal-preview-content">
                    <div class="info-modal-logo" id="infoModalTitle">Midnight Whispers</div>
                    <div class="info-modal-actions">
                        <button class="info-modal-btn play" onclick="window.location.href='../watch/'">
                            <svg viewBox="0 0 24 24" fill="currentColor"><polygon points="5 3 19 12 5 21 5 3"/></svg>
                            Play
                        </button>
                        <button class="info-modal-btn icon-only" title="Add to My List">
                            <svg viewBox="0 0 24 24"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
                        </button>
                        <button class="info-modal-btn icon-only" title="I like this">
                            <svg viewBox="0 0 24 24"><path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"/></svg>
                        </button>
                        <button class="info-modal-btn icon-only" title="Not for me">
                            <svg viewBox="0 0 24 24"><path d="M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"/></svg>
                        </button>
                    </div>
                </div>
                <div class="info-modal-sound">
                    <button class="info-modal-sound-btn">
                        <svg viewBox="0 0 24 24">
                            <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/>
                            <path d="M15.54 8.46a5 5 0 0 1 0 7.07"/>
                            <path d="M19.07 4.93a10 10 0 0 1 0 14.14"/>
                        </svg>
                    </button>
                    <span class="info-modal-rating">18+</span>
                </div>
            </div>
            <div class="info-modal-body">
                <div class="info-modal-meta">
                    <span class="info-modal-match" id="infoModalMatch">98% Match</span>
                    <span class="info-modal-year" id="infoModalYear">2024</span>
                    <span class="info-modal-duration" id="infoModalDuration">45m</span>
                    <span class="info-modal-quality">4K</span>
                    <span class="info-modal-quality">HDR</span>
                </div>
                <div class="info-modal-badges" id="infoModalBadges">
                    <span class="info-modal-badge badge-4d">
                        <svg viewBox="0 0 24 24"><path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/></svg>
                        4D Available
                    </span>
                    <span class="info-modal-badge badge-vr">
                        <svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg>
                        VR 180Â°
                    </span>
                </div>
                <div class="info-modal-grid">
                    <div class="info-modal-description" id="infoModalDesc">
                        An intimate evening unfolds as two souls connect in the city that never sleeps. Shot in stunning 4K with immersive 4D technology, experience every moment as if you were there. Features award-winning cinematography and a passionate storyline that will leave you breathless.
                    </div>
                    <div class="info-modal-info">
                        <div class="info-modal-info-item">
                            <span class="info-modal-info-label">Starring: </span>
                            <span class="info-modal-info-value" id="infoModalCast"><a href="../performer/">Aria Valentine</a>, <a href="../performer/">Luna Rose</a></span>
                        </div>
                        <div class="info-modal-info-item">
                            <span class="info-modal-info-label">Genres: </span>
                            <span class="info-modal-info-value" id="infoModalGenres">Romantic, Sensual, Couples</span>
                        </div>
                        <div class="info-modal-info-item">
                            <span class="info-modal-info-label">This movie is: </span>
                            <span class="info-modal-info-value">Passionate, Intimate</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="info-modal-section">
                <h3 class="info-modal-section-title">More Like This</h3>
                <div class="info-modal-related-grid" id="infoModalRelated"></div>
            </div>
        </div>
    </div>

    <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
        console.log('%c[SIREN BROWSE v1.1.1]', 'background:#ff4444;color:#fff;padding:4px 8px;border-radius:4px;font-weight:bold;');
        // Global mobile check - disable heavy animations
        const IS_MOBILE = window.innerWidth <= 768;
        
        // Mock data
        const sceneNames = [
            "Velvet Dreams", "Golden Hour", "After Dark", "Private Suite", 
            "Silk & Shadows", "Moonlit Escape", "The Penthouse", "Secret Garden",
            "Crystal Clear", "Neon Nights", "Sunrise Session", "Twilight Zone"
        ];

        const performerNames = [
            "Aria Valentine", "Luna Rose", "Scarlett Reign", "Jade Phoenix",
            "Ruby Sinclair", "Violet Storm", "Amber Hayes", "Sierra Blake",
            "Ivy Monroe", "Stella Divine", "Chloe Luxe", "Mia Velvet"
        ];

        const durations = ["12:34", "18:45", "24:30", "32:15", "15:20", "28:40"];

        function getGradient(index) {
            // Use mock girl images 1-13
            const imageNum = (index % 13) + 1;
            return `url('../images/${imageNum}.jpg') center/cover no-repeat`;
        }

        // Content data with images and logo styles
        const contentData = [
            { img: '../images/1.jpg', title: 'Midnight Whispers', logo: 'logo-midnight-whispers' },
            { img: '../images/2.jpg', title: 'Pillow Talk', logo: 'logo-pillow-talk' },
            { img: '../images/3.jpg', title: 'Girls Night', logo: 'logo-girls-night' },
            { img: '../images/4.jpg', title: 'Triple Threat', logo: 'logo-triple-threat' },
            { img: '../images/5.jpg', title: 'Sweet Surrender', logo: 'logo-sweet-surrender' },
            { img: '../images/6.jpg', title: 'Best Friends', logo: 'logo-best-friends' },
            { img: '../images/7.jpg', title: 'Morning After', logo: 'logo-morning-after' },
            { img: '../images/8.jpg', title: 'Lazy Sunday', logo: 'logo-lazy-sunday' },
            { img: '../images/9.jpg', title: 'Steam Room', logo: 'logo-steam-room' },
            { img: '../images/10.jpg', title: 'Summer Breeze', logo: 'logo-summer-breeze' },
            { img: '../images/11.jpg', title: 'Roommates', logo: 'logo-roommates' },
            { img: '../images/12.jpg', title: 'City Girls', logo: 'logo-city-girls' },
            { img: '../images/13.jpg', title: 'Just Us', logo: 'logo-just-us' }
        ];

        // Shuffle function
        function shuffleArray(array) {
            const shuffled = [...array];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        }

        // Create shuffled content pool that avoids repeats
        let shuffledContent = shuffleArray(contentData);
        let contentIndex = 0;
        
        function getNextContent() {
            if (contentIndex >= shuffledContent.length) {
                shuffledContent = shuffleArray(contentData);
                contentIndex = 0;
            }
            return shuffledContent[contentIndex++];
        }

        // Track which cards are 3D (first 2 in continue watching)
        let totalCardsCreated = 0;

        function createContentCard(index, type = 'default', rank = null, rowIndex = 0) {
            const content = getNextContent();
            const name = content.title;
            const duration = durations[index % durations.length];
            const performer = performerNames[index % performerNames.length];
            const progress = type === 'continue' ? Math.floor(Math.random() * 70 + 15) : 0;
            
            // First card in continue row is 3D, second is multi-angle
            const is3D = (type === 'continue' && rowIndex === 0);
            const isMultiAngle = (type === 'continue' && rowIndex === 1);
            totalCardsCreated++;

            const card = document.createElement('div');
            
            // Set card class based on type
            if (type === 'performer') {
                card.className = 'content-card performer-card';
                card.dataset.performer = 'true';
                // Generate slug from performer name
                const performerSlug = performerNames[index % performerNames.length].toLowerCase().replace(/\s+/g, '-');
                card.dataset.performerSlug = performerSlug;
            } else if (type === 'portrait') {
                card.className = 'content-card portrait-card';
            } else if (type === 'large') {
                card.className = 'content-card large-card';
            } else if (type === 'top10') {
                card.className = 'content-card top10-card';
            } else {
                card.className = 'content-card';
            }
            
            // Mark special cards
            if (is3D) {
                card.dataset.is3d = 'true';
                console.log('[SIREN] Created 3D card:', name, 'rowIndex:', rowIndex);
            }
            if (isMultiAngle) {
                card.dataset.multiangle = 'true';
                console.log('[SIREN] Created multiangle card:', name, 'rowIndex:', rowIndex);
            }
            if (type === 'continue') {
                console.log('[SIREN] Continue card created:', { name, rowIndex, is3D, isMultiAngle, dataset: { is3d: card.dataset.is3d, multiangle: card.dataset.multiangle } });
            }
            
            // Store data for expanded card to use
            card.dataset.title = name;
            card.dataset.performerName = performer;
            
            if (type === 'performer') {
                // Performers keep the old layout with name
                card.innerHTML = `
                    <div class="card-thumbnail">
                        <div class="card-thumbnail-inner">
                            <img src="${content.img}" alt="${performerNames[index % performerNames.length]}" class="card-thumb-img" loading="lazy">
                            <div class="card-gradient"></div>
                        </div>
                    </div>
                    <div class="card-info">
                        <h3>${performerNames[index % performerNames.length]}</h3>
                        <p>${Math.floor(Math.random() * 25 + 5)} scenes</p>
                    </div>
                `;
            } else if (type === 'top10') {
                // Top 10 cards with big numbers and real images
                const top10Images = [
                    '../images/top10a0.jpg',
                    '../images/Top10b0.jpg',
                    '../images/top10c0.jpg',
                    '../images/top10d0.jpg',
                    '../images/top10e179.jpg',
                    '../images/top10f0.jpg',
                    '../images/top10g00.jpg',
                    '../images/top10h00.jpg',
                    '../images/top10i0.jpg',
                    '../images/top10J0.jpg'
                ];
                const imgSrc = top10Images[rank - 1] || top10Images[0];
                card.innerHTML = `
                    <span class="top10-number">${rank}</span>
                    <div class="card-thumbnail">
                        <div class="card-thumbnail-inner">
                            <img src="${imgSrc}" alt="Top ${rank}" class="card-thumb-img" loading="lazy">
                            <div class="card-gradient"></div>
                            ${is3D ? `<div class="card-3d-badge">
                                <svg viewBox="0 0 24 24">
                                    <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
                                </svg>
                                <span>3D Immersive</span>
                            </div>` : ''}
                            ${isMultiAngle ? `<div class="card-3d-badge">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="10"/>
                                    <circle cx="12" cy="12" r="3"/>
                                </svg>
                                <span>4D Gaussian</span>
                            </div>` : ''}
                        </div>
                    </div>
                `;
            } else {
                // Content cards with real images and title logos
                card.innerHTML = `
                    <div class="card-thumbnail">
                        <div class="card-thumbnail-inner">
                            <img src="${content.img}" alt="${content.title}" class="card-thumb-img" loading="lazy">
                            <div class="card-gradient"></div>
                            ${is3D ? `<div class="card-3d-badge">
                                <svg viewBox="0 0 24 24">
                                    <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
                                </svg>
                                <span>3D Immersive</span>
                            </div>` : ''}
                            ${isMultiAngle ? `<div class="card-3d-badge">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="10"/>
                                    <circle cx="12" cy="12" r="3"/>
                                </svg>
                                <span>4D Gaussian</span>
                            </div>` : ''}
                            <div class="card-title-logo ${content.logo}">${content.title}</div>
                            ${progress ? `<div class="card-progress"><div class="card-progress-bar" style="width: ${progress}%"></div></div>` : ''}
                        </div>
                    </div>
                `;
            }
            
            // Add click to watch - but not during drag
            card.style.cursor = 'pointer';
            let cardMouseDownTime = 0;
            let cardMouseDownX = 0;
            let cardMouseDownY = 0;
            let cardTouchStartTime = 0;
            let cardTouchStartX = 0;
            let cardTouchStartY = 0;
            
            // Touch events for mobile
            card.addEventListener('touchstart', (e) => {
                cardTouchStartTime = Date.now();
                cardTouchStartX = e.touches[0].clientX;
                cardTouchStartY = e.touches[0].clientY;
            }, { passive: true });
            
            card.addEventListener('touchend', (e) => {
                if (e.target.closest('.btn-play')) return;
                
                const touch = e.changedTouches[0];
                const timeDiff = Date.now() - cardTouchStartTime;
                const distX = Math.abs(touch.clientX - cardTouchStartX);
                const distY = Math.abs(touch.clientY - cardTouchStartY);
                
                if (timeDiff < 300 && distX < 10 && distY < 10) {
                    if (card.dataset.performer === 'true') {
                        const performerSlug = card.dataset.performerSlug || 'scarlett-luxe';
                        window.location.href = `../performer/?id=${performerSlug}`;
                    } else if (card.dataset.is3d === 'true') {
                        window.location.href = '../watch/?type=3d';
                    } else if (card.dataset.multiangle === 'true') {
                        window.location.href = '../multiangle/';
                    } else {
                        window.location.href = '../watch/';
                    }
                }
            }, { passive: true });
            
            card.addEventListener('mousedown', (e) => {
                cardMouseDownTime = Date.now();
                cardMouseDownX = e.clientX;
                cardMouseDownY = e.clientY;
            });
            
            card.addEventListener('click', (e) => {
                // Don't navigate if clicking buttons
                if (e.target.closest('.btn-play')) return;
                
                // Don't navigate if we were dragging
                const timeDiff = Date.now() - cardMouseDownTime;
                const distX = Math.abs(e.clientX - cardMouseDownX);
                const distY = Math.abs(e.clientY - cardMouseDownY);
                
                if (timeDiff > 200 || distX > 5 || distY > 5) return;
                
                // DEBUG
                console.log('[SIREN] Card clicked:', {
                    is3d: card.dataset.is3d,
                    multiangle: card.dataset.multiangle,
                    performer: card.dataset.performer,
                    performerSlug: card.dataset.performerSlug,
                    title: card.dataset.title
                });
                
                // Check content type
                if (card.dataset.performer === 'true') {
                    const performerSlug = card.dataset.performerSlug || 'scarlett-luxe';
                    console.log('[SIREN] Navigating to performer profile');
                    window.location.href = `../performer/?id=${performerSlug}`;
                } else if (card.dataset.is3d === 'true') {
                    console.log('[SIREN] Navigating to 3D splat viewer');
                    window.location.href = '../watch/?type=3d';
                } else if (card.dataset.multiangle === 'true') {
                    console.log('[SIREN] Navigating to multiangle viewer');
                    window.location.href = '../multiangle/';
                } else {
                    console.log('[SIREN] Navigating to normal video');
                    window.location.href = '../watch/';
                }
            });
            
            return card;
        }

        function populateRows() {
            // Reset 3D counter
            totalCardsCreated = 0;
            
            const rows = [
                { id: 'continueRow', count: 3, type: 'continue' },
                { id: 'top10Row', count: 10, type: 'top10' },
                { id: 'trendingRow', count: 24, type: 'portrait' },
                { id: 'featuredRow', count: 12, type: 'large' },
                { id: 'performersRow', count: 30, type: 'performer' },
                { id: 'newRow', count: 24, type: 'portrait' },
                { id: 'vrRow', count: 20, type: 'default' }
            ];

            rows.forEach(row => {
                const container = document.getElementById(row.id);
                if (container) {
                    container.innerHTML = '';
                    for (let i = 0; i < row.count; i++) {
                        if (row.type === 'top10') {
                            container.appendChild(createContentCard(i + Math.floor(Math.random() * 10), row.type, i + 1, i));
                        } else {
                            container.appendChild(createContentCard(i + Math.floor(Math.random() * 10), row.type, null, i));
                        }
                    }
                }
            });
        }

        // Sidebar Toggle - The Good Stuff âœ¨
        let sidebarExpanded = false;

        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const toggleBtn = document.getElementById('sidebarToggle');
            const arrow = toggleBtn.querySelector('svg');
            const searchContainer = document.querySelector('.sidebar-search-container');
            const navSections = document.querySelectorAll('.nav-section');
            const navItems = document.querySelectorAll('.nav-item');
            const glow = document.querySelector('.sidebar-glow');
            
            sidebarExpanded = !sidebarExpanded;
            
            // Skip animations on mobile for performance
            if (IS_MOBILE) {
                sidebar.classList.toggle('expanded', sidebarExpanded);
                return;
            }
            
            // Kill any ongoing animations
            gsap.killTweensOf([sidebar, toggleBtn, arrow, searchContainer, navSections, navItems, glow]);
            
            // 1. Satisfying button squish & pop
            gsap.timeline()
                .to(toggleBtn, { 
                    scale: 0.75, 
                    duration: 0.08, 
                    ease: 'power2.in'
                })
                .to(toggleBtn, { 
                    scale: 1.12, 
                    duration: 0.25, 
                    ease: 'back.out(3)'
                })
                .to(toggleBtn, { 
                    scale: 1, 
                    duration: 0.15, 
                    ease: 'power2.out'
                });
            
            // 2. Arrow rotation with elastic bounce
            gsap.to(arrow, {
                rotation: sidebarExpanded ? 180 : 0,
                duration: 0.5,
                ease: 'elastic.out(1, 0.5)'
            });
            
            // 3. GLOW BURST - fires on both open and close!
            gsap.fromTo(glow,
                { 
                    opacity: 0, 
                    scale: 0.8 
                },
                { 
                    opacity: 0.5, 
                    scale: 1.5, 
                    duration: 0.4, 
                    ease: 'power2.out',
                    onComplete: () => {
                        gsap.to(glow, {
                            opacity: 0,
                            scale: 2,
                            duration: 0.5,
                            ease: 'power2.out'
                        });
                    }
                }
            );
            
            if (sidebarExpanded) {
                // OPENING - warm, welcoming feel
                
                // Add expanded class FIRST for CSS layout changes
                sidebar.classList.add('expanded');
                sidebar.style.overflow = 'hidden';
                
                // Get header-user element
                const headerUser = document.querySelector('.header-user');
                
                // Expand sidebar smoothly
                gsap.to(sidebar, {
                    maxHeight: 700,
                    paddingBottom: '2.5rem',
                    duration: 0.4,
                    ease: 'power2.out',
                    onComplete: () => {
                        sidebar.style.overflow = 'visible';
                    }
                });
                
                // Fade in header-user
                gsap.fromTo(headerUser,
                    { opacity: 0 },
                    { opacity: 1, duration: 0.3, delay: 0.15, ease: 'power2.out' }
                );
                
                // Search fades in
                gsap.fromTo(searchContainer, 
                    { opacity: 0 },
                    { opacity: 1, duration: 0.3, delay: 0.2, ease: 'power2.out' }
                );
                
                // Nav items cascade in with satisfying stagger
                navItems.forEach((item, index) => {
                    gsap.fromTo(item,
                        { opacity: 0, x: -15 },
                        { 
                            opacity: 1, 
                            x: 0, 
                            duration: 0.3,
                            delay: 0.12 + (index * 0.035),
                            ease: 'power2.out'
                        }
                    );
                });
                
            } else {
                // CLOSING - smooth and satisfying
                
                // Close search dropdown if open
                const searchDropdown = document.getElementById('searchDropdown');
                if (searchDropdown && searchDropdown.classList.contains('active')) {
                    searchDropdown.classList.remove('active');
                    document.getElementById('searchBar').classList.remove('active');
                    gsap.set(searchDropdown, { opacity: 0, clearProps: 'all' });
                }
                
                // Get header-user element
                const headerUser = document.querySelector('.header-user');
                
                // Kill any running animations and clear inline styles
                gsap.killTweensOf([headerUser, searchContainer, sidebar]);
                gsap.killTweensOf(navItems);
                
                // Clear all inline styles first, then set opacity 0
                headerUser.style.cssText = '';
                searchContainer.style.cssText = '';
                navItems.forEach(item => item.style.cssText = '');
                
                // Remove expanded class
                sidebar.classList.remove('expanded');
                sidebar.style.overflow = 'hidden';
                
                // Animate collapse
                gsap.to(sidebar, {
                    maxHeight: 70,
                    paddingBottom: '1rem',
                    duration: 0.25,
                    ease: 'power2.out'
                });
            }
        }

        // Carousel
        let currentSlide = 0;
        const slides = document.querySelectorAll('.featured-slide');
        const dots = document.querySelectorAll('.carousel-dot');
        let carouselInterval = null;
        let isCarouselHovered = false;

        function goToSlide(index) {
            // Pause current video
            const currentVideo = slides[currentSlide].querySelector('video');
            if (currentVideo) {
                currentVideo.pause();
            }

            const currentContent = slides[currentSlide].querySelector('.featured-content');
            gsap.to(currentContent.children, {
                opacity: 0,
                y: 20,
                duration: 0.3,
                stagger: 0.05
            });

            slides.forEach(s => s.classList.remove('active'));
            dots.forEach(d => d.classList.remove('active'));
            slides[index].classList.add('active');
            dots[index].classList.add('active');
            currentSlide = index;

            // Only play video if carousel is hovered
            const newVideo = slides[index].querySelector('video');
            if (newVideo && isCarouselHovered) {
                newVideo.play();
            }

            const newContent = slides[index].querySelector('.featured-content');
            gsap.fromTo(newContent.children, 
                { opacity: 0, y: 30 },
                { opacity: 1, y: 0, duration: 0.5, stagger: 0.1, delay: 0.3 }
            );
        }

        dots.forEach(dot => {
            dot.addEventListener('click', () => {
                goToSlide(parseInt(dot.dataset.index));
            });
        });

        // Carousel arrow
        const carouselNext = document.getElementById('carouselNext');
        if (carouselNext) {
            carouselNext.addEventListener('click', () => {
                goToSlide((currentSlide + 1) % slides.length);
            });
        }

        // Pause carousel by default, only play on hover
        const heroSection = document.querySelector('.featured-hero');
        if (heroSection) {
            heroSection.addEventListener('mouseenter', () => {
                isCarouselHovered = true;
                const currentVideo = slides[currentSlide].querySelector('video');
                if (currentVideo) {
                    currentVideo.play();
                }
            });
            
            heroSection.addEventListener('mouseleave', () => {
                isCarouselHovered = false;
                const currentVideo = slides[currentSlide].querySelector('video');
                if (currentVideo) {
                    currentVideo.pause();
                }
            });
        }

        carouselInterval = setInterval(() => {
            goToSlide((currentSlide + 1) % slides.length);
        }, 7000);

        // Time
        function updateTime() {
            const now = new Date();
            const timeEl = document.getElementById('currentTime');
            if (timeEl) {
                timeEl.textContent = now.toLocaleTimeString('en-US', { 
                    hour: 'numeric', 
                    minute: '2-digit',
                    hour12: true 
                });
            }
        }
        updateTime();
        setInterval(updateTime, 60000);
        
        // Populate content early so it shows through blur
        populateRows();

        // ========== NETFLIX-STYLE EXPANDED CARD SYSTEM ==========
        const cardExpanded = document.getElementById('cardExpanded');
        const expandedMatch = document.getElementById('expandedMatch');
        const expandedDuration = document.getElementById('expandedDuration');
        const expandedTags = document.getElementById('expandedTags');
        
        let expandTimer = null;
        let hideTimer = null;
        let currentCard = null;
        let isDraggingRow = false;
        
        const tagOptions = [
            ['Romantic', 'Sensual', 'Intimate'],
            ['Passionate', 'Erotic', 'Artistic'],
            ['Playful', 'Fun', 'Energetic'],
            ['Intense', 'Raw', 'Authentic'],
            ['Tender', 'Loving', 'Beautiful'],
            ['Bold', 'Adventurous', 'Exciting']
        ];
        
        function positionExpandedCard(card) {
            const rect = card.getBoundingClientRect();
            const expandedWidth = 350;
            const expandedHeight = cardExpanded.offsetHeight || 320;
            const viewportWidth = window.innerWidth;
            
            // Center horizontally over the card
            let left = rect.left + (rect.width / 2) - (expandedWidth / 2);
            
            // Keep within viewport bounds horizontally
            if (left < 10) left = 10;
            if (left + expandedWidth > viewportWidth - 10) {
                left = viewportWidth - expandedWidth - 10;
            }
            
            // Center vertically over the card thumbnail - no constraints, let it go anywhere
            const cardThumbnail = card.querySelector('.card-thumbnail');
            const thumbRect = cardThumbnail ? cardThumbnail.getBoundingClientRect() : rect;
            let top = thumbRect.top + (thumbRect.height / 2) - (expandedHeight / 2);
            
            cardExpanded.style.left = left + 'px';
            cardExpanded.style.top = top + 'px';
        }
        
        function updateExpandedContent(card) {
            // Get data from card's data attributes or card-info as fallback
            const title = card.dataset.title || card.querySelector('.card-info h3')?.textContent || 'Untitled';
            const performer = card.dataset.performerName || card.querySelector('.card-info p')?.textContent || '';
            
            // Randomize some data
            expandedMatch.textContent = Math.floor(Math.random() * 15 + 85) + '% Match';
            expandedDuration.textContent = Math.floor(Math.random() * 40 + 15) + ' min';
            
            const randomTags = tagOptions[Math.floor(Math.random() * tagOptions.length)];
            expandedTags.innerHTML = randomTags.map(tag => `<span>${tag}</span>`).join('');
        }
        
        function showExpandedCard(card) {
            if (card.classList.contains('performer-card')) return;
            if (isDraggingRow) return;
            
            clearTimeout(hideTimer);
            currentCard = card;
            
            // Reset logo animation by removing and re-adding active class
            const logo = cardExpanded.querySelector('.card-expanded-logo');
            if (logo) {
                logo.style.transition = 'none';
                logo.style.opacity = '0';
                logo.style.filter = 'blur(8px)';
                // Force reflow
                logo.offsetHeight;
                logo.style.transition = '';
            }
            
            // Update content and position
            updateExpandedContent(card);
            positionExpandedCard(card);
            
            // Show with animation
            cardExpanded.classList.add('active');
            
            // Play preview video
            const previewVideo = cardExpanded.querySelector('.expanded-preview-video');
            if (previewVideo) {
                previewVideo.currentTime = 0;
                previewVideo.play().catch(() => {});
            }
            
            // Trigger logo animation after a tiny delay
            if (logo) {
                setTimeout(() => {
                    logo.style.opacity = '1';
                    logo.style.filter = 'blur(0px)';
                }, 50);
            }
        }
        
        function hideExpandedCard() {
            clearTimeout(expandTimer);
            hideTimer = setTimeout(() => {
                cardExpanded.classList.remove('active');
                currentCard = null;
                
                // Pause preview video
                const previewVideo = cardExpanded.querySelector('.expanded-preview-video');
                if (previewVideo) {
                    previewVideo.pause();
                    previewVideo.currentTime = 0;
                }
                
                // Reset logo for next show
                const logo = cardExpanded.querySelector('.card-expanded-logo');
                if (logo) {
                    logo.style.opacity = '0';
                    logo.style.filter = 'blur(8px)';
                }
            }, 150);
        }
        
        // Update position on scroll to follow the card - immediate, no delay
        let scrollTimeout = null;
        function handleScroll() {
            if (currentCard && cardExpanded.classList.contains('active')) {
                // Disable transitions during scroll
                cardExpanded.classList.add('scrolling');
                positionExpandedCard(currentCard);
                
                // Re-enable transitions after scroll ends
                clearTimeout(scrollTimeout);
                scrollTimeout = setTimeout(() => {
                    cardExpanded.classList.remove('scrolling');
                }, 50);
            }
        }
        
        // Add scroll listeners to content rows and window
        window.addEventListener('scroll', handleScroll, { passive: true, capture: true });
        document.querySelectorAll('.content-row').forEach(row => {
            row.addEventListener('scroll', handleScroll, { passive: true });
        });
        
        // Attach hover events to all content cards
        function attachCardHoverEvents() {
            // Skip hover events on mobile - they don't apply
            if (IS_MOBILE) return;
            
            document.querySelectorAll('.content-card:not(.performer-card)').forEach(card => {
                card.addEventListener('mouseenter', () => {
                    if (isDraggingRow) return;
                    
                    clearTimeout(hideTimer);
                    clearTimeout(expandTimer);
                    
                    // If already showing a different card, fade out first then show new one
                    if (cardExpanded.classList.contains('active') && currentCard !== card) {
                        cardExpanded.classList.remove('active');
                        // Reset logo immediately
                        const logo = cardExpanded.querySelector('.card-expanded-logo');
                        if (logo) {
                            logo.style.transition = 'none';
                            logo.style.opacity = '0';
                            logo.style.filter = 'blur(8px)';
                        }
                        expandTimer = setTimeout(() => showExpandedCard(card), 150);
                    } else if (!cardExpanded.classList.contains('active')) {
                        // First hover - use normal delay
                        expandTimer = setTimeout(() => showExpandedCard(card), 500);
                    }
                });
                
                card.addEventListener('mouseleave', () => {
                    clearTimeout(expandTimer);
                    hideExpandedCard();
                });
            });
        }
        
        // Keep expanded card visible when hovering over it
        cardExpanded.addEventListener('mouseenter', () => {
            clearTimeout(hideTimer);
        });
        
        cardExpanded.addEventListener('mouseleave', () => {
            hideExpandedCard();
        });
        
        // Allow drag through expanded card - only close when actually dragging
        let expandedMouseDown = null;
        let expandedDragStarted = false;
        
        cardExpanded.addEventListener('mousedown', (e) => {
            // Don't interfere with button clicks
            if (e.target.closest('.card-expanded-btn')) return;
            
            expandedMouseDown = { x: e.clientX, y: e.clientY };
            expandedDragStarted = false;
            e.preventDefault(); // Prevent text selection
        });
        
        document.addEventListener('mousemove', (e) => {
            if (!expandedMouseDown || expandedDragStarted) return;
            
            const dx = Math.abs(e.clientX - expandedMouseDown.x);
            const dy = Math.abs(e.clientY - expandedMouseDown.y);
            
            // If moved more than 5px, it's a drag
            if (dx > 5 || dy > 5) {
                expandedDragStarted = true;
                
                // Hide card and pass to element underneath
                cardExpanded.style.pointerEvents = 'none';
                cardExpanded.classList.remove('active');
                
                // Find element under cursor and trigger mousedown
                const elementBelow = document.elementFromPoint(e.clientX, e.clientY);
                if (elementBelow) {
                    const newEvent = new MouseEvent('mousedown', {
                        bubbles: true,
                        cancelable: true,
                        clientX: expandedMouseDown.x,
                        clientY: expandedMouseDown.y
                    });
                    elementBelow.dispatchEvent(newEvent);
                }
            }
        });
        
        document.addEventListener('mouseup', () => {
            cardExpanded.style.pointerEvents = '';
            expandedMouseDown = null;
            expandedDragStarted = false;
        });
        
        // Initialize after rows are populated
        setTimeout(attachCardHoverEvents, 100);

        // ========== DRAG SCROLL & ROW NAVIGATION ==========
        
        // Netflix-style Slider System
        const sliderState = {};
        
        function getCardWidth(rowId) {
            if (rowId === 'performersRow') return 168; // 160 + 8 gap
            if (rowId === 'trendingRow' || rowId === 'newRow') return 188; // 180 + 8 gap
            if (rowId === 'top10Row') return 208; // ~200 + 8 gap
            if (rowId === 'featuredRow') return 428; // 420 + 8 gap
            return 288; // 280 + 8 gap
        }
        
        function getVisibleCards(rowId) {
            const row = document.getElementById(rowId);
            if (!row) return 5;
            const mask = row.closest('.slider-mask');
            if (!mask) return 5;
            const maskWidth = mask.offsetWidth;
            const cardWidth = getCardWidth(rowId);
            return Math.max(1, Math.floor(maskWidth / cardWidth));
        }
        
        function initSlider(rowId) {
            const row = document.getElementById(rowId);
            if (!row) return;
            
            const totalCards = row.children.length;
            if (totalCards === 0) return;
            
            const visibleCards = getVisibleCards(rowId);
            const totalPages = Math.max(1, Math.ceil(totalCards / visibleCards));
            
            sliderState[rowId] = {
                currentPage: 0,
                totalPages: totalPages,
                visibleCards: visibleCards,
                totalCards: totalCards,
                hasLooped: false
            };
            
            // Create pagination dots
            const pagination = document.getElementById(`${rowId}-pagination`);
            if (pagination) {
                pagination.innerHTML = '';
                for (let i = 0; i < totalPages; i++) {
                    const dot = document.createElement('li');
                    if (i === 0) dot.classList.add('active');
                    pagination.appendChild(dot);
                }
            }
            
            // Reset transform - skip on mobile (use native scroll)
            if (!IS_MOBILE) {
                row.style.transform = 'translateX(0)';
            }
            
            // Initial button state
            updateSliderButtons(rowId);
        }
        
        function updateSliderButtons(rowId) {
            const state = sliderState[rowId];
            if (!state) return;
            
            const prevBtn = document.querySelector(`.row-scroll-btn.btn-prev[data-row="${rowId}"]`);
            const nextBtn = document.querySelector(`.row-scroll-btn.btn-next[data-row="${rowId}"]`);
            
            // Hide prev on first page (until user has looped)
            if (prevBtn) {
                prevBtn.classList.toggle('hidden', state.currentPage === 0 && !state.hasLooped);
            }
            
            // Always show next (infinite loop)
            if (nextBtn) {
                nextBtn.classList.remove('hidden');
            }
            
            // Update pagination dots
            const pagination = document.getElementById(`${rowId}-pagination`);
            if (pagination) {
                const dots = pagination.querySelectorAll('li');
                dots.forEach((dot, i) => {
                    dot.classList.toggle('active', i === state.currentPage);
                });
            }
        }
        
        function slideRow(rowId, direction) {
            const state = sliderState[rowId];
            if (!state) return;
            
            const row = document.getElementById(rowId);
            if (!row) return;
            
            // Calculate new page with infinite loop
            let newPage = state.currentPage + (direction === 'next' ? 1 : -1);
            
            // Infinite loop
            if (newPage >= state.totalPages) {
                newPage = 0;
                state.hasLooped = true;
            } else if (newPage < 0) {
                newPage = state.totalPages - 1;
                state.hasLooped = true;
            }
            
            state.currentPage = newPage;
            
            // Calculate transform
            const cardWidth = getCardWidth(rowId);
            let translateX;
            
            if (newPage === 0) {
                // First page - start at 0
                translateX = 0;
            } else if (newPage === state.totalPages - 1) {
                // Last page - align last card to right edge (no gaps)
                const maxTranslate = (state.totalCards - state.visibleCards) * cardWidth;
                translateX = -maxTranslate;
            } else {
                // Middle pages - normal calculation
                translateX = -(newPage * state.visibleCards * cardWidth);
            }
            
            row.style.transform = `translateX(${translateX}px)`;
            
            updateSliderButtons(rowId);
        }
        
        function initSliderButtons() {
            document.querySelectorAll('.row-scroll-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.preventDefault();
                    const rowId = btn.dataset.row;
                    const direction = btn.dataset.dir;
                    slideRow(rowId, direction);
                });
            });
        }
        
        // Initialize all sliders
        function initAllSliders() {
            const rowIds = ['continueRow', 'top10Row', 'trendingRow', 'featuredRow', 'performersRow', 'newRow', 'vrRow'];
            rowIds.forEach(id => initSlider(id));
        }
        
        // Initialize after rows are populated
        setTimeout(() => {
            document.body.offsetHeight;
            initSliderButtons();
            initAllSliders();
            initDragScroll();
            
            // Initialize mobile grid if on mobile
            if (IS_MOBILE) {
                initMobileGrid();
            }
            
            // Initialize infinite scroll (desktop only)
            if (!IS_MOBILE) {
                initInfiniteScroll();
            }
        }, 500);
        
        // ========== INFINITE SCROLL SYSTEM ==========
        function initInfiniteScroll() {
            const dynamicRows = document.getElementById('dynamicRows');
            const sentinel = document.getElementById('loadingSentinel');
            const loadingMore = sentinel.querySelector('.loading-more');
            
            if (!dynamicRows || !sentinel) return;
            
            // Dynamic row templates based on "watch history"
            const dynamicRowTypes = [
                { title: 'Because You Watched "Midnight Rendezvous"', type: 'portrait', count: 20 },
                { title: 'More From Luna Star', type: 'default', count: 16 },
                { title: 'Steamy Encounters', type: 'portrait', count: 20 },
                { title: 'Because You Watched "Golden Hour"', type: 'default', count: 16 },
                { title: 'Award Winners', type: 'large', count: 12 },
                { title: 'Trending in VR', type: 'default', count: 20 },
                { title: 'Popular This Week', type: 'portrait', count: 20 },
                { title: 'Because You Liked "Sunset Dreams"', type: 'default', count: 16 },
                { title: 'Hidden Gems', type: 'portrait', count: 20 },
                { title: 'Fan Favorites', type: 'large', count: 12 },
                { title: 'Recently Added', type: 'default', count: 20 },
                { title: 'Top Rated This Month', type: 'portrait', count: 20 }
            ];
            
            let currentRowIndex = 0;
            let isLoading = false;
            
            // Create a new row section
            function createDynamicRow(rowConfig) {
                const rowId = `dynamicRow${currentRowIndex}`;
                const section = document.createElement('section');
                section.className = 'content-section';
                section.dataset.slider = rowId;
                section.innerHTML = `
                    <div class="section-header">
                        <h2 class="section-title">${rowConfig.title}</h2>
                        <div class="section-header-right">
                            <ul class="pagination-indicator" id="${rowId}-pagination"></ul>
                            <a href="#" class="section-link">See All</a>
                        </div>
                    </div>
                    <div class="content-row-wrapper">
                        <button class="row-scroll-btn btn-prev hidden" data-row="${rowId}" data-dir="prev">
                            <svg viewBox="0 0 24 24"><polyline points="9 18 15 12 9 6"/></svg>
                        </button>
                        <div class="slider-mask">
                            <div class="content-row" id="${rowId}"></div>
                        </div>
                        <button class="row-scroll-btn btn-next" data-row="${rowId}" data-dir="next">
                            <svg viewBox="0 0 24 24"><polyline points="9 18 15 12 9 6"/></svg>
                        </button>
                    </div>
                `;
                
                dynamicRows.appendChild(section);
                
                // Populate the row
                const row = document.getElementById(rowId);
                for (let i = 0; i < rowConfig.count; i++) {
                    const card = createContentCard(i + (currentRowIndex * 20), rowConfig.type);
                    row.appendChild(card);
                }
                
                // Initialize slider for this row
                initSlider(rowId);
                
                // Setup scroll buttons
                const prevBtn = section.querySelector('.btn-prev');
                const nextBtn = section.querySelector('.btn-next');
                
                prevBtn.addEventListener('click', () => slideRow(rowId, 'prev'));
                nextBtn.addEventListener('click', () => slideRow(rowId, 'next'));
                
                // Attach hover events to new cards
                row.querySelectorAll('.content-card').forEach(card => {
                    card.addEventListener('mouseenter', () => {
                        if (IS_MOBILE || window.innerWidth < 900) return;
                        clearTimeout(window.hideExpandedTimeout);
                        window.showExpandedTimeout = setTimeout(() => {
                            showExpandedCard(card);
                        }, 400);
                    });
                    card.addEventListener('mouseleave', () => {
                        clearTimeout(window.showExpandedTimeout);
                    });
                });
                
                // Animate in
                gsap.fromTo(section, 
                    { opacity: 0, y: 30 },
                    { opacity: 1, y: 0, duration: 0.5, ease: 'power2.out' }
                );
                
                currentRowIndex++;
            }
            
            // Load more rows
            function loadMoreRows() {
                if (isLoading || currentRowIndex >= dynamicRowTypes.length) return;
                
                isLoading = true;
                loadingMore.style.display = 'flex';
                
                // Simulate loading delay
                setTimeout(() => {
                    // Load 2 rows at a time
                    for (let i = 0; i < 2 && currentRowIndex < dynamicRowTypes.length; i++) {
                        createDynamicRow(dynamicRowTypes[currentRowIndex]);
                    }
                    
                    loadingMore.style.display = 'none';
                    isLoading = false;
                    
                    // Hide sentinel if no more rows
                    if (currentRowIndex >= dynamicRowTypes.length) {
                        sentinel.style.display = 'none';
                    }
                }, 800);
            }
            
            // Setup IntersectionObserver
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        loadMoreRows();
                    }
                });
            }, {
                rootMargin: '200px'
            });
            
            observer.observe(sentinel);
        }

        // ========== MOBILE GRID SYSTEM ==========
        function initMobileGrid() {
            const grid = document.getElementById('mobileGrid');
            const tabs = document.querySelectorAll('.mobile-tab');
            
            if (!grid) return;
            
            // Generate performer items
            function generatePerformers(count) {
                const items = [];
                for (let i = 0; i < count; i++) {
                    const imgNum = (i % 13) + 1;
                    items.push({
                        id: `performer-${i}`,
                        img: `../images/${imgNum}.jpg`,
                        name: performerNames[i % performerNames.length],
                        videos: Math.floor(Math.random() * 50) + 10,
                        isPerformer: true
                    });
                }
                return items;
            }
            
            // Content data for grid
            const mobileContent = {
                all: [
                    { section: 'Continue Watching', items: generateItems(3, 'continue') },
                    { section: 'Top Performers', items: generatePerformers(6), isPerformerSection: true },
                    { section: 'Trending Now', items: generateItems(6, 'trending') },
                    { section: 'New Releases', items: generateItems(6, 'new') },
                    { section: 'Popular', items: generateItems(4, 'popular') }
                ],
                trending: [
                    { section: null, items: generateItems(12, 'trending') }
                ],
                new: [
                    { section: null, items: generateItems(12, 'new') }
                ],
                performers: [
                    { section: null, items: generatePerformers(16), isPerformerSection: true }
                ],
                popular: [
                    { section: null, items: generateItems(12, 'popular') }
                ],
                vr: [
                    { section: null, items: generateItems(8, 'vr') }
                ]
            };
            
            function generateItems(count, type) {
                const items = [];
                const badges = {
                    trending: ['HOT', 'TRENDING', 'ðŸ”¥', null, null],
                    new: ['NEW', 'JUST ADDED', null, null],
                    vr: ['VR', '360Â°', 'IMMERSIVE', null],
                    popular: ['POPULAR', 'TOP RATED', null, null],
                    continue: [null, null, null]
                };
                
                for (let i = 0; i < count; i++) {
                    const imgNum = ((i + (type.charCodeAt(0) % 10)) % 13) + 1;
                    const badgeOptions = badges[type] || [null];
                    const badge = badgeOptions[Math.floor(Math.random() * badgeOptions.length)];
                    
                    // First Continue Watching is 3D, second is multi-angle
                    const is3D = (type === 'continue' && i === 0);
                    const isMultiAngle = (type === 'continue' && i === 1);
                    
                    items.push({
                        id: `${type}-${i}`,
                        img: `../images/${imgNum}.jpg`,
                        title: sceneNames[i % sceneNames.length],
                        performer: performerNames[i % performerNames.length],
                        duration: durations[i % durations.length],
                        badge: is3D ? '3D Immersive' : (isMultiAngle ? '4D Gaussian' : badge),
                        isVR: type === 'vr',
                        is3D: is3D,
                        isMultiAngle: isMultiAngle
                    });
                }
                return items;
            }
            
            function renderGrid(category) {
                const content = mobileContent[category] || mobileContent.all;
                grid.innerHTML = '';
                
                content.forEach(section => {
                    // Section header (if exists)
                    if (section.section) {
                        const header = document.createElement('div');
                        header.className = 'mobile-grid-section-header';
                        header.textContent = section.section;
                        grid.appendChild(header);
                    }
                    
                    // Performer section - different layout
                    if (section.isPerformerSection) {
                        const performerRow = document.createElement('div');
                        performerRow.className = 'mobile-performer-row';
                        
                        section.items.forEach(item => {
                            const card = document.createElement('a');
                            const performerSlug = item.name.toLowerCase().replace(/\s+/g, '-');
                            card.href = `../performer/?id=${performerSlug}`;
                            card.className = 'mobile-performer-card';
                            card.innerHTML = `
                                <div class="mobile-performer-img">
                                    <img src="${item.img}" alt="${item.name}" loading="lazy">
                                </div>
                                <div class="mobile-performer-name">${item.name}</div>
                                <div class="mobile-performer-count">${item.videos} videos</div>
                            `;
                            performerRow.appendChild(card);
                        });
                        
                        grid.appendChild(performerRow);
                        return;
                    }
                    
                    // Regular cards
                    section.items.forEach(item => {
                        const card = document.createElement('a');
                        if (item.is3D) {
                            card.href = '../watch/index.html?type=splat';
                        } else if (item.isMultiAngle) {
                            card.href = '../multiangle/';
                        } else {
                            card.href = '../watch/index.html';
                        }
                        card.className = 'mobile-grid-card';
                        if (item.is3D) card.dataset.is3d = 'true';
                        if (item.isMultiAngle) card.dataset.multiangle = 'true';
                        card.innerHTML = `
                            <img src="${item.img}" alt="${item.title}" loading="lazy">
                            ${item.badge ? `<div class="mobile-grid-card-badge${item.is3D ? ' badge-3d' : ''}${item.isMultiAngle ? ' badge-3d' : ''}">${item.badge}</div>` : ''}
                            <div class="mobile-grid-card-duration">${item.duration}</div>
                            <div class="mobile-grid-card-overlay">
                                <div class="mobile-grid-card-title">${item.title}</div>
                                <div class="mobile-grid-card-meta">${item.performer}</div>
                            </div>
                        `;
                        grid.appendChild(card);
                    });
                });
            }
            
            // Tab click handler
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    tabs.forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');
                    
                    // Add class for full performer grid view
                    if (tab.dataset.category === 'performers') {
                        grid.classList.add('performers-full-view');
                    } else {
                        grid.classList.remove('performers-full-view');
                    }
                    
                    renderGrid(tab.dataset.category);
                });
            });
            
            // Initial render
            renderGrid('all');
        }
        
        // Reinit on resize
        let resizeTimer;
        window.addEventListener('resize', () => {
            clearTimeout(resizeTimer);
            resizeTimer = setTimeout(() => {
                const rowIds = ['continueRow', 'top10Row', 'trendingRow', 'featuredRow', 'performersRow', 'newRow', 'vrRow'];
                rowIds.forEach(id => {
                    const row = document.getElementById(id);
                    // Skip transform on mobile
                    if (row && !IS_MOBILE) row.style.transform = 'translateX(0)';
                    initSlider(id);
                });
            }, 200);
        });

        // ========== DRAG TO SCROLL ==========
        function initDragScroll() {
            // Skip on mobile - use native touch scroll
            if (IS_MOBILE) return;
            
            document.querySelectorAll('.content-row').forEach(row => {
                let isDown = false;
                let startX;
                let currentTranslate = 0;
                let startTranslate = 0;
                let hasMoved = false;
                
                // Get current translateX value
                function getTranslateX() {
                    const style = window.getComputedStyle(row);
                    const matrix = new DOMMatrix(style.transform);
                    return matrix.m41;
                }
                
                row.addEventListener('mousedown', (e) => {
                    if (e.target.closest('button')) return;
                    
                    isDown = true;
                    isDraggingRow = false;
                    hasMoved = false;
                    startX = e.pageX;
                    startTranslate = getTranslateX();
                    row.style.cursor = 'grabbing';
                    row.style.transition = 'none';
                    e.preventDefault(); // Prevent text selection
                    
                    // Hide expanded card immediately when starting drag
                    if (cardExpanded) {
                        cardExpanded.classList.remove('active');
                    }
                });
                
                row.addEventListener('mouseleave', () => {
                    if (isDown && hasMoved) {
                        isDraggingRow = true;
                        setTimeout(() => { isDraggingRow = false; }, 150);
                    }
                    isDown = false;
                    row.style.cursor = 'grab';
                    row.style.transition = 'transform 0.54s cubic-bezier(0.5, 0, 0.1, 1)';
                });
                
                row.addEventListener('mouseup', () => {
                    if (isDown && hasMoved) {
                        isDraggingRow = true;
                        setTimeout(() => { isDraggingRow = false; }, 150);
                    }
                    isDown = false;
                    row.style.cursor = 'grab';
                    row.style.transition = 'transform 0.54s cubic-bezier(0.5, 0, 0.1, 1)';
                });
                
                row.addEventListener('mousemove', (e) => {
                    if (!isDown) return;
                    e.preventDefault();
                    
                    const x = e.pageX;
                    const walk = x - startX;
                    
                    if (Math.abs(walk) > 5) {
                        hasMoved = true;
                        isDraggingRow = true;
                    }
                    
                    // Calculate bounds
                    const rowWidth = row.scrollWidth;
                    const containerWidth = row.parentElement.offsetWidth;
                    const maxTranslate = 0;
                    const minTranslate = -(rowWidth - containerWidth);
                    
                    // Apply new transform with bounds
                    currentTranslate = Math.min(maxTranslate, Math.max(minTranslate, startTranslate + walk));
                    row.style.transform = `translateX(${currentTranslate}px)`;
                });
                
                row.style.cursor = 'grab';
            });
        }


        // Age gate
        function enterSite() {
            const ageGate = document.getElementById('ageGate');
            const loader = document.getElementById('siteLoader');
            const progress = document.getElementById('loaderProgress');
            const status = document.getElementById('loaderStatus');
            
            // Show loader FIRST (behind age gate) so blur is continuous
            loader.classList.add('active');
            loader.style.opacity = '1';
            
            // Fade out age gate content
            gsap.to(['.age-gate-logo', '.age-gate-content', '.age-gate-terms', '.age-gate::before'], {
                opacity: 0,
                duration: 0.5,
                stagger: 0.05,
                ease: 'power2.in'
            });
            
            // Then fade the age gate overlay to reveal loader underneath
            gsap.to(ageGate, {
                opacity: 0,
                duration: 0.6,
                delay: 0.4,
                ease: 'power2.inOut',
                onComplete: () => {
                    ageGate.classList.add('hidden');
                    // Start loading sequence after age gate is gone
                    runLoadingSequence(progress, status);
                }
            });
            
            sessionStorage.setItem('ageVerified', 'true');
        }
        
        function runLoadingSequence(progress, status) {
            const stages = [
                { progress: 20, status: 'Loading assets...', delay: 200 },
                { progress: 40, status: 'Preparing content...', delay: 250 },
                { progress: 60, status: 'Initializing 3D engine...', delay: 300 },
                { progress: 80, status: 'Loading your preferences...', delay: 200 },
                { progress: 95, status: 'Almost ready...', delay: 150 },
                { progress: 100, status: 'Welcome to SIREN', delay: 200 },
            ];
            
            let currentStage = 0;
            
            function nextStage() {
                if (currentStage < stages.length) {
                    const stage = stages[currentStage];
                    
                    // Animate progress bar
                    gsap.to(progress, {
                        width: stage.progress + '%',
                        duration: 0.4,
                        ease: 'power2.out'
                    });
                    
                    // Fade status text
                    gsap.to(status, {
                        opacity: 0,
                        y: -5,
                        duration: 0.15,
                        onComplete: () => {
                            status.textContent = stage.status;
                            gsap.to(status, { opacity: 1, y: 0, duration: 0.15 });
                        }
                    });
                    
                    currentStage++;
                    setTimeout(nextStage, stage.delay);
                } else {
                    // Loading complete - transition to site
                    setTimeout(revealSite, 400);
                }
            }
            
            // Start the sequence
            setTimeout(nextStage, 300);
        }
        
        function revealSite() {
            const loader = document.getElementById('siteLoader');
            
            // Use a timeline for buttery smooth animation
            const tl = gsap.timeline();
            
            // First fade out the loader content quickly
            tl.to(['.loader-container', '.loader-orb', '.loader-particles'], {
                opacity: 0,
                duration: 0.3,
                ease: 'power2.in'
            })
            // Then quickly fade out the overlay with blur transition
            .to(loader, {
                opacity: 0,
                duration: 0.5,
                ease: 'power2.out',
                onComplete: () => {
                    loader.classList.remove('active');
                    loader.style.display = 'none';
                }
            }, '-=0.1');
        }

        function exitSite() {
            window.location.href = 'https://google.com';
        }

        function showContent() {
            // For returning users - show a quick loader
            const loader = document.getElementById('siteLoader');
            const progress = document.getElementById('loaderProgress');
            const status = document.getElementById('loaderStatus');
            
            loader.classList.add('active');
            loader.style.opacity = '1';
            
            // Quick loading sequence for returning users
            const stages = [
                { progress: 50, status: 'Welcome back...', delay: 150 },
                { progress: 85, status: 'Loading content...', delay: 200 },
                { progress: 100, status: 'Ready', delay: 150 },
            ];
            
            let currentStage = 0;
            
            function nextStage() {
                if (currentStage < stages.length) {
                    const stage = stages[currentStage];
                    gsap.to(progress, { width: stage.progress + '%', duration: 0.2 });
                    status.textContent = stage.status;
                    currentStage++;
                    setTimeout(nextStage, stage.delay);
                } else {
                    setTimeout(revealSite, 100);
                }
            }
            
            setTimeout(nextStage, 100);
        }

        // Show content directly (age verified on entry page)
        showContent();

        // Nav item clicks
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', function() {
                document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
                this.classList.add('active');
                
                gsap.fromTo(this, 
                    { scale: 0.95 },
                    { scale: 1, duration: 0.3, ease: 'back.out(1.7)' }
                );
            });
        });

        // Submenu hover handling - simplified for reliability
        
        // Hide all submenu content initially
        document.querySelectorAll('.submenu-panel').forEach(panel => {
            const items = panel.querySelectorAll('.category-item, .performer-item');
            const title = panel.querySelector('.submenu-title');
            const footer = panel.querySelector('.submenu-footer');
            gsap.set([title, ...items, footer], { opacity: 0, x: -15 });
            panel.style.opacity = '0';
            panel.style.transform = 'translateX(-10px)';
            panel.style.pointerEvents = 'none';
        });
        
        // Track which submenu is locked open - GLOBAL for access in openSearch
        var lockedSubmenu = null;
        var lockedNavItem = null;
        
        document.querySelectorAll('.nav-item-with-submenu').forEach(item => {
            const submenuId = item.dataset.submenu;
            const submenu = document.getElementById(submenuId);
            if (!submenu) return;
            
            let hideTimer = null;
            
            // Force show this submenu
            const forceShow = () => {
                clearTimeout(hideTimer);
                
                // Close search dropdown if open
                const searchDrop = document.getElementById('searchDropdown');
                const searchBarEl = document.getElementById('searchBar');
                if (searchDrop && searchDrop.classList.contains('active')) {
                    searchDrop.classList.remove('active');
                    if (searchBarEl) searchBarEl.classList.remove('active');
                    gsap.to(searchDrop, { opacity: 0, x: -10, duration: 0.15 });
                }
                
                // Hide any other open submenus first
                document.querySelectorAll('.submenu-panel').forEach(panel => {
                    if (panel !== submenu && panel.classList.contains('active')) {
                        panel.classList.remove('active');
                        panel.style.opacity = '0';
                        panel.style.pointerEvents = 'none';
                    }
                });
                
                // Update nav states
                document.querySelectorAll('.nav-item-with-submenu').forEach(i => i.classList.remove('submenu-open'));
                item.classList.add('submenu-open');
                
                // Show this submenu - direct DOM manipulation, no state checks
                submenu.classList.add('active');
                submenu.style.opacity = '1';
                submenu.style.transform = 'translateX(0)';
                submenu.style.pointerEvents = 'auto';
                
                // Animate content in
                const items = submenu.querySelectorAll('.category-item, .performer-item');
                const title = submenu.querySelector('.submenu-title');
                const footer = submenu.querySelector('.submenu-footer');
                gsap.set([title, ...items, footer], { opacity: 0, x: -15 });
                gsap.to(title, { opacity: 1, x: 0, duration: 0.2, ease: 'power2.out' });
                gsap.to(items, { opacity: 1, x: 0, duration: 0.2, stagger: 0.02, delay: 0.05, ease: 'power2.out' });
                gsap.to(footer, { opacity: 1, x: 0, duration: 0.2, delay: 0.15, ease: 'power2.out' });
            };
            
            // Hide this submenu
            const hide = () => {
                item.classList.remove('submenu-open');
                submenu.classList.remove('active');
                submenu.style.opacity = '0';
                submenu.style.transform = 'translateX(-10px)';
                submenu.style.pointerEvents = 'none';
            };
            
            // Start hide countdown
            const startHide = () => {
                clearTimeout(hideTimer);
                hideTimer = setTimeout(() => {
                    // Don't hide if this submenu is locked
                    if (lockedSubmenu === submenu) return;
                    
                    // Final check - is anything still hovered?
                    if (!item.matches(':hover') && !submenu.matches(':hover')) {
                        hide();
                    }
                }, 120);
            };
            
            // Events on nav item - hover
            item.addEventListener('mouseenter', forceShow);
            item.addEventListener('mouseleave', startHide);
            
            // Events on submenu panel
            submenu.addEventListener('mouseenter', () => {
                clearTimeout(hideTimer);
                item.classList.add('submenu-open');
            });
            submenu.addEventListener('mouseleave', startHide);
            
            // Click to lock/unlock
            item.addEventListener('click', (e) => {
                e.stopPropagation();
                
                // If this submenu is already locked, unlock it
                if (lockedSubmenu === submenu) {
                    lockedSubmenu = null;
                    lockedNavItem = null;
                    item.classList.remove('locked');
                    startHide();
                } else {
                    // Unlock any previously locked submenu
                    if (lockedNavItem) {
                        lockedNavItem.classList.remove('locked');
                    }
                    
                    // Lock this one
                    lockedSubmenu = submenu;
                    lockedNavItem = item;
                    item.classList.add('locked');
                    forceShow();
                }
            });
        });
        
        // Click outside to close locked submenu
        document.addEventListener('click', (e) => {
            if (lockedSubmenu && !e.target.closest('.submenu-panel') && !e.target.closest('.nav-item-with-submenu')) {
                if (lockedNavItem) {
                    lockedNavItem.classList.remove('locked', 'submenu-open');
                }
                lockedSubmenu.classList.remove('active');
                lockedSubmenu.style.opacity = '0';
                lockedSubmenu.style.transform = 'translateX(-10px)';
                lockedSubmenu.style.pointerEvents = 'none';
                lockedSubmenu = null;
                lockedNavItem = null;
            }
            
            // Close account menu if clicking outside
            const accountSubmenu = document.getElementById('accountSubmenu');
            if (accountSubmenu && accountSubmenu.classList.contains('active')) {
                if (!e.target.closest('.account-panel') && !e.target.closest('.user-avatar')) {
                    closeAccountMenu();
                }
            }
        });

        // ==========================================
        // ACCOUNT MENU FUNCTIONALITY
        // ==========================================
        
        const userAvatar = document.querySelector('.user-avatar');
        const accountSubmenu = document.getElementById('accountSubmenu');
        
        if (userAvatar && accountSubmenu) {
            userAvatar.addEventListener('click', (e) => {
                e.stopPropagation();
                toggleAccountMenu();
            });
        }
        
        function toggleAccountMenu() {
            const accountSubmenu = document.getElementById('accountSubmenu');
            if (!accountSubmenu) return;
            
            const isOpen = accountSubmenu.classList.contains('active');
            
            if (isOpen) {
                closeAccountMenu();
            } else {
                openAccountMenu();
            }
        }
        
        function openAccountMenu() {
            const accountSubmenu = document.getElementById('accountSubmenu');
            if (!accountSubmenu) return;
            
            // Close any other open submenus
            document.querySelectorAll('.submenu-panel').forEach(panel => {
                if (panel !== accountSubmenu) {
                    panel.classList.remove('active');
                    panel.style.opacity = '0';
                    panel.style.pointerEvents = 'none';
                }
            });
            document.querySelectorAll('.nav-item-with-submenu').forEach(i => i.classList.remove('submenu-open', 'locked'));
            lockedSubmenu = null;
            lockedNavItem = null;
            
            // Close search dropdown if open
            const searchDrop = document.getElementById('searchDropdown');
            const searchBarEl = document.getElementById('searchBar');
            if (searchDrop && searchDrop.classList.contains('active')) {
                searchDrop.classList.remove('active');
                if (searchBarEl) searchBarEl.classList.remove('active');
                gsap.to(searchDrop, { opacity: 0, x: -10, duration: 0.15 });
            }
            
            // Open account submenu
            accountSubmenu.classList.add('active');
            accountSubmenu.style.opacity = '1';
            accountSubmenu.style.transform = 'translateX(0)';
            accountSubmenu.style.pointerEvents = 'auto';
            
            // Animate content in
            const profile = accountSubmenu.querySelector('.account-profile');
            const sections = accountSubmenu.querySelectorAll('.account-section');
            const footer = accountSubmenu.querySelector('.account-footer');
            
            gsap.fromTo([profile, ...sections, footer], 
                { opacity: 0, x: -15 },
                { opacity: 1, x: 0, duration: 0.25, stagger: 0.05, ease: 'power2.out' }
            );
        }
        
        function closeAccountMenu() {
            const accountSubmenu = document.getElementById('accountSubmenu');
            if (!accountSubmenu) return;
            
            accountSubmenu.classList.remove('active');
            gsap.to(accountSubmenu, {
                opacity: 0,
                x: -10,
                duration: 0.2,
                ease: 'power2.in',
                onComplete: () => {
                    accountSubmenu.style.pointerEvents = 'none';
                }
            });
        }
        
        // Make closeAccountMenu globally accessible
        window.closeAccountMenu = closeAccountMenu;

        // ==========================================
        // SEARCH FUNCTIONALITY
        // ==========================================
        
        const searchData = {
            content: [
                { name: 'Midnight Rendezvous', meta: '45 min â€¢ 4K Ultra', type: 'content' },
                { name: 'Golden Hour', meta: '38 min â€¢ 4K Ultra', type: 'content' },
                { name: 'Velvet Dreams', meta: '52 min â€¢ 4K Ultra', type: 'content' },
                { name: 'Morning Bliss', meta: '34 min â€¢ 4K Ultra', type: 'content' },
                { name: 'Moonlit Escape', meta: '41 min â€¢ 4K Ultra', type: 'content' },
                { name: 'Sunset Paradise', meta: '47 min â€¢ 4K Ultra', type: 'content' },
                { name: 'Silk & Shadows', meta: '39 min â€¢ 4K Ultra', type: 'content' },
                { name: 'Electric Touch', meta: '36 min â€¢ 4K Ultra', type: 'content' },
                { name: 'Whispered Secrets', meta: '44 min â€¢ 4K Ultra', type: 'content' },
                { name: 'Crimson Nights', meta: '50 min â€¢ 4K Ultra', type: 'content' },
                { name: 'Azure Dreams', meta: '42 min â€¢ 4K Ultra', type: 'content' },
                { name: 'Tender Moments', meta: '35 min â€¢ 4K Ultra', type: 'content' },
            ],
            performers: [
                { name: 'Aria Rose', meta: '24 scenes', type: 'performer' },
                { name: 'Luna Star', meta: '31 scenes', type: 'performer' },
                { name: 'Jade West', meta: '18 scenes', type: 'performer' },
                { name: 'Mia Chen', meta: '22 scenes', type: 'performer' },
                { name: 'Sofia Vega', meta: '27 scenes', type: 'performer' },
                { name: 'Emma Blake', meta: '19 scenes', type: 'performer' },
                { name: 'Lily James', meta: '15 scenes', type: 'performer' },
                { name: 'Nina Hart', meta: '21 scenes', type: 'performer' },
                { name: 'Chloe Ray', meta: '16 scenes', type: 'performer' },
                { name: 'Scarlett Moon', meta: '29 scenes', type: 'performer' },
                { name: 'Victoria Lane', meta: '23 scenes', type: 'performer' },
                { name: 'Bella Nova', meta: '20 scenes', type: 'performer' },
            ],
            categories: [
                { name: 'Romantic', meta: '156 videos', type: 'category' },
                { name: 'Solo', meta: '89 videos', type: 'category' },
                { name: 'Couples', meta: '234 videos', type: 'category' },
                { name: 'POV Experience', meta: '178 videos', type: 'category' },
                { name: 'Behind the Scenes', meta: '45 videos', type: 'category' },
                { name: 'International', meta: '112 videos', type: 'category' },
                { name: 'Amateur', meta: '67 videos', type: 'category' },
                { name: 'Premium Collection', meta: '98 videos', type: 'category' },
            ]
        };
        
        const allItems = [...searchData.content, ...searchData.performers, ...searchData.categories];
        
        const searchBar = document.getElementById('searchBar');
        const searchInput = document.getElementById('searchInput');
        const searchDropdown = document.getElementById('searchDropdown');
        const recommendedSection = document.getElementById('searchRecommended');
        const trendingSection = document.getElementById('searchTrending');
        const resultsSection = document.getElementById('searchResults');
        const emptySection = document.getElementById('searchEmpty');
        const recommendedItems = document.getElementById('recommendedItems');
        const trendingItems = document.getElementById('trendingItems');
        const resultItems = document.getElementById('resultItems');
        
        let selectedIndex = -1;
        let currentResults = [];
        
        function getIconSVG(type) {
            if (type === 'content') {
                return `<svg viewBox="0 0 24 24"><polygon points="5,3 19,12 5,21"/></svg>`;
            } else if (type === 'performer') {
            } else {
                return `<svg viewBox="0 0 24 24"><rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/></svg>`;
            }
        }
        
        function createSearchItem(item, query = '') {
            const div = document.createElement('div');
            div.className = 'search-item';
            div.dataset.type = item.type;
            div.dataset.name = item.name;
            
            let displayName = item.name;
            if (query) {
                const regex = new RegExp(`(${query})`, 'gi');
                displayName = item.name.replace(regex, '<mark>$1</mark>');
            }
            
            div.innerHTML = `
                <div class="search-item-icon ${item.type}">
                    ${getIconSVG(item.type)}
                </div>
                <div class="search-item-info">
                    <div class="search-item-name">${displayName}</div>
                    <div class="search-item-meta">${item.meta}</div>
                </div>
                <span class="search-item-badge ${item.type}">${item.type}</span>
            `;
            
            div.addEventListener('click', () => {
                searchInput.value = item.name;
                closeSearch();
            });
            
            div.addEventListener('mouseenter', () => {
                document.querySelectorAll('.search-item.selected').forEach(el => el.classList.remove('selected'));
                div.classList.add('selected');
                selectedIndex = currentResults.indexOf(item);
            });
            
            return div;
        }
        
        function populateRecommended() {
            recommendedItems.innerHTML = '';
            const recommended = [
                searchData.content[0],
                searchData.performers[0],
                searchData.content[2],
                searchData.performers[1],
            ];
            recommended.forEach(item => {
                recommendedItems.appendChild(createSearchItem(item));
            });
        }
        
        function populateTrending() {
            trendingItems.innerHTML = '';
            const trending = [
                searchData.content[1],
                searchData.performers[2],
                searchData.categories[0],
            ];
            trending.forEach(item => {
                trendingItems.appendChild(createSearchItem(item));
            });
        }
        
        function performSearch(query) {
            if (!query.trim()) {
                resultsSection.style.display = 'none';
                recommendedSection.style.display = 'block';
                trendingSection.style.display = 'block';
                emptySection.style.display = 'none';
                currentResults = [];
                selectedIndex = -1;
                return;
            }
            
            const lowerQuery = query.toLowerCase();
            const results = allItems.filter(item => 
                item.name.toLowerCase().includes(lowerQuery)
            ).slice(0, 8);
            
            currentResults = results;
            selectedIndex = -1;
            
            recommendedSection.style.display = 'none';
            trendingSection.style.display = 'none';
            
            if (results.length === 0) {
                resultsSection.style.display = 'none';
                emptySection.style.display = 'flex';
            } else {
                emptySection.style.display = 'none';
                resultsSection.style.display = 'block';
                resultItems.innerHTML = '';
                results.forEach(item => {
                    resultItems.appendChild(createSearchItem(item, query));
                });
            }
        }
        
        function openSearch() {
            const searchDrop = document.getElementById('searchDropdown');
            const searchBarEl = document.getElementById('searchBar');
            
            if (!searchDrop || !searchBarEl) return;
            
            // Kill any existing animations
            gsap.killTweensOf(searchDrop);
            
            // Close any open submenus first
            document.querySelectorAll('.submenu-panel').forEach(panel => {
                panel.classList.remove('active');
                panel.style.opacity = '0';
                panel.style.pointerEvents = 'none';
            });
            document.querySelectorAll('.nav-item-with-submenu').forEach(item => {
                item.classList.remove('submenu-open', 'locked');
            });
            lockedSubmenu = null;
            lockedNavItem = null;
            
            // Show dropdown
            searchBarEl.classList.add('active');
            searchDrop.classList.add('active');
            
            populateRecommended();
            populateTrending();
            
            // Animate in
            gsap.fromTo(searchDrop,
                { opacity: 0, x: -10 },
                { opacity: 1, x: 0, duration: 0.2, ease: 'power2.out' }
            );
            
            // Animate items
            setTimeout(() => {
                const items = searchDrop.querySelectorAll('.search-item');
                gsap.fromTo(items,
                    { opacity: 0, x: -10 },
                    { opacity: 1, x: 0, duration: 0.2, stagger: 0.03, ease: 'power2.out' }
                );
            }, 50);
        }
        
        function closeSearch() {
            const searchDrop = document.getElementById('searchDropdown');
            const searchBarEl = document.getElementById('searchBar');
            
            if (!searchDrop) return;
            
            // Kill any existing animations
            gsap.killTweensOf(searchDrop);
            
            // Remove active classes
            if (searchBarEl) searchBarEl.classList.remove('active');
            searchDrop.classList.remove('active');
            
            // Animate out
            gsap.to(searchDrop, {
                opacity: 0,
                x: -10,
                duration: 0.15,
                ease: 'power2.in',
                onComplete: () => {
                    if (resultsSection) resultsSection.style.display = 'none';
                    if (recommendedSection) recommendedSection.style.display = 'block';
                    if (trendingSection) trendingSection.style.display = 'block';
                    if (emptySection) emptySection.style.display = 'none';
                    selectedIndex = -1;
                }
            });
        }
        
        function updateSelection() {
            const items = searchDropdown.querySelectorAll('.search-item');
            items.forEach((item, i) => {
                item.classList.toggle('selected', i === selectedIndex);
            });
            
            if (selectedIndex >= 0 && items[selectedIndex]) {
                items[selectedIndex].scrollIntoView({ block: 'nearest' });
            }
        }
        
        // Event listeners
        searchBar.addEventListener('click', function(e) {
            e.stopPropagation();
            openSearch();
            searchInput.focus();
        });
        
        searchInput.addEventListener('focus', function() {
            openSearch();
        });
        
        searchInput.addEventListener('input', (e) => {
            performSearch(e.target.value);
        });
        
        searchInput.addEventListener('keydown', (e) => {
            const items = searchDropdown.querySelectorAll('.search-item');
            const totalItems = items.length;
            
            if (e.key === 'ArrowDown') {
                e.preventDefault();
                selectedIndex = (selectedIndex + 1) % totalItems;
                updateSelection();
            } else if (e.key === 'ArrowUp') {
                e.preventDefault();
                selectedIndex = selectedIndex <= 0 ? totalItems - 1 : selectedIndex - 1;
                updateSelection();
            } else if (e.key === 'Enter') {
                e.preventDefault();
                if (selectedIndex >= 0 && items[selectedIndex]) {
                    items[selectedIndex].click();
                }
            } else if (e.key === 'Escape') {
                searchInput.blur();
                closeSearch();
            }
        });
        
        // Close on click outside
        document.addEventListener('click', (e) => {
            if (!searchBar.contains(e.target) && !searchDropdown.contains(e.target)) {
                closeSearch();
            }
        });
        
        // Keyboard shortcut âŒ˜K / Ctrl+K
        document.addEventListener('keydown', (e) => {
            if ((e.metaKey || e.ctrlKey) && e.key === 'k') {
                e.preventDefault();
                if (searchDropdown.classList.contains('active')) {
                    closeSearch();
                    searchInput.blur();
                } else {
                    searchInput.focus();
                }
            }
        });

        // Play button handlers - navigate to watch page
        document.querySelectorAll('.btn-play, .card-expanded-btn.btn-play').forEach(btn => {
            btn.addEventListener('click', (e) => {
                e.preventDefault();
                e.stopPropagation();
                // Check if parent card is 3D or multi-angle
                // For expanded card buttons, use currentCard; for inline buttons, use closest
                const card = btn.closest('.content-card') || currentCard;
                console.log('[SIREN] Play button clicked, card:', card, 'is3d:', card?.dataset?.is3d, 'multiangle:', card?.dataset?.multiangle);
                if (card && card.dataset.is3d === 'true') {
                    window.location.href = '../watch/?type=3d';
                } else if (card && card.dataset.multiangle === 'true') {
                    window.location.href = '../multiangle/';
                } else {
                    window.location.href = '../watch/';
                }
            });
            
            btn.addEventListener('touchend', (e) => {
                e.preventDefault();
                e.stopPropagation();
                const card = btn.closest('.content-card') || currentCard;
                if (card && card.dataset.is3d === 'true') {
                    window.location.href = '../watch/?type=3d';
                } else if (card && card.dataset.multiangle === 'true') {
                    window.location.href = '../multiangle/';
                } else {
                    window.location.href = '../watch/';
                }
            }, { passive: false });
        });

        // Also handle clicks on content cards themselves - but not during drag
        document.querySelectorAll('.content-card').forEach(card => {
            let cardTouchStartTime = 0;
            let cardTouchStartX = 0;
            let cardTouchStartY = 0;
            
            // Touch events for mobile
            card.addEventListener('touchstart', (e) => {
                cardTouchStartTime = Date.now();
                cardTouchStartX = e.touches[0].clientX;
                cardTouchStartY = e.touches[0].clientY;
            }, { passive: true });
            
            card.addEventListener('touchend', (e) => {
                // Don't navigate if clicking buttons
                if (e.target.closest('.card-expanded-btn')) return;
                if (e.target.closest('.btn-play')) return;
                
                const touch = e.changedTouches[0];
                const timeDiff = Date.now() - cardTouchStartTime;
                const distX = Math.abs(touch.clientX - cardTouchStartX);
                const distY = Math.abs(touch.clientY - cardTouchStartY);
                
                // Only navigate if it was a tap (not drag)
                if (timeDiff < 300 && distX < 10 && distY < 10) {
                    if (card.dataset.performer === 'true') {
                        const performerSlug = card.dataset.performerSlug || 'scarlett-luxe';
                        window.location.href = `../performer/?id=${performerSlug}`;
                    } else if (card.dataset.is3d === 'true') {
                        window.location.href = '../watch/?type=3d';
                    } else if (card.dataset.multiangle === 'true') {
                        window.location.href = '../multiangle/';
                    } else {
                        window.location.href = '../watch/';
                    }
                }
            }, { passive: true });
            
            // Mouse events for desktop
            let cardMouseDownTime = 0;
            let cardMouseDownX = 0;
            let cardMouseDownY = 0;
            
            card.addEventListener('mousedown', (e) => {
                cardMouseDownTime = Date.now();
                cardMouseDownX = e.clientX;
                cardMouseDownY = e.clientY;
            });
            
            card.addEventListener('click', (e) => {
                // Don't navigate if clicking buttons
                if (e.target.closest('.card-expanded-btn')) return;
                if (e.target.closest('.btn-play')) return;
                
                // Don't navigate if we were dragging (moved more than 5px or held for > 200ms)
                const timeDiff = Date.now() - cardMouseDownTime;
                const distX = Math.abs(e.clientX - cardMouseDownX);
                const distY = Math.abs(e.clientY - cardMouseDownY);
                
                if (timeDiff > 200 || distX > 5 || distY > 5) return;
                
                // Check content type
                if (card.dataset.performer === 'true') {
                    const performerSlug = card.dataset.performerSlug || 'scarlett-luxe';
                    window.location.href = `../performer/?id=${performerSlug}`;
                } else if (card.dataset.is3d === 'true') {
                    window.location.href = '../watch/?type=3d';
                } else if (card.dataset.multiangle === 'true') {
                    window.location.href = '../multiangle/';
                } else {
                    window.location.href = '../watch/';
                }
            });
        });
    </script>
<!-- Supabase Client -->
<script src="../js/supabase-client.js"></script>
<script src="../js/auth-modal.js"></script>
<script>
    // Update account menu with user data when authenticated
    if (window.SIREN) {
        SIREN.onAuthChange((user, profile) => {
            updateAccountMenu(user, profile);
        });
    }
    
    function updateAccountMenu(user, profile) {
        const signedOutEl = document.getElementById('accountSignedOut');
        const signedInEl = document.getElementById('accountSignedIn');
        const footerEl = document.getElementById('accountFooter');
        
        if (!user) {
            // Show signed out state
            if (signedOutEl) signedOutEl.style.display = 'block';
            if (signedInEl) signedInEl.style.display = 'none';
            if (footerEl) footerEl.style.display = 'none';
            return;
        }
        
        // Show signed in state
        if (signedOutEl) signedOutEl.style.display = 'none';
        if (signedInEl) signedInEl.style.display = 'block';
        if (footerEl) footerEl.style.display = 'block';
        
        // Update name
        const nameEl = document.querySelector('.account-name[data-user-name]');
        if (nameEl) {
            nameEl.textContent = profile?.display_name || profile?.username || user.email?.split('@')[0] || 'Account';
        }
        
        // Update email
        const emailEl = document.querySelector('.account-email[data-user-email]');
        if (emailEl) {
            emailEl.textContent = profile?.email || user.email || '';
        }
        
        // Update tier badge
        const tierEl = document.querySelector('[data-user-tier]');
        const tierBadge = document.querySelector('.tier-badge');
        if (tierEl && tierBadge) {
            const tier = profile?.subscription_tier || 'free';
            tierEl.textContent = tier.charAt(0).toUpperCase() + tier.slice(1);
            
            // Update badge styling
            tierBadge.classList.remove('free', 'premium', 'vip', 'basic');
            tierBadge.classList.add(tier);
        }
        
        // Show/hide upgrade button based on tier
        const upgradeBtn = document.querySelector('#openSubModal');
        if (upgradeBtn && profile?.subscription_tier === 'premium') {
            upgradeBtn.style.display = 'none';
        }
    }
    
    // Initialize account menu state on page load
    updateAccountMenu(null, null);
</script>

<!-- Subscription Modal -->
<div class="sub-modal-overlay" id="subscriptionModal">
    <div class="sub-modal">
        <div class="sub-modal-particles" id="subParticles"></div>
        
        <button class="sub-modal-close" id="closeSubModal">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M18 6L6 18M6 6l12 12"/>
            </svg>
        </button>
        
        <div class="sub-modal-header">
            <div class="sub-modal-logo">SIREN</div>
            <div class="sub-modal-tagline">Immersive Entertainment</div>
        </div>
        
        <div class="sub-pricing-card">
            <div class="sub-plan-badge">Premium Access</div>
            
            <div class="sub-price">
                <span class="sub-price-currency">$</span>
                <span class="sub-price-amount">14</span>
                <span class="sub-price-period">/month</span>
            </div>
            <div class="sub-price-note">Billed monthly. Cancel anytime.</div>
            
            <div class="sub-features">
                <div class="sub-feature">
                    <div class="sub-feature-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M5 13l4 4L19 7"/></svg>
                    </div>
                    <span>Unlimited streaming in 4K</span>
                </div>
                <div class="sub-feature">
                    <div class="sub-feature-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M5 13l4 4L19 7"/></svg>
                    </div>
                    <span>Exclusive immersive 3D experiences</span>
                </div>
                <div class="sub-feature">
                    <div class="sub-feature-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M5 13l4 4L19 7"/></svg>
                    </div>
                    <span>New content added weekly</span>
                </div>
                <div class="sub-feature">
                    <div class="sub-feature-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M5 13l4 4L19 7"/></svg>
                    </div>
                    <span>Watch on any device</span>
                </div>
                <div class="sub-feature">
                    <div class="sub-feature-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M5 13l4 4L19 7"/></svg>
                    </div>
                    <span>No ads, ever</span>
                </div>
            </div>
        </div>
        
        <button class="sub-cta-btn" id="subscribeBtn">
            <span>Start Watching Now</span>
        </button>
        
        <div class="sub-terms">
            By subscribing, you agree to our <a href="/legal/terms/">Terms of Service</a> and <a href="/legal/privacy/">Privacy Policy</a>
        </div>
    </div>
</div>

<script>
// Subscription Modal
const subModal = document.getElementById('subscriptionModal');
const closeSubModal = document.getElementById('closeSubModal');
const subscribeBtn = document.getElementById('subscribeBtn');
const openSubModalBtn = document.getElementById('openSubModal');
const premiumNavItem = document.querySelector('[data-nav="premium"]');

// Create particles
const subParticles = document.getElementById('subParticles');
for(let i = 0; i < 8; i++) {
    const particle = document.createElement('div');
    particle.className = 'sub-particle';
    particle.style.left = Math.random() * 100 + '%';
    particle.style.bottom = '-10px';
    particle.style.animationDelay = Math.random() * 8 + 's';
    subParticles.appendChild(particle);
}

// Open modal function
function openSubscriptionModal() {
    subModal.classList.add('active');
    document.body.style.overflow = 'hidden';
}

// Open from Upgrade button
if (openSubModalBtn) {
    openSubModalBtn.addEventListener('click', openSubscriptionModal);
}

// Open from Premium nav item
if (premiumNavItem) {
    premiumNavItem.addEventListener('click', openSubscriptionModal);
}

// Close modal
closeSubModal.addEventListener('click', () => {
    subModal.classList.remove('active');
    document.body.style.overflow = '';
});

// Close on overlay click
subModal.addEventListener('click', (e) => {
    if(e.target === subModal) {
        subModal.classList.remove('active');
        document.body.style.overflow = '';
    }
});

// Close on escape
document.addEventListener('keydown', (e) => {
    if(e.key === 'Escape' && subModal.classList.contains('active')) {
        subModal.classList.remove('active');
        document.body.style.overflow = '';
    }
});

// Subscribe button
subscribeBtn.addEventListener('click', () => {
    // TODO: Integrate with Stripe checkout
    console.log('Subscribe clicked - integrate payment here');
});

// ==========================================
// INFO MODAL (More Info) FUNCTIONS
// ==========================================
const infoModalBackdrop = document.getElementById('infoModalBackdrop');
const infoModalDescriptions = [
    "An intimate evening unfolds as two souls connect in the city that never sleeps. Shot in stunning 4K with immersive 4D technology, experience every moment as if you were there.",
    "Experience the passion and chemistry between two incredible performers in this award-winning production. Features breathtaking cinematography and stunning visuals.",
    "A sensual journey through desire and connection, where every touch tells a story. Captured in crystal clear quality with immersive sound design.",
    "Exclusive behind-the-scenes footage combined with the main feature creates an unforgettable experience you won't find anywhere else."
];

const infoModalGenres = [
    "Romantic, Sensual, Couples",
    "Passionate, Intimate, Solo",
    "Glamour, Fantasy, Premium",
    "Amateur, Authentic, Real"
];

function openInfoModal(data = {}) {
    const preview = document.getElementById('infoModalPreview');
    const title = document.getElementById('infoModalTitle');
    const desc = document.getElementById('infoModalDesc');
    const match = document.getElementById('infoModalMatch');
    const year = document.getElementById('infoModalYear');
    const duration = document.getElementById('infoModalDuration');
    const cast = document.getElementById('infoModalCast');
    const genres = document.getElementById('infoModalGenres');
    const related = document.getElementById('infoModalRelated');
    const video = document.getElementById('infoModalVideo');
    
    // Set data
    if (data.img) preview.style.backgroundImage = `url('${data.img}')`;
    if (data.title) title.textContent = data.title;
    if (data.desc) desc.textContent = data.desc;
    if (data.match) match.textContent = data.match + '% Match';
    if (data.year) year.textContent = data.year;
    if (data.duration) duration.textContent = data.duration;
    if (data.cast) cast.innerHTML = data.cast.map(p => `<a href="../performer/">${p}</a>`).join(', ');
    if (data.genres) genres.textContent = data.genres;
    
    // Play video
    if (video) {
        video.currentTime = 0;
        video.play().catch(() => {});
    }
    
    // Populate related content
    const relatedHtml = contentData.slice(0, 6).map((item, i) => `
        <div class="info-related-card" onclick="openInfoModal({
            img: '${item.img}',
            title: '${item.title}',
            desc: infoModalDescriptions[${i % 4}],
            match: ${85 + Math.floor(Math.random() * 13)},
            year: ${2023 + Math.floor(Math.random() * 2)},
            duration: '${durations[i % durations.length]}',
            cast: ['${performerNames[i % performerNames.length]}', '${performerNames[(i + 3) % performerNames.length]}'],
            genres: infoModalGenres[${i % 4}]
        })">
            <img src="${item.img}" alt="${item.title}">
            <div class="info-related-card-content">
                <div class="info-related-card-header">
                    <span class="info-related-card-meta">${85 + Math.floor(Math.random() * 13)}% Match</span>
                    <span class="info-related-card-duration">${durations[i % durations.length]}</span>
                </div>
                <div class="info-related-card-title">${item.title}</div>
                <p class="info-related-card-description">${infoModalDescriptions[i % 4].substring(0, 80)}...</p>
            </div>
        </div>
    `).join('');
    related.innerHTML = relatedHtml;
    
    // Open modal
    infoModalBackdrop.classList.add('open');
    document.body.style.overflow = 'hidden';
    
    // Animate in
    gsap.fromTo('.info-modal', 
        { opacity: 0, y: 20 },
        { opacity: 1, y: 0, duration: 0.3, ease: 'power2.out' }
    );
}

function closeInfoModal() {
    infoModalBackdrop.classList.remove('open');
    document.body.style.overflow = '';
    
    // Pause video
    const video = document.getElementById('infoModalVideo');
    if (video) {
        video.pause();
        video.currentTime = 0;
    }
}

// Close on backdrop click
if (infoModalBackdrop) {
    infoModalBackdrop.addEventListener('click', (e) => {
        if (e.target === infoModalBackdrop) {
            closeInfoModal();
        }
    });
}

// Close on escape
document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape' && infoModalBackdrop && infoModalBackdrop.classList.contains('open')) {
        closeInfoModal();
    }
});

// Hook up btn-more (down arrow) in expanded card to open info modal
document.addEventListener('click', (e) => {
    const moreBtn = e.target.closest('.btn-more');
    if (moreBtn) {
        e.preventDefault();
        e.stopPropagation();
        
        // Get data from expanded card or nearest card
        const expandedCard = document.getElementById('cardExpanded');
        const expandedLogo = expandedCard?.querySelector('.card-expanded-logo')?.textContent || 'Midnight Whispers';
        const expandedDuration = document.getElementById('expandedDuration')?.textContent || '45 min';
        
        // Find the current card's image
        let cardImg = '../images/1.jpg';
        const activeCard = document.querySelector('.content-card:hover, .content-card.expanded');
        if (activeCard) {
            // Try img tag first, then fall back to background-image
            const imgEl = activeCard.querySelector('.card-thumb-img');
            if (imgEl && imgEl.src) {
                cardImg = imgEl.src;
            } else {
                const thumbInner = activeCard.querySelector('.card-thumbnail-inner');
                if (thumbInner) {
                    const style = thumbInner.style.backgroundImage;
                    const match = style.match(/url\(['"]?([^'"]+)['"]?\)/);
                    if (match) cardImg = match[1];
                }
            }
        }
        
        // Get expanded card data
        const dataIndex = Math.floor(Math.random() * contentData.length);
        const data = contentData[dataIndex] || contentData[0];
        
        openInfoModal({
            img: cardImg || data.img,
            title: expandedLogo || data.title,
            desc: infoModalDescriptions[dataIndex % 4],
            match: 85 + Math.floor(Math.random() * 13),
            year: 2023 + Math.floor(Math.random() * 2),
            duration: expandedDuration,
            cast: [performerNames[dataIndex % performerNames.length], performerNames[(dataIndex + 3) % performerNames.length]],
            genres: infoModalGenres[dataIndex % 4]
        });
    }
});
</script>
<script src="../js/mobile.js"></script>

<!-- Coming Soon Modal -->
<div class="coming-soon-modal" id="comingSoonModal">
    <div class="coming-soon-backdrop" onclick="closeComingSoon()"></div>
    <div class="coming-soon-content">
        <button class="coming-soon-close" onclick="closeComingSoon()">Ã—</button>
        <div class="coming-soon-icon" id="comingSoonIcon">ðŸŽ¬</div>
        <h2 class="coming-soon-title" id="comingSoonTitle">Clips</h2>
        <p class="coming-soon-subtitle">Coming Soon</p>
        <p class="coming-soon-desc" id="comingSoonDesc">Short-form vertical videos are on the way. Get ready for quick, immersive content you can swipe through.</p>
        <div class="coming-soon-notify">
            <input type="email" placeholder="Enter email for updates" class="coming-soon-input">
            <button class="coming-soon-btn">Notify Me</button>
        </div>
    </div>
</div>

<style>
.coming-soon-modal {
    display: none;
    position: fixed;
    inset: 0;
    z-index: 100000;
    align-items: center;
    justify-content: center;
    padding: 20px;
}
.coming-soon-modal.active {
    display: flex;
}
.coming-soon-backdrop {
    position: absolute;
    inset: 0;
    background: rgba(0,0,0,0.85);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
}
.coming-soon-content {
    position: relative;
    background: linear-gradient(145deg, rgba(30,30,35,0.98), rgba(20,20,25,0.98));
    border: 1px solid rgba(255,255,255,0.1);
    border-radius: 20px;
    padding: 32px 24px;
    max-width: 320px;
    width: 100%;
    text-align: center;
    animation: modalPop 0.3s ease-out;
}
@keyframes modalPop {
    from { opacity: 0; transform: scale(0.9) translateY(20px); }
    to { opacity: 1; transform: scale(1) translateY(0); }
}
.coming-soon-close {
    position: absolute;
    top: 12px;
    right: 12px;
    width: 32px;
    height: 32px;
    border: none;
    background: rgba(255,255,255,0.1);
    border-radius: 50%;
    color: #fff;
    font-size: 1.2rem;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
}
.coming-soon-icon {
    font-size: 3rem;
    margin-bottom: 12px;
}
.coming-soon-title {
    font-size: 1.5rem;
    font-weight: 700;
    color: #fff;
    margin: 0 0 4px;
}
.coming-soon-subtitle {
    font-size: 0.85rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.15em;
    background: linear-gradient(135deg, #ef4444, #f97316);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin: 0 0 16px;
}
.coming-soon-desc {
    font-size: 0.85rem;
    color: rgba(255,255,255,0.6);
    line-height: 1.5;
    margin: 0 0 20px;
}
.coming-soon-notify {
    display: flex;
    flex-direction: column;
    gap: 10px;
}
.coming-soon-input {
    width: 100%;
    padding: 12px 16px;
    background: rgba(255,255,255,0.08);
    border: 1px solid rgba(255,255,255,0.15);
    border-radius: 10px;
    color: #fff;
    font-size: 0.9rem;
    outline: none;
}
.coming-soon-input::placeholder {
    color: rgba(255,255,255,0.4);
}
.coming-soon-input:focus {
    border-color: #ef4444;
}
.coming-soon-btn {
    width: 100%;
    padding: 12px;
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border: none;
    border-radius: 10px;
    color: #fff;
    font-size: 0.9rem;
    font-weight: 600;
    cursor: pointer;
}

/* Legal Footer */
.legal-footer {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    padding: 0.5rem 1rem;
    background: linear-gradient(0deg, rgba(10,10,10,0.95) 0%, rgba(10,10,10,0.8) 100%);
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 1.5rem;
    z-index: 100;
    font-size: 0.7rem;
}
.legal-footer a {
    color: rgba(255,255,255,0.4);
    text-decoration: none;
    transition: color 0.15s ease;
}
.legal-footer a:hover {
    color: rgba(255,255,255,0.8);
}
.legal-footer span {
    color: rgba(255,255,255,0.25);
}
@media (max-width: 768px) {
    .legal-footer {
        bottom: 70px;
        font-size: 0.6rem;
        gap: 1rem;
        padding: 0.4rem 0.5rem;
    }
}
</style>

<script>
function openComingSoon(feature) {
    const modal = document.getElementById('comingSoonModal');
    const icon = document.getElementById('comingSoonIcon');
    const title = document.getElementById('comingSoonTitle');
    const desc = document.getElementById('comingSoonDesc');
    
    const features = {
        clips: {
            icon: 'ðŸŽ¬',
            title: 'Clips',
            desc: 'Short-form vertical videos are on the way. Get ready for quick, immersive content you can swipe through.'
        },
        mylist: {
            icon: 'ðŸ”–',
            title: 'My List',
            desc: 'Save your favorites and create custom playlists. Your personal collection, always ready when you are.'
        },
        vr: {
            icon: 'ðŸ¥½',
            title: 'VR Experience',
            desc: 'Step inside the scene with immersive VR content. Compatible with all major headsets.'
        }
    };
    
    const f = features[feature] || features.clips;
    icon.textContent = f.icon;
    title.textContent = f.title;
    desc.textContent = f.desc;
    
    modal.classList.add('active');
    document.body.style.overflow = 'hidden';
}

function closeComingSoon() {
    document.getElementById('comingSoonModal').classList.remove('active');
    document.body.style.overflow = '';
}
</script>

<!-- Mobile Navigation -->
<nav class="mobile-nav" id="mobileNav">
    <svg width="0" height="0" style="position:absolute">
        <defs>
            <linearGradient id="nav-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" style="stop-color:#ef4444"/>
                <stop offset="100%" style="stop-color:#f97316"/>
            </linearGradient>
        </defs>
    </svg>
    <a href="../browse/index.html" class="mobile-nav-item active">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <rect x="2" y="2" width="20" height="20" rx="2.18" ry="2.18"/>
            <line x1="7" y1="2" x2="7" y2="22"/>
            <line x1="17" y1="2" x2="17" y2="22"/>
            <line x1="2" y1="12" x2="22" y2="12"/>
        </svg>
        <span>Browse</span>
    </a>
    <a href="#" class="mobile-nav-item" onclick="openComingSoon('mylist'); return false;">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"/>
        </svg>
        <span>My List</span>
    </a>
    <a href="#" class="mobile-nav-item" onclick="openComingSoon('vr'); return false;">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path d="M21 8V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-2"/>
            <circle cx="8" cy="10" r="2"/>
            <circle cx="16" cy="10" r="2"/>
            <path d="M10 10h4"/>
            <path d="M2 10h1M21 10h1"/>
        </svg>
        <span>VR</span>
    </a>
    <a href="#" class="mobile-nav-item" onclick="openComingSoon('clips'); return false;">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <polygon points="23 7 16 12 23 17 23 7"/>
            <rect x="1" y="5" width="15" height="14" rx="2" ry="2"/>
        </svg>
        <span>Clips</span>
    </a>
    <a href="#" class="mobile-nav-item" onclick="goToProfile(event)">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
            <circle cx="12" cy="7" r="4"/>
        </svg>
        <span>Profile</span>
    </a>
</nav>
<script>
// Profile auth check
function goToProfile(e) {
    e.preventDefault();
    if (typeof SIREN !== 'undefined' && SIREN.getCurrentUser && SIREN.getCurrentUser()) {
        window.location.href = '../account/index.html';
    } else {
        if (typeof openAuthModal === 'function') {
            window.afterAuthRedirect = '../account/index.html';
            openAuthModal('signin');
        } else {
            window.location.href = '../account/index.html';
        }
    }
}

(function(){
    var nav = document.getElementById('mobileNav');
    function showMobileNav() {
        if(nav && window.innerWidth <= 768) {
            nav.style.cssText = 'display:flex!important;position:fixed!important;bottom:0!important;left:0!important;right:0!important;height:70px;background:rgba(5,5,10,0.98);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border-top:1px solid rgba(255,255,255,0.08);z-index:999999;justify-content:space-around;align-items:center;padding:8px 0;';
        } else if(nav) {
            nav.style.display = 'none';
        }
    }
    showMobileNav();
    window.addEventListener('resize', showMobileNav);
})();
</script>

<!-- Video Hover Play - DISABLED (preview popup handles this instead) -->
<!--
<style>
.card-thumbnail-inner .hover-video {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    opacity: 0;
    transition: opacity 0.3s ease;
    z-index: 1;
}
.content-card:hover .card-thumbnail-inner .hover-video {
    opacity: 1;
}
</style>
<script>
(function() {
    // Video URLs for preview
    const previewVideos = [
        'https://tzxbhrrhgahvcfkokdti.supabase.co/storage/v1/object/public/previews/MidnightRendevous.mp4',
        'https://tzxbhrrhgahvcfkokdti.supabase.co/storage/v1/object/public/previews/GoldenHourVid1.mp4',
        'https://tzxbhrrhgahvcfkokdti.supabase.co/storage/v1/object/public/previews/VelvetDreams1.mp4',
        'https://tzxbhrrhgahvcfkokdti.supabase.co/storage/v1/object/public/previews/MorningRoutine.mp4',
        'https://tzxbhrrhgahvcfkokdti.supabase.co/storage/v1/object/public/previews/redheadstuff.mp4'
    ];
    
    function addHoverVideos() {
        document.querySelectorAll('.content-card:not(.performer-card)').forEach((card, index) => {
            const thumbInner = card.querySelector('.card-thumbnail-inner');
            if (!thumbInner || thumbInner.querySelector('.hover-video')) return;
            
            // Create video element
            const video = document.createElement('video');
            video.className = 'hover-video';
            video.muted = true;
            video.loop = true;
            video.playsInline = true;
            video.preload = 'none';
            video.src = previewVideos[index % previewVideos.length];
            
            thumbInner.appendChild(video);
            
            // Play on hover
            card.addEventListener('mouseenter', () => {
                video.play().catch(() => {});
            });
            
            // Pause on leave
            card.addEventListener('mouseleave', () => {
                video.pause();
                video.currentTime = 0;
            });
        });
        });
    }
    
    // Run after cards are created
    setTimeout(addHoverVideos, 1000);
    
    // Also run when new cards might be added
    const observer = new MutationObserver(() => {
        setTimeout(addHoverVideos, 100);
    });
    observer.observe(document.body, { childList: true, subtree: true });
})();
</script>
-->

<!-- Legal Footer -->
<footer class="legal-footer">
    <a href="/legal/terms/">Terms</a>
    <a href="/legal/privacy/">Privacy</a>
    <a href="/legal/2257/">2257</a>
    <a href="/legal/dmca/">DMCA</a>
    <span>Â© 2025 SIREN</span>
</footer>

<!-- Cookie Banner -->
<div class="cookie-banner" id="cookieBanner">
    <div class="cookie-banner-content">
        <div class="cookie-banner-text">
            <h4>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zm1 4a1 1 0 11-2 0 1 1 0 012 0zm-4 2a1 1 0 11-2 0 1 1 0 012 0zm2 3a1 1 0 11-2 0 1 1 0 012 0zm4 1a1 1 0 11-2 0 1 1 0 012 0zm-6 3a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"/>
                </svg>
                We value your privacy
            </h4>
            <p>We use cookies to enhance your experience and analyze traffic. <a href="/legal/cookies/">Learn more</a></p>
        </div>
        <div class="cookie-banner-actions">
            <button class="cookie-btn cookie-btn-reject" onclick="CookieConsent.rejectAll()">Reject All</button>
            <button class="cookie-btn cookie-btn-settings" onclick="CookieConsent.showSettings()">Preferences</button>
            <button class="cookie-btn cookie-btn-accept" onclick="CookieConsent.acceptAll()">Accept All</button>
        </div>
    </div>
</div>

<!-- Cookie Settings Modal -->
<div class="cookie-modal-overlay" id="cookieModalOverlay" onclick="CookieConsent.hideSettings(event)">
    <div class="cookie-modal" onclick="event.stopPropagation()">
        <div class="cookie-modal-header">
            <h3>Cookie Preferences</h3>
            <p>Manage your cookie settings. Some cookies are essential for the site to function.</p>
            <button class="cookie-modal-close" onclick="CookieConsent.hideSettings()">Ã—</button>
        </div>
        
        <div class="cookie-modal-body">
            <div class="cookie-category">
                <div class="cookie-category-header">
                    <div class="cookie-category-info">
                        <div class="cookie-category-title">
                            Essential Cookies
                            <span class="required-badge">Always On</span>
                        </div>
                        <div class="cookie-category-desc">Required for the website to function. Cannot be disabled.</div>
                    </div>
                    <label class="cookie-toggle">
                        <input type="checkbox" checked disabled>
                        <span class="cookie-toggle-slider"></span>
                    </label>
                </div>
            </div>
            
            <div class="cookie-category">
                <div class="cookie-category-header">
                    <div class="cookie-category-info">
                        <div class="cookie-category-title">Analytics Cookies</div>
                        <div class="cookie-category-desc">Help us understand how visitors interact with our site.</div>
                    </div>
                    <label class="cookie-toggle">
                        <input type="checkbox" id="cookieAnalytics">
                        <span class="cookie-toggle-slider"></span>
                    </label>
                </div>
            </div>
            
            <div class="cookie-category">
                <div class="cookie-category-header">
                    <div class="cookie-category-info">
                        <div class="cookie-category-title">Functional Cookies</div>
                        <div class="cookie-category-desc">Enable enhanced functionality and personalization.</div>
                    </div>
                    <label class="cookie-toggle">
                        <input type="checkbox" id="cookieFunctional">
                        <span class="cookie-toggle-slider"></span>
                    </label>
                </div>
            </div>
            
            <div class="cookie-category">
                <div class="cookie-category-header">
                    <div class="cookie-category-info">
                        <div class="cookie-category-title">Marketing Cookies</div>
                        <div class="cookie-category-desc">Used to deliver relevant ads and track campaign effectiveness.</div>
                    </div>
                    <label class="cookie-toggle">
                        <input type="checkbox" id="cookieMarketing">
                        <span class="cookie-toggle-slider"></span>
                    </label>
                </div>
            </div>
        </div>
        
        <div class="cookie-modal-footer">
            <div class="cookie-modal-footer-left">
                <button class="cookie-btn cookie-btn-settings cookie-btn-small" onclick="CookieConsent.rejectAll()">Reject All</button>
                <button class="cookie-btn cookie-btn-settings cookie-btn-small" onclick="CookieConsent.acceptSelected()">Save Choices</button>
            </div>
            <button class="cookie-btn cookie-btn-accept" onclick="CookieConsent.acceptAll()">Accept All</button>
        </div>
    </div>
</div>

<!-- Floating Cookie Settings Button -->
<button class="cookie-settings-float" id="cookieSettingsFloat" onclick="CookieConsent.showSettings()" title="Cookie Settings">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
        <path d="M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zm1 4a1 1 0 11-2 0 1 1 0 012 0zm-4 2a1 1 0 11-2 0 1 1 0 012 0zm2 3a1 1 0 11-2 0 1 1 0 012 0zm4 1a1 1 0 11-2 0 1 1 0 012 0zm-6 3a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"/>
    </svg>
</button>

<!-- Cookie Consent JavaScript -->
<script>
const CookieConsent = {
    cookieName: 'siren_cookie_consent',
    cookieExpiry: 365,
    preferences: { essential: true, analytics: false, functional: false, marketing: false },
    
    init() {
        const saved = this.getCookie(this.cookieName);
        if (saved) {
            try {
                this.preferences = JSON.parse(saved);
                this.applyPreferences();
                this.showFloatingButton();
            } catch (e) { this.showBanner(); }
        } else {
            setTimeout(() => this.showBanner(), 1500);
        }
        this.updateCheckboxes();
    },
    
    showBanner() {
        const banner = document.getElementById('cookieBanner');
        if (banner) { banner.classList.add('visible'); banner.classList.remove('hidden'); }
    },
    
    hideBanner() {
        const banner = document.getElementById('cookieBanner');
        if (banner) { banner.classList.remove('visible'); banner.classList.add('hidden'); }
    },
    
    showSettings(e) {
        if (e) e.stopPropagation();
        const overlay = document.getElementById('cookieModalOverlay');
        if (overlay) { overlay.classList.add('visible'); document.body.style.overflow = 'hidden'; }
        this.updateCheckboxes();
    },
    
    hideSettings(e) {
        if (e && e.target !== e.currentTarget) return;
        const overlay = document.getElementById('cookieModalOverlay');
        if (overlay) { overlay.classList.remove('visible'); document.body.style.overflow = ''; }
    },
    
    showFloatingButton() {
        const btn = document.getElementById('cookieSettingsFloat');
        if (btn) setTimeout(() => btn.classList.add('visible'), 500);
    },
    
    updateCheckboxes() {
        const a = document.getElementById('cookieAnalytics');
        const f = document.getElementById('cookieFunctional');
        const m = document.getElementById('cookieMarketing');
        if (a) a.checked = this.preferences.analytics;
        if (f) f.checked = this.preferences.functional;
        if (m) m.checked = this.preferences.marketing;
    },
    
    readCheckboxes() {
        const a = document.getElementById('cookieAnalytics');
        const f = document.getElementById('cookieFunctional');
        const m = document.getElementById('cookieMarketing');
        this.preferences.analytics = a ? a.checked : false;
        this.preferences.functional = f ? f.checked : false;
        this.preferences.marketing = m ? m.checked : false;
    },
    
    acceptAll() {
        this.preferences = { essential: true, analytics: true, functional: true, marketing: true };
        this.saveAndApply();
    },
    
    rejectAll() {
        this.preferences = { essential: true, analytics: false, functional: false, marketing: false };
        this.saveAndApply();
    },
    
    acceptSelected() {
        this.readCheckboxes();
        this.saveAndApply();
    },
    
    saveAndApply() {
        this.setCookie(this.cookieName, JSON.stringify(this.preferences), this.cookieExpiry);
        this.applyPreferences();
        this.hideBanner();
        this.hideSettings();
        this.showFloatingButton();
        window.dispatchEvent(new CustomEvent('cookieConsentUpdated', { detail: this.preferences }));
    },
    
    applyPreferences() {
        if (this.preferences.analytics) {
            console.log('Analytics enabled');
        }
        if (this.preferences.functional) {
            document.body.classList.add('functional-cookies-enabled');
        } else {
            document.body.classList.remove('functional-cookies-enabled');
        }
    },
    
    setCookie(name, value, days) {
        const expires = new Date();
        expires.setTime(expires.getTime() + days * 24 * 60 * 60 * 1000);
        document.cookie = `${name}=${encodeURIComponent(value)};expires=${expires.toUTCString()};path=/;SameSite=Lax;Secure`;
    },
    
    getCookie(name) {
        const nameEQ = name + '=';
        const ca = document.cookie.split(';');
        for (let i = 0; i < ca.length; i++) {
            let c = ca[i].trim();
            if (c.indexOf(nameEQ) === 0) return decodeURIComponent(c.substring(nameEQ.length));
        }
        return null;
    },
    
    isEnabled(category) { return this.preferences[category] === true; }
};

// Initialize cookie consent
if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', () => CookieConsent.init());
} else {
    CookieConsent.init();
}
</script>

</body>
</html>
